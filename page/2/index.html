<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>此梅的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="热爱技术，热爱生活">
<meta property="og:type" content="website">
<meta property="og:title" content="此梅的博客">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="此梅的博客">
<meta property="og:description" content="热爱技术，热爱生活">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="此梅的博客">
<meta name="twitter:description" content="热爱技术，热爱生活">
  
    <link rel="alternate" href="/atom.xml" title="此梅的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">此梅的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-es6_2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/25/es6_2/" class="article-date">
  <time datetime="2018-11-25T08:28:39.000Z" itemprop="datePublished">2018-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ES6/">ES6</a>►<a class="article-category-link" href="/categories/ES6/ES6基础知识笔记2/">ES6基础知识笔记2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/25/es6_2/">ES6笔记2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一-ES6对象的扩展"><a href="#一-ES6对象的扩展" class="headerlink" title="一.ES6对象的扩展"></a>一.ES6对象的扩展</h1><h2 id="1-1-新的对象字面量特性"><a href="#1-1-新的对象字面量特性" class="headerlink" title="1.1 新的对象字面量特性"></a>1.1 新的对象字面量特性</h2><h3 id="1-1-1-方法的定义"><a href="#1-1-1-方法的定义" class="headerlink" title="1.1.1 方法的定义"></a>1.1.1 方法的定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">    a:2,</span><br><span class="line">    say:function()&#123;</span><br><span class="line">        console.log(&quot;hhh&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.say();</span><br><span class="line"></span><br><span class="line">可以简写成</span><br><span class="line">var obj = &#123;</span><br><span class="line">    a:2,</span><br><span class="line">    say()&#123;//这里省略</span><br><span class="line">        console.log(&quot;hhh&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">     eat:() =&gt;console.log(this.a),//箭头函数只是缺了个function，不能把 ：省略了。此时其this是window，而不是obj，window中没有a,所以结果是undefined。</span><br><span class="line">&#125;</span><br><span class="line">obj.say();</span><br></pre></td></tr></table></figure>
<h3 id="1-1-2-属性的简写"><a href="#1-1-2-属性的简写" class="headerlink" title="1.1.2 属性的简写"></a>1.1.2 属性的简写</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">变量名和属性名一直，就可以简写。</span><br><span class="line"><span class="keyword">let</span> name =<span class="string">"nan"</span>;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        name:name,</span><br><span class="line">        age:<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">只要形式一样就可以简写。     </span><br><span class="line"> <span class="keyword">let</span> name =<span class="string">"nan"</span>;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        name，</span><br><span class="line">        age:<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> c = <span class="number">3</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj);</span><br><span class="line">&#125;</span><br><span class="line">f(&#123;a,b,c&#125;);<span class="comment">//等价 f(&#123;a :a,b : b,c : c&#125;);</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-3-计算属性名"><a href="#1-1-3-计算属性名" class="headerlink" title="1.1.3 计算属性名"></a>1.1.3 计算属性名</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">之前访问变量的方法</span><br><span class="line"><span class="number">1.</span>对象.的形式</span><br><span class="line"><span class="number">2.</span>对象[<span class="string">""</span>]的形式</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a:<span class="number">2</span>,<span class="comment">//属性名就是一个字符串。</span></span><br><span class="line">    b()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(obj.a);</span><br><span class="line">        <span class="built_in">console</span>.log(obj[<span class="string">"a"</span>]);<span class="comment">//obj[a]这样取的是变量a，只能通过字符串去取一个属性</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">obj.b();</span><br><span class="line">输出结果：<span class="number">2</span>，<span class="number">2</span></span><br><span class="line"><span class="comment">//缺点：</span></span><br><span class="line">    <span class="keyword">let</span> a =<span class="string">"name"</span>;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        [a]:<span class="number">2</span>,<span class="comment">//这里a就是一个变量，不仅仅是个字符串，可以是个变量。也可以拼接 [a+1]:2 输出结果即使name1 :2</span></span><br><span class="line">        b()&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(obj);<span class="comment">//Objectb: ƒ b() name: 2</span></span><br><span class="line">            <span class="built_in">console</span>.log(obj[a]);<span class="comment">//2</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-2-新的对象方法"><a href="#1-2-新的对象方法" class="headerlink" title="1.2 新的对象方法"></a>1.2 新的对象方法</h2><h3 id="1-2-1-Object-is"><a href="#1-2-1-Object-is" class="headerlink" title="1.2.1 Object.is"></a>1.2.1 Object.is</h3><p>与===的不同点</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">NaN</span>的处理不一样</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === <span class="literal">NaN</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>,<span class="literal">NaN</span>));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="number">-0</span>和+<span class="number">0</span>的处理不一样</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">-0</span> === +<span class="number">0</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">-0</span>,+<span class="number">0</span>));<span class="comment">// false </span></span><br><span class="line">在处理科学计算和精确计算的时候 <span class="built_in">Object</span>.is(<span class="number">-0</span>,+<span class="number">0</span>)会起到很大的作用</span><br><span class="line">例如： <span class="built_in">console</span>.log(<span class="number">1</span>/+<span class="number">0</span>);<span class="comment">//Infinity</span></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="number">1</span>/<span class="number">-0</span>);<span class="comment">//-Infinity</span></span><br></pre></td></tr></table></figure>
<p>NaN工具方法的实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a !== a)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b !== b)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;     </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">s = f(<span class="literal">NaN</span>,<span class="literal">NaN</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s); <span class="comment">//true</span></span><br><span class="line">s = f(<span class="number">1</span>,<span class="literal">NaN</span>);<span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">可以写成</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a !== a)&#123;</span><br><span class="line">      <span class="keyword">return</span> b !== b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">s = f(<span class="literal">NaN</span>,<span class="literal">NaN</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s); <span class="comment">//true</span></span><br><span class="line">s = f(<span class="number">1</span>,<span class="literal">NaN</span>);<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br></pre></td></tr></table></figure>
<p>+0 和 -0的写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( a === b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">1</span>/a !== <span class="number">1</span>/b)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">s = f(+<span class="number">0</span>,<span class="number">-0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( a === b)&#123;</span><br><span class="line">        <span class="keyword">return</span> !(<span class="number">1</span>/a !== <span class="number">1</span>/b)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">s = f(+<span class="number">0</span>,<span class="number">-0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//false</span></span><br><span class="line">s = f(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<h3 id="1-2-2-Object-setPrototypeOf"><a href="#1-2-2-Object-setPrototypeOf" class="headerlink" title="1.2.2 Object.setPrototypeOf"></a>1.2.2 Object.setPrototypeOf</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    c : <span class="number">3</span>,</span><br><span class="line">    d : <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(obj,obj2);<span class="comment">//把obj的原型给 obj2，也就是在obj的原型上添加obj2。那obj原型上就有obj2这个对象。</span></span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//</span></span><br><span class="line">输出结果是</span><br><span class="line"><span class="built_in">Object</span></span><br><span class="line"> a: <span class="number">1</span></span><br><span class="line"> b: <span class="number">2</span></span><br><span class="line"> __proto__:</span><br><span class="line">  c: <span class="number">3</span></span><br><span class="line">  d: <span class="number">4</span></span><br><span class="line">  __proto__</span><br><span class="line">        </span><br><span class="line">之前设置原型的方法</span><br><span class="line"> obj.__proto__ =obj2;</span><br><span class="line"></span><br><span class="line">两者之间的区别</span><br><span class="line">__proto__是内置属性，为什么可以使用，制定标准的是es6，但是执行的是浏览器</span><br><span class="line">另一种方法：写在ES6标准中的，缺陷不能再次设置对象原型。</span><br><span class="line">obj = <span class="built_in">Object</span>.create(obj2);<span class="comment">//把onj2添加到obj的原型上。</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.c);<span class="comment">//也可以打印出3</span></span><br><span class="line"></span><br><span class="line">如何获取原型属性</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(obj));<span class="comment">//得到obj这个对象</span></span><br></pre></td></tr></table></figure>
<h3 id="1-2-3-Object-assign"><a href="#1-2-3-Object-assign" class="headerlink" title="1.2.3 Object.assign"></a>1.2.3 Object.assign</h3><p>合并对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign(想合并到的对象，被合并对象，被合并对象，...)可以由无数个被合并对象</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    c : <span class="number">3</span>,</span><br><span class="line">    d : <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.assign(obj,obj2);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line">打印出的结果是：<span class="built_in">Object</span></span><br><span class="line">     a: <span class="number">1</span></span><br><span class="line">     b: <span class="number">2</span></span><br><span class="line">     c: <span class="number">3</span></span><br><span class="line">     d: <span class="number">4</span></span><br><span class="line">     __proto__: <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<p>注意对象：复制对象属性（先在自身上去找，没有的话再去原型上找）</p>
<p>   要自身的可遍历的属性，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(obj2,<span class="string">"e"</span>,&#123;</span><br><span class="line">   value : <span class="number">5</span>,</span><br><span class="line">   enumerable : <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(obj2);<span class="comment">//c: 3 d: 4 e: 5 __proto__: Object</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(obj,obj2));<span class="comment">//a: 1 b: 2 c: 3 d: 4 __proto__: Object</span></span><br><span class="line">这里打印的就没有<span class="number">5</span>，因为设置的是不可以遍历的属性，必须是自身可遍历的属性才能复制到上面去。</span><br></pre></td></tr></table></figure>
<p>注意2：复制是一个对象一个对象复制的(如果是相同的属性，后面的会把前面的给覆盖了)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    c : <span class="number">3</span>,</span><br><span class="line">    d : <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj3 = &#123;</span><br><span class="line">    c: <span class="number">8</span>,</span><br><span class="line">    d:<span class="number">9</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj4 = &#123;</span><br><span class="line">    c: <span class="number">10</span>,</span><br><span class="line">    d:<span class="number">90</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(obj,obj2,obj3));<span class="comment">//</span></span><br><span class="line"><span class="built_in">Object</span> a: <span class="number">1</span> b: <span class="number">2</span> c: <span class="number">8</span> d: <span class="number">9</span> __proto__: <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<p>注意点3：复制的时候是浅拷贝</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    c : [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">    d : <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(obj,obj2));</span><br><span class="line">obj2.c.push(<span class="number">7</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line">两个输出结果都是</span><br><span class="line"><span class="comment">//Object</span></span><br><span class="line">a: <span class="number">1</span></span><br><span class="line">b: <span class="number">2</span></span><br><span class="line">c: (<span class="number">5</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>]</span><br><span class="line">d: <span class="number">4</span></span><br><span class="line">__proto__: <span class="built_in">Object</span></span><br><span class="line">发现有我们push进去的那个值，说明就是浅拷贝。说明复制的仅仅是引用值。</span><br></pre></td></tr></table></figure>
<p><strong>函数使用的场景</strong> </p>
<p>场景一：对象复制(是浅拷贝)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj =&#123;</span><br><span class="line">    a:<span class="number">2</span>,</span><br><span class="line">    b:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(&#123;&#125;,obj));</span><br><span class="line"><span class="comment">//Object a: 2 b: 3 __proto__: Object</span></span><br></pre></td></tr></table></figure>
<p>场景二： 原型方法的添加</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.assign(Person.prototype,&#123;</span><br><span class="line">    init()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hhh"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    end()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"kkk"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype);</span><br><span class="line"><span class="comment">//Object</span></span><br><span class="line">end: ƒ end()</span><br><span class="line">init: ƒ init()</span><br><span class="line"><span class="keyword">constructor</span>: ƒ Person(name,age)</span><br><span class="line">__proto__: Object</span><br></pre></td></tr></table></figure>
<p>场景三：函数默认参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> DEFA = &#123;<span class="attr">a</span>:<span class="number">2</span>,<span class="attr">b</span>:<span class="number">3</span>&#125;;<span class="comment">//默认值</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> s = <span class="built_in">Object</span>.assign(&#123;&#125;,DEFA,value);</span><br><span class="line">    <span class="built_in">console</span>.log(s);</span><br><span class="line"> &#125;</span><br><span class="line"> f(&#123;<span class="attr">a</span>:<span class="number">5</span>&#125;);<span class="comment">//如果此处严格为undefined就会使用默认值</span></span><br><span class="line">打印的值是 <span class="built_in">Object</span> a: <span class="number">5</span> b: <span class="number">3</span> __proto__: <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<h2 id="1-3-对象的遍历"><a href="#1-3-对象的遍历" class="headerlink" title="1.3 对象的遍历"></a>1.3 对象的遍历</h2><h3 id="1-3-1-Object-keys"><a href="#1-3-1-Object-keys" class="headerlink" title="1.3.1 Object.keys"></a>1.3.1 Object.keys</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">遍历出来对象的属性名</span><br><span class="line">     <span class="keyword">let</span> obj = &#123;</span><br><span class="line">            a:<span class="number">1</span>,</span><br><span class="line">            b:<span class="number">2</span>,</span><br><span class="line">            c:<span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="built_in">Object</span>.keys(obj));</span><br><span class="line"><span class="comment">//返回的是数组 Array(3)</span></span><br><span class="line">    <span class="number">0</span>: <span class="string">"a"</span></span><br><span class="line">                <span class="number">1</span>: <span class="string">"b"</span></span><br><span class="line">                <span class="number">2</span>: <span class="string">"c"</span> </span><br><span class="line">                length: <span class="number">3</span></span><br><span class="line">                __proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h3 id="1-3-2-Object-values-es2017"><a href="#1-3-2-Object-values-es2017" class="headerlink" title="1.3.2 Object.values(es2017)"></a>1.3.2 Object.values(es2017)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">遍历出来对象的属性值</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span>,</span><br><span class="line">    c:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="built_in">Object</span>.values(obj));</span><br><span class="line"><span class="comment">//Array(3) 0: 1 1: 2 2: 3 length: 3 __proto__: Array(0)</span></span><br></pre></td></tr></table></figure>
<h3 id="1-3-3-Object-entries-es2017"><a href="#1-3-3-Object-entries-es2017" class="headerlink" title="1.3.3 Object.entries(es2017)"></a>1.3.3 Object.entries(es2017)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">遍历出来键对值</span><br><span class="line">        <span class="keyword">let</span> obj = &#123;</span><br><span class="line">            a:<span class="number">1</span>,</span><br><span class="line">            b:<span class="number">2</span>,</span><br><span class="line">            c:<span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="built_in">Object</span>.entries(obj));</span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>) <span class="number">0</span>: [<span class="string">"a"</span>, <span class="number">1</span>] <span class="number">1</span>: [<span class="string">"b"</span>, <span class="number">2</span>] <span class="number">2</span>: [<span class="string">"c"</span>, <span class="number">3</span>] length: <span class="number">3</span> __proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h1 id="二-类的基础使用语法"><a href="#二-类的基础使用语法" class="headerlink" title="二 类的基础使用语法"></a>二 类的基础使用语法</h1><img src="/2018/11/25/es6_2/es1.png">
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">左侧两个是类，右面两个是对象。</span><br><span class="line">这是java基于类的表达：会把类里面的东西 直接复制给对象</span><br><span class="line">java中类是一个真实的东西</span><br></pre></td></tr></table></figure>
<img src="/2018/11/25/es6_2/es2.png">
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JavaScript的核心思想是：连接，其实就是实例对象与原型直接的连接关系。只是连接的匹配。</span><br></pre></td></tr></table></figure>
<h2 id="2-1-ES6中的仿类结构"><a href="#2-1-ES6中的仿类结构" class="headerlink" title="2.1 ES6中的仿类结构"></a>2.1 ES6中的仿类结构</h2><h3 id="2-1-1-ES5中的构造器（自定义类型）"><a href="#2-1-1-ES5中的构造器（自定义类型）" class="headerlink" title="2.1.1 ES5中的构造器（自定义类型）"></a>2.1.1 ES5中的构造器（自定义类型）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.bark = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`你好，我叫<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"kkkk"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> per = <span class="keyword">new</span> Person(<span class="string">"renzhi"</span>,<span class="number">34</span>);</span><br><span class="line">    per.bark();</span><br><span class="line">    per.say();</span><br><span class="line">输出：你好，我叫renzhi</span><br><span class="line"> <span class="number">19</span> kkkk</span><br></pre></td></tr></table></figure>
<h3 id="2-1-2-ES6中"><a href="#2-1-2-ES6中" class="headerlink" title="2.1.2 ES6中"></a>2.1.2 ES6中</h3><p><strong>类的声明：基本的类声明</strong></p>
<ol>
<li>类声明以class关键字开始 然后是类的名字  </li>
<li>剩余部分像是对象字面量的简写</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">            <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">                <span class="keyword">this</span>.name = name;</span><br><span class="line">                <span class="keyword">this</span>.age = age;</span><br><span class="line">            &#125;<span class="comment">//一定记着没有逗号的</span></span><br><span class="line">            bark()&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`我叫做<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            eat()&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">"chifanla"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> per1 = <span class="keyword">new</span> Person(<span class="string">"lili"</span>,<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">const</span> per2 = <span class="keyword">new</span> Person(<span class="string">"hh"</span>,<span class="number">34</span>);</span><br><span class="line">        per1.bark();</span><br><span class="line">        per1.eat();</span><br><span class="line">        per2.bark();</span><br><span class="line">        per2.eat();</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> Person)；</span><br><span class="line">        <span class="built_in">console</span>.log(Person.prototype);</span><br><span class="line">打印的结果是： 我叫做lili</span><br><span class="line">    chifanla</span><br><span class="line">    我叫做hh</span><br><span class="line">    chifanla</span><br><span class="line">   <span class="function"><span class="keyword">function</span>//<span class="title">typeof</span> <span class="title">Person</span> 本质上还是一个函数。</span></span><br><span class="line"><span class="function">            <span class="title">Object</span></span></span><br><span class="line"><span class="function">                <span class="title">bark</span>: ƒ <span class="title">bark</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">                <span class="title">constructor</span>: <span class="title">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="function">                <span class="title">eat</span>: ƒ <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">                <span class="title">__proto__</span>: <span class="title">Object</span></span></span><br></pre></td></tr></table></figure>
<p><strong>类语法注意事项</strong></p>
<ol>
<li>类声明不会被提升</li>
<li>类声明中的代码都自动运行在严格模式下</li>
<li>调用类必须使用new                                                                                                  </li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age =age;</span><br><span class="line">    &#125;</span><br><span class="line">    bark()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`我今天很不开心<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    eat()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`我今年<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dog1 = <span class="keyword">new</span> Dog(<span class="string">"lili"</span>,<span class="number">19</span>);</span><br><span class="line">dog2 = Dog(<span class="string">"li"</span>,<span class="number">24</span>);<span class="comment">//报错，没有使用new来声明。</span></span><br><span class="line">dog.bark();</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>类中所有的方法都是不可枚举的</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">不可以被遍历出来</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> per1)&#123;<span class="comment">//例子在上面</span></span><br><span class="line">    <span class="built_in">console</span>.log(prop);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//只能打印出 name age 不可以遍历出来方法，而bark和eat方法没有打印出来。</span></span><br></pre></td></tr></table></figure>
<ol start="5">
<li><p>类中的方法是不能用new调用的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> per1.bark();<span class="comment">//这是不允许的，正常方法是可以的，但是定义在class里面的是不可以的。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在类的方法中重写类名报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在类里面，类名是个常量不可以被更改，</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>如何实现以上的特点（使用的是ES5的方法）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">首先应该是封装好的一种语法，应该立即使用立即执行函数去构建一个封闭的作用域，使外界无法访问里面的作用域。</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Dog = ( <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> Dog = <span class="function"><span class="keyword">function</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(! <span class="keyword">this</span> <span class="keyword">instanceof</span> Dog)&#123;<span class="comment">//实例对象不是Dog的时候就抛出错误</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"使用new调用"</span>);</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(Dog.prototype,<span class="string">'bark'</span>,&#123;</span><br><span class="line">        value :<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> Dog.prototype.bark)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"不能使用new调用"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`你真的叫<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        enumerable:<span class="literal">false</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> Dog;<span class="comment">//这里必须return  相当于暴露出去，否则无法外面无法调用。</span></span><br><span class="line"></span><br><span class="line">&#125; ());</span><br><span class="line"> <span class="keyword">let</span> s = <span class="keyword">new</span> Dog(<span class="string">"hh"</span>,<span class="number">18</span>);</span><br><span class="line">    s.bark();</span><br><span class="line">    <span class="keyword">new</span> s.bark();<span class="comment">//这里会报错的 不可以使用new来调用方法</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> s)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(prop);<span class="comment">//方法是不可以枚举的  所以只要name和age</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>类表达式 </strong>(就不是声明了)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  Cat = <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;   </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> xiao = <span class="keyword">new</span> Cat(<span class="number">10</span>);<span class="comment">//输出10</span></span><br></pre></td></tr></table></figure>
<p><strong>类是一等公民</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">可以作为参数传给函数</span><br><span class="line">能作为函数返回值</span><br><span class="line">能给变量赋值</span><br></pre></td></tr></table></figure>
<p><strong>静态成员</strong></p>
<p>通过构造函数点的形式调用的方法就是静态方法。<br>内置函数上都有静态方法。所有的东西都是对象<br>可以把静态方法写在当前的class里面。（static）<br>为了区分与原型方法区分。<br>使用static进行区分</p>
<p>getter 和 setter<br>setter设置属性，getter获取属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">例如： get info()&#123;</span><br><span class="line">          return &apos;hhh&apos;;</span><br><span class="line">   &#125;</span><br><span class="line">    set hi(value)&#123;//设置属性</span><br><span class="line">           this.name = value；</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="三-类的继承"><a href="#三-类的继承" class="headerlink" title="三 类的继承"></a>三 类的继承</h1><h2 id="3-1-ES5中的仿类结构的继承"><a href="#3-1-ES5中的仿类结构的继承" class="headerlink" title="3.1 ES5中的仿类结构的继承"></a>3.1 ES5中的仿类结构的继承</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Person的构造函数</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//Person的原型对象上的方法</span></span><br><span class="line">        Person.prototype.play = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'打球'</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//Subject的构造函数</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">Subject</span>(<span class="params">age</span>)</span>&#123;</span><br><span class="line">            Person.call(<span class="keyword">this</span>,name);<span class="comment">//通过使用call调用Person构造函数中的属性</span></span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//Subject的原型，指向了Person的原型上</span></span><br><span class="line">        Subject.prototype = Person.prototype;</span><br><span class="line"><span class="comment">//Subject的原型对象上的方法</span></span><br><span class="line">         Subject.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'今天吃饺子'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> sub1 = <span class="keyword">new</span> Person(<span class="string">'cimei'</span>);</span><br><span class="line">        <span class="keyword">var</span> sub2 = <span class="keyword">new</span> Subject(<span class="string">'cimei'</span>,<span class="number">18</span>);</span><br><span class="line">        sub2.play();<span class="comment">//打球</span></span><br><span class="line">        sub2.eat();<span class="comment">//今天吃饺子啦</span></span><br><span class="line"> <span class="built_in">console</span>.log(Subject.prototype.constructor)<span class="comment">//输出的是Person，而不是Subject</span></span><br></pre></td></tr></table></figure>
<p>以上方法是可以实现继承，但是Subject在更改prototype的时候，丢失了自己的构造函数。此时指向了Person</p>
<p>解决办法：可以在更改原型的时候，设置一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Subject.prototype.constructor = Subject;</span><br></pre></td></tr></table></figure>
<p>但是由于Subject.prototype = Person.prototype;所以导致Person的constructor也会指向Subject</p>
<p>最终的解决方案 ：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Subject的原型，指向新创建的Person的原型上，自身找不到的时候，在其原型上找，原型上是个空对象也没有，再继续向上找，就会找到Person上，所以设置一下Subject的原型，这样的话，在其原型上找不到就不会继续向上找了。</span></span><br><span class="line">        <span class="comment">// Subject.prototype = Person.prototype;</span></span><br><span class="line">        Subject.prototype = <span class="built_in">Object</span>.create(Person.prototype)</span><br><span class="line"></span><br><span class="line">        Subject.prototype.constructor = Subject;</span><br></pre></td></tr></table></figure>
<h2 id="3-2-ES6中class继承"><a href="#3-2-ES6中class继承" class="headerlink" title="3.2 ES6中class继承"></a>3.2 ES6中class继承</h2><h3 id="3-1-1-extends"><a href="#3-1-1-extends" class="headerlink" title="3.1.1 extends"></a>3.1.1 extends</h3><pre><code>复制父级的类
</code></pre><h3 id="3-1-2-super的使用"><a href="#3-1-2-super的使用" class="headerlink" title="3.1.2 super的使用"></a>3.1.2 super的使用</h3><p>子类调用父类，如果想用其构造函数中的属性，必须使用super(),才可以使用其this。并传一些参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> (name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    play()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'打球'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    eat()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'面包'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> Info()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'我是一个静态方法'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Subject</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);<span class="comment">//调用父级的东西需要传值</span></span><br><span class="line">    <span class="comment">//子类必须要借助父类才有this指向 ，首先获取父类的一些属性再加上子类的属性</span></span><br><span class="line">        <span class="keyword">this</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> sub1 = <span class="keyword">new</span> Subject(<span class="string">'cimei'</span>,<span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log( sub1.name);</span><br></pre></td></tr></table></figure>
<h2 id="3-2-静态方法的继承"><a href="#3-2-静态方法的继承" class="headerlink" title="3.2 静态方法的继承"></a>3.2 静态方法的继承</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">上述可以通过Subject.Info()调用这个方法</span><br></pre></td></tr></table></figure>
<h2 id="3-3-继承内置构造函数"><a href="#3-3-继承内置构造函数" class="headerlink" title="3.3 继承内置构造函数"></a>3.3 继承内置构造函数</h2><p>extends的常用方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">moviesAll</span> <span class="keyword">extends</span> <span class="title">Array</span></span>&#123;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">constructor</span>(name,...movies)&#123;<span class="comment">//以数组的形式传入</span></span><br><span class="line">        <span class="keyword">super</span>(...movies)<span class="comment">//拆开数组，继承每一个</span></span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    add(movie)&#123;</span><br><span class="line">        <span class="keyword">this</span>.push(movie);</span><br><span class="line">    &#125;</span><br><span class="line">    topStar(num)&#123;</span><br><span class="line">     <span class="keyword">return</span>  <span class="keyword">this</span>.sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;<span class="keyword">return</span> a.star &gt; b.star ? <span class="number">-1</span> : <span class="number">1</span>&#125;).slice(<span class="number">0</span>,num);<span class="comment">//排序后返回</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> movies = <span class="keyword">new</span> moviesAll(<span class="string">'我最喜欢看的几个电影'</span>,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'你好'</span>, <span class="attr">star</span>:<span class="number">8</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'7号病房的礼物'</span>,<span class="attr">star</span>:<span class="number">10</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'未知死亡'</span>,<span class="attr">star</span>:<span class="number">9.8</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'战狼'</span>,<span class="attr">star</span>:<span class="number">6</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'李茶的姑妈'</span>,<span class="attr">star</span>:<span class="number">7</span>&#125;,</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="四-模块化"><a href="#四-模块化" class="headerlink" title="四 模块化"></a>四 模块化</h1><h2 id="4-1-浅谈模块化"><a href="#4-1-浅谈模块化" class="headerlink" title="4.1 浅谈模块化"></a>4.1 浅谈模块化</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Css @import</span><br><span class="line">es5标准之前是没有模块化</span><br><span class="line">自己造 蛮荒时代 百家争鸣</span><br></pre></td></tr></table></figure>
<h3 id="4-1-1-立即执行函数存在的问题"><a href="#4-1-1-立即执行函数存在的问题" class="headerlink" title="4.1.1 立即执行函数存在的问题"></a>4.1.1 立即执行函数存在的问题</h3><p><strong>第一个问题</strong>：没有完全解决全局变量污染</p>
<p>ES5中会造成污染，使用立即执行函数解决这个问题，封装在自己的作用域内。如果想让外界使用的话，就暴露出来，使用window.函数  = 函数。</p>
<p>而以上方法只是解决了一点点这个问题，另外的js文件也是可以访问被暴露出来的函数，那为什么说解决了一点点呢？因为立即执行函数中有一些内置函数是没有暴露出来的，所以，外部不可以访问。所以这种污染全局变量的问题并没有完全解决。</p>
<p><strong>第二个问题</strong>：我们需要考虑script加载顺序</p>
<p>依赖js文件的加载顺序，上面的js文件中访问不到下面js文件中的函数 。</p>
<p>举例说明：在node 中 每个js文本都是独立的作用域。</p>
<p>如何使用呢?</p>
<p>暴露出来函数：使用module.exports = {函数名//比如add}，</p>
<p>想用的话，要引入</p>
<p>var add = require(“add.js”)</p>
<h3 id="4-1-2-模块化基本语法"><a href="#4-1-2-模块化基本语法" class="headerlink" title="4.1.2 模块化基本语法"></a>4.1.2 模块化基本语法</h3><p>es6当中知道定义了语法,但是没有定义我们的加载方式。(各个浏览器可能有兼容问题)</p>
<p><strong>导出 export</strong></p>
<p><strong>导入 import</strong></p>
<h2 id="4-2-加载模块"><a href="#4-2-加载模块" class="headerlink" title="4.2 加载模块"></a>4.2 加载模块</h2><h1 id="五-ES6对数组的扩展（集合）"><a href="#五-ES6对数组的扩展（集合）" class="headerlink" title="五.ES6对数组的扩展（集合）"></a>五.ES6对数组的扩展（集合）</h1><h2 id="5-1-增强的数组功能"><a href="#5-1-增强的数组功能" class="headerlink" title="5.1 增强的数组功能"></a>5.1 增强的数组功能</h2><h3 id="5-1-1-创建数组"><a href="#5-1-1-创建数组" class="headerlink" title="5.1.1 创建数组"></a>5.1.1 创建数组</h3><p><strong>Array.of</strong></p>
<p>这个方法是定义在Array上的，所以只能通过Array点的形式来调用。</p>
<p>之前创建数组的两种方式：</p>
<p>1.字面量形式的 arr = [1,2,3,4];</p>
<p>2.通过new一个构造函数创建 arr = new Array(1,2,3,4);</p>
<p>为什么要新增创建数组的形式呢？</p>
<p> arr = new Array(10);加入这里面只传入一个参数，这个参数是长度，而不是元素。表示10个空的元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//输出是长度为10的空数组</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Array</span>.of(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//输出的是长度为1，元素为3的数组。</span></span><br></pre></td></tr></table></figure>
<p><strong>Array.from</strong>（推荐）</p>
<p>第一种用法：DOM节点操作</p>
<p>主要作用是转化类数组，主要针对 DOM节点，和arguments</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oP = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);<span class="comment">//类数组，是个集合的形式</span></span><br><span class="line"><span class="keyword">let</span> oP = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);<span class="comment">//HTMLCollection(3) [p, p, p],是个集合，是没有map方法的，想使用的话，要将其转化为数组</span></span><br><span class="line">oP.map(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item.textCont;<span class="comment">//会报错，报错信息是oP.map不是一个函数</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.from(oP);使用</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> oP = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);</span><br><span class="line">        <span class="keyword">let</span> oParr = <span class="built_in">Array</span>.from(oP);</span><br><span class="line">        <span class="keyword">let</span> s = oParr.map(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> item.textContent;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">console</span>.log(s)；<span class="comment">//打印出的是p中的内容，以数组的形式</span></span><br></pre></td></tr></table></figure>
<p>Array.from(参数一，参数二);参数一是要转为数组的目标，参数二是一个回调函数，这个回调函数对转化完的数组进行相应的操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let oP = document.getElementsByTagName(&apos;p&apos;);</span><br><span class="line">    let oParr = Array.from(oP,(item)=&gt;&#123;</span><br><span class="line">        return item.textContent;</span><br><span class="line">    &#125;);</span><br><span class="line">在控制台，调用oParr //返回(3) [&quot;hh&quot;, &quot;kk&quot;, &quot;ll&quot;]</span><br></pre></td></tr></table></figure>
<p><strong>reduce方法</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">reduce（）;相当于一个函数累加器，接受一个回调函数的结果，然后将前一次的函数结果再和下一次的数据再次执行此回调函数.</span><br><span class="line"></span><br><span class="line">reduce(<span class="function"><span class="keyword">function</span>(<span class="params">previousValue,currentValue,index,array</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">　　<span class="keyword">return</span> xxx  <span class="comment">//需要执行的函数结果，</span></span><br><span class="line"></span><br><span class="line">　　previousValue---------上一次的值-</span><br><span class="line"></span><br><span class="line">    currentValue---------当前值</span><br><span class="line"></span><br><span class="line">    index------当前值的索引</span><br><span class="line"></span><br><span class="line">    array-------数组</span><br><span class="line"></span><br><span class="line">&#125;)；</span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a+b;&#125;);</span><br><span class="line">例如：</span><br><span class="line"><span class="keyword">var</span> flattened = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> a.concat(b);</span><br><span class="line">&#125;, []);</span><br><span class="line"><span class="comment">// flattened == [0, 1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">pre,cur</span>)</span>&#123;<span class="keyword">return</span> pre + cur&#125;); <span class="comment">// return 10</span></span><br></pre></td></tr></table></figure>
<p>与forEach方法和map方法实现的区别</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;sum += e;&#125;); <span class="comment">// sum = 10  just for demo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line">arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;sum += obj&#125;);<span class="comment">//return undefined array. sum = 10  just for demo</span></span><br></pre></td></tr></table></figure>
<p>第二个用法：arguments的使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>).reduce(<span class="function">(<span class="params">item,sum</span>)=&gt;</span>&#123;</span><br><span class="line">         <span class="keyword">return</span> sum += item;</span><br><span class="line">     &#125;,<span class="number">0</span>)<span class="comment">//这里传入sum的初始值0。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">6</span>));<span class="comment">//输出27</span></span><br></pre></td></tr></table></figure>
<p>第三种用法：数组浅拷贝上</p>
<p>首先回忆一下浅拷贝的方法（如果这里面写的是个对象的话，会把引用值赋值给两个数组）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">let</span> arr1 = arr.concat();</span><br><span class="line">    <span class="keyword">let</span> arr2 = arr.slice();</span><br><span class="line">    arr.push(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(arr);<span class="comment">//Array(5) 0: 1 1: 2 2: 3 3: 4 4: 5 length: 5__proto__: Array(0)</span></span><br><span class="line">    <span class="built_in">console</span>.log(arr1);<span class="comment">//Array(4) 0: 1 1: 2 2: 3 3: 4 length: 4__proto__: Array(0)</span></span><br><span class="line">    <span class="built_in">console</span>.log(arr2);<span class="comment">//Array(4)0: 1 1: 2 2: 3 3: 4 length: 4__proto__: Array(0)</span></span><br><span class="line">产生的是个新数组。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let arr4 = Array.from(arr);</span><br><span class="line">也是浅拷贝的一个方法</span><br></pre></td></tr></table></figure>
<h3 id="5-1-2-数组新方法"><a href="#5-1-2-数组新方法" class="headerlink" title="5.1.2 数组新方法"></a>5.1.2 数组新方法</h3><p><strong>find</strong>  查找数组有没有我们想要的东西，根据条件只找一个数据，找到后，立即返回，不会继续执行下面的代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> obj = [</span><br><span class="line">       &#123;</span><br><span class="line">           name:<span class="string">"lcm"</span>,</span><br><span class="line">           age:<span class="number">23</span></span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">           name:<span class="string">"zlk"</span>,</span><br><span class="line">           age:<span class="number">34</span></span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">           name: <span class="string">"kk"</span>,</span><br><span class="line">           age:<span class="number">13</span></span><br><span class="line">       &#125;</span><br><span class="line">   ];</span><br><span class="line">   <span class="built_in">console</span>.log(   obj.find(<span class="function">(<span class="params">item,index,obj</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(item,index,arr)//返回的是obj这个数组</span></span><br><span class="line">       <span class="keyword">return</span> item.name === <span class="string">"zlk"</span>;<span class="comment">//此处为true则返回当前数据，如果为false就继续向下执行。此处写判断条件。   如果有两个相同的值，当找到第一个的时候就不会继续向下执行。</span></span><br><span class="line">   &#125;))</span><br><span class="line">输出的是 <span class="built_in">Object</span>  age: <span class="number">34</span> name: <span class="string">"zlk"</span> __proto__: <span class="built_in">Object</span></span><br><span class="line"></span><br><span class="line">以上可以使用简写的方式</span><br><span class="line">一个语句大括号省掉，<span class="keyword">return</span>也要去掉</span><br><span class="line"><span class="built_in">console</span>.log( obj.filter(<span class="function">(<span class="params">item,index,arr</span>)=&gt;</span>item.name === <span class="string">"zlk"</span>))</span><br></pre></td></tr></table></figure>
<p>想要匹配所有的数据使用filter方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log( obj.filter(<span class="function">(<span class="params">item,index,arr</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(item,index,arr)</span></span><br><span class="line">    <span class="keyword">return</span> item.name === <span class="string">"zlk"</span>;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>
<p><strong>findIndex</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">和find的用法一致，不过返回的是索引。</span><br></pre></td></tr></table></figure>
<p><strong>fill</strong>  用来填充数据的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line">arr.fill(<span class="number">1</span>);<span class="comment">//此时输出arr就是长度为10，元素都为1的数组</span></span><br></pre></td></tr></table></figure>
<p>fill(填充值，填充起始位的索引，填充的的结束位索引) 这里要注意填充位的结束位只能到其前一位，比如是 5，那么只能填充到其索引位为4的位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let arr = new Array(10);</span><br><span class="line">arr.fill(1,4,8);//(10) [empty × 4, 1, 1, 1, 1, empty × 2]</span><br></pre></td></tr></table></figure>
<p><strong>copyWithin</strong></p>
<p>数组内部进行的复制，先选取一个区间，再进行平铺复制，会把之后的元素覆盖。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">copyWithin(要放到的位置，区间起始索引，区间结束索引)<span class="comment">//注意的是结束也是其前一位。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">arr.copyWithin(<span class="number">1</span>,<span class="number">4</span>,<span class="number">8</span>);<span class="comment">//(9) [1, 5, 6, 7, 8, 6, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>
<p><strong>some </strong></p>
<p>只要有一项满足条件，就会返回true</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">20</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">43</span>];</span><br><span class="line"><span class="built_in">console</span>.log(   arr.some(<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value &gt;=<span class="number">20</span>;</span><br><span class="line">&#125;))</span><br><span class="line">返回的是<span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p><strong>every</strong></p>
<p>every的使用和some的是一致的，但是必须每一项都要满足条件，才会返回true。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">20</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">43</span>];</span><br><span class="line"><span class="built_in">console</span>.log( arr.every(<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value &gt;=<span class="number">20</span>;</span><br><span class="line">&#125;))</span><br><span class="line">返回的是<span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p><strong>includes</strong>  和 String.prototype.includes<br>之前查找元素使用的是indexof ，查找某个元素，有的话返回1，没有的话返回-1</p>
<p>那么想让返回true呢？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="number">3</span>))<span class="comment">//返回的是个true</span></span><br><span class="line">使用这种方法<span class="literal">NaN</span>是相等的。</span><br><span class="line">而indexof是不相等的。</span><br><span class="line">—<span class="number">0</span>和+<span class="number">0</span>也是相等的，没有区分的。</span><br></pre></td></tr></table></figure>
<h1 id="六-迭代器-Iterator"><a href="#六-迭代器-Iterator" class="headerlink" title="六. 迭代器 Iterator"></a>六. 迭代器 Iterator</h1><p>以上方法没有关于数组循环的方法，不是因为没有这个方法。</p>
<p>而是因为新增了迭代器，是个统一的接口。</p>
<h2 id="6-1-以前for循环的缺陷"><a href="#6-1-以前for循环的缺陷" class="headerlink" title="6.1 以前for循环的缺陷"></a>6.1 以前for循环的缺陷</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">let</span> colors = [<span class="string">'yellow'</span>,<span class="string">'blue'</span>,<span class="string">'red'</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; colors.length; i++)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(colors[i]);</span><br><span class="line">            <span class="keyword">if</span>(colors[i] == <span class="string">'yellow'</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">缺点一</span><br><span class="line"><span class="comment">//1.对于初学者，理解方面比较差，为什么要循环索引呢？不通过数组直接获取元素呢</span></span><br><span class="line"><span class="comment">//2.这个i变量不好管理。里面如果再嵌套一个循环，使用j，写着写着就串了。如何解决这个问题呢?</span></span><br><span class="line">forEach  和map 方法。</span><br><span class="line"><span class="keyword">let</span> colors = [<span class="string">'yellow'</span>,<span class="string">'blue'</span>,<span class="string">'red'</span>];</span><br><span class="line">colors.forEach(<span class="function">(<span class="params">item,index,arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item);</span><br><span class="line">    <span class="keyword">if</span>(item == <span class="string">'yellow'</span>)&#123;<span class="comment">//会报错</span></span><br><span class="line">                <span class="keyword">break</span>;<span class="comment">//不可以有任何的中断。continue也不好使</span></span><br><span class="line">            &#125;</span><br><span class="line">&#125;);</span><br><span class="line">以上是可以解决循环问题了，但是还存在问题。</span><br><span class="line"></span><br><span class="line">缺点二：</span><br><span class="line">不能跳出此次循环！！！<span class="keyword">for</span>循环可以</span><br><span class="line">如果取到目标值，还要继续执行函数。</span><br><span class="line"></span><br><span class="line">缺点三：可以循环出来，不是我们当前索引的值。方法也可以索引出来。</span><br><span class="line"><span class="keyword">for</span>...in ...循环 <span class="comment">//缺陷是 会把我们不想要的新方法也遍历出来，只想要数组中的索引值遍历出来。</span></span><br><span class="line">     colors.sex = <span class="string">"male"</span>;<span class="comment">//添加的新方法</span></span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> colors)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(colors[prop]);</span><br><span class="line">        &#125;<span class="comment">//循环出来的prop是索引值。</span></span><br></pre></td></tr></table></figure>
<h2 id="6-2-迭代器的实现原理（仿写）"><a href="#6-2-迭代器的实现原理（仿写）" class="headerlink" title="6.2 迭代器的实现原理（仿写）"></a>6.2 迭代器的实现原理（仿写）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">迭代器是什么？ 统一的接口</span><br><span class="line"></span><br><span class="line">它是一个对象</span><br><span class="line"></span><br><span class="line">对象里面有next方法</span><br><span class="line"></span><br><span class="line">每次调用这个方法就会输出数据结构的的成员</span><br><span class="line"></span><br><span class="line">第一次输出第一个成员，第二次输出第二个，已此类推</span><br><span class="line"></span><br><span class="line">输出成员的形式为&#123;value:值,done:true/false&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">'yellow'</span>,<span class="string">'blue'</span>,<span class="string">'red'</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createIterator</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        next()&#123;</span><br><span class="line">            <span class="keyword">return</span>  index &lt; arr.length ? &#123;<span class="attr">value</span>: arr[index++], <span class="attr">done</span>:<span class="literal">false</span>&#125;:&#123;<span class="attr">value</span>: <span class="literal">undefined</span>,<span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">let</span> iterator = createIterator(colors);</span><br><span class="line">在控制台输出</span><br><span class="line">iterator.next();</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"yellow"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">iterator.next();</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"blue"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">iterator.next();</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"red"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">iterator.next();</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-3-默认迭代器"><a href="#6-3-默认迭代器" class="headerlink" title="6.3 默认迭代器"></a>6.3 默认迭代器</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">'yellow'</span>,<span class="string">'blue'</span>,<span class="string">'red'</span>];</span><br><span class="line"><span class="comment">//s = colors[Symbol.iterator];//此时是个原生的函数</span></span><br><span class="line"><span class="comment">//console.log(s);//打印出来是一个函数。</span></span><br><span class="line">s = colors[<span class="built_in">Symbol</span>.iterator]();<span class="comment">//执行</span></span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//打印出来的是Array                              Iterator__proto__: Array Iterator</span></span><br><span class="line"></span><br><span class="line">控制台输出</span><br><span class="line">s.next()<span class="comment">//&#123;value: "yellow", done: false&#125;</span></span><br><span class="line">s.next()<span class="comment">//&#123;value: "blue", done: false&#125;</span></span><br><span class="line">s.next()<span class="comment">//&#123;value: "red", done: false&#125;</span></span><br><span class="line">s.next()<span class="comment">//&#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="6-3-1-通过迭代器遍历aguments"><a href="#6-3-1-通过迭代器遍历aguments" class="headerlink" title="6.3.1 通过迭代器遍历aguments"></a>6.3.1 通过迭代器遍历aguments</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">     function f()&#123;</span><br><span class="line">            console.log(arguments);</span><br><span class="line">        &#125;</span><br><span class="line">        f(12,2,3)；</span><br><span class="line">输出：Arguments(3)</span><br><span class="line">0: 12</span><br><span class="line">1: 2</span><br><span class="line">2: 3</span><br><span class="line">callee: ƒ f()</span><br><span class="line">length: 3</span><br><span class="line">Symbol(Symbol.iterator): ƒ values()</span><br><span class="line">__proto__: Object</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             s = <span class="built_in">arguments</span>[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line">        &#125;</span><br><span class="line">        f(<span class="number">12</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">控制台输出：s.next()</span><br><span class="line">        &#123;<span class="attr">value</span>: <span class="number">12</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">        s.next()</span><br><span class="line">        &#123;<span class="attr">value</span>: <span class="number">2</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">        s.next()</span><br><span class="line">        &#123;<span class="attr">value</span>: <span class="number">3</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">        s.next()</span><br><span class="line">        &#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-2-DOM操作"><a href="#6-3-2-DOM操作" class="headerlink" title="6.3.2 DOM操作"></a>6.3.2 DOM操作</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oP = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(oP);<span class="comment">//打印出是个集合HTMLCollection(5)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = oP[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.log(s.next())<span class="comment">//就可以把DOM节点遍历出来</span></span><br></pre></td></tr></table></figure>
<h3 id="6-3-3-字符串遍历"><a href="#6-3-3-字符串遍历" class="headerlink" title="6.3.3 字符串遍历"></a>6.3.3 字符串遍历</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let str = &quot;hkl&quot;;</span><br><span class="line">let s = str[Symbol.iterator]();</span><br><span class="line">//控制台运行s.next()</span><br><span class="line">&#123;value: &quot;h&quot;, done: false&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;value: &quot;k&quot;, done: false&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;value: &quot;l&quot;, done: false&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;value: undefined, done: true&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-4-对象是没有这个内置的迭代器"><a href="#6-3-4-对象是没有这个内置的迭代器" class="headerlink" title="6.3.4 对象是没有这个内置的迭代器"></a>6.3.4 对象是没有这个内置的迭代器</h3><h2 id="6-4-迭代器的使用场景"><a href="#6-4-迭代器的使用场景" class="headerlink" title="6.4 迭代器的使用场景"></a>6.4 迭代器的使用场景</h2><h3 id="6-4-1-for-of循环-（使用的比较多）"><a href="#6-4-1-for-of循环-（使用的比较多）" class="headerlink" title="6.4.1 for of循环 （使用的比较多）"></a>6.4.1 for of循环 （使用的比较多）</h3><p>其实它的底层就是调用迭代器,这里就不用调用.next()方法（自动调出来）</p>
<p><strong>字符串的使用</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"hkl"</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> s <span class="keyword">of</span> str)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//h  k l</span></span><br><span class="line"></span><br><span class="line">解决了两个问题：</span><br><span class="line"><span class="number">1.</span>语义化比较好理解</span><br><span class="line"><span class="number">2.</span>当遍历到目标的时候，可以使用<span class="keyword">break</span></span><br><span class="line">       <span class="keyword">let</span> str = <span class="string">"hkl"</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> s <span class="keyword">of</span> str)&#123;</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">if</span>(s === <span class="string">'k'</span>)&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(s);<span class="comment">//打印出k</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">console</span>.log(s);<span class="comment">//打印出h</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p><strong>arguments的使用</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> agu <span class="keyword">of</span> <span class="built_in">arguments</span>)&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(agu);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line">输出：<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span></span><br></pre></td></tr></table></figure>
<p><strong>数组的使用</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = [<span class="string">'hhh'</span>,<span class="string">'jjj'</span>,<span class="string">'fff'</span>,<span class="string">'rrr'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> s <span class="keyword">of</span> str)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s === <span class="string">'fff'</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(s);<span class="comment">//打印出fff</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(s);<span class="comment">//打印出hhh,jjj</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-2-数组新增方法"><a href="#6-4-2-数组新增方法" class="headerlink" title="6.4.2 数组新增方法"></a>6.4.2 数组新增方法</h3><p><strong>keys</strong></p>
<p>打印出数组的索引</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = [<span class="string">'fj'</span>,<span class="string">'jsj'</span>,<span class="string">'kl'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> str <span class="keyword">of</span> s.keys())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(str);</span><br><span class="line">    &#125;</span><br><span class="line">输出：<span class="number">0</span>，<span class="number">1</span>，<span class="number">2</span></span><br></pre></td></tr></table></figure>
<p><strong>values</strong></p>
<p>数组的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = [<span class="string">'fj'</span>,<span class="string">'jsj'</span>,<span class="string">'kl'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> str <span class="keyword">of</span> s.values())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(str);</span><br><span class="line">    &#125;</span><br><span class="line">输出：fj jsj kl</span><br></pre></td></tr></table></figure>
<p><strong>entries</strong></p>
<p>打印出数组的所有的值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = [<span class="string">'fj'</span>,<span class="string">'jsj'</span>,<span class="string">'kl'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> str <span class="keyword">of</span> s.entries())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(str);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-3-解构赋值"><a href="#6-4-3-解构赋值" class="headerlink" title="6.4.3 解构赋值"></a>6.4.3 解构赋值</h3><p>数组解构赋值的本质，就是一个迭代器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = [<span class="string">'fj'</span>,<span class="string">'jsj'</span>,<span class="string">'kl'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [index,str] <span class="keyword">of</span> s.entries())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index,str);</span><br><span class="line">&#125;</span><br><span class="line">输出的是 <span class="number">0</span> <span class="string">"fj"</span></span><br><span class="line">        <span class="number">1</span> <span class="string">"jsj"</span></span><br><span class="line">        <span class="number">2</span> <span class="string">"kl"</span></span><br></pre></td></tr></table></figure>
<h3 id="6-4-4-…运算符-扩展运算符"><a href="#6-4-4-…运算符-扩展运算符" class="headerlink" title="6.4.4 …运算符:扩展运算符"></a>6.4.4 …运算符:扩展运算符</h3><p>本质上也是使用的迭代器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let s = [&apos;fj&apos;,&apos;jsj&apos;,&apos;kl&apos;];</span><br><span class="line">let s1 = [&apos;kk&apos;,...s];</span><br><span class="line">console.log(s1);</span><br><span class="line">输出的是</span><br><span class="line">Array(4)</span><br><span class="line">0: &quot;kk&quot;</span><br><span class="line">1: &quot;fj&quot;</span><br><span class="line">2: &quot;jsj&quot;</span><br><span class="line">3: &quot;kl&quot;</span><br></pre></td></tr></table></figure>
<h1 id="七-生成器-Generator"><a href="#七-生成器-Generator" class="headerlink" title="七 生成器 Generator"></a>七 生成器 Generator</h1><h2 id="7-1-基础语法"><a href="#7-1-基础语法" class="headerlink" title="7.1 基础语法"></a>7.1 基础语法</h2><p>普通函数：如果没有return语句就会从头到尾执行下来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function * fn()&#123;&#125;</span><br><span class="line"></span><br><span class="line">yiled//相当于开关，告诉我们到哪里去暂停。只在 Generator函数中好用</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">f</span>(<span class="params"></span>)</span>&#123;<span class="comment">//指针</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'hh'</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'gg'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> s = f();<span class="comment">//刚开始执行f() 这里相当于在函数的开头就创建了指针</span></span><br><span class="line">只有在调用 .next()的时候，才会去执行这个逻辑语句。易遇到<span class="keyword">yield</span>语句就暂停，把yiled的语句后面的东西输出，再next() 指针下移</span><br><span class="line">在控制台输出 s.next()</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"hh"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"gg"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<p>写个*作为我们的Generator函数，一执行就生成我们当前的迭代器管理函数里面的语句，调用.next相当于去执行函数。从头执行，遇到yield语句时候就停止，会把yiled语句后面的值输出，如果.next()中没有传任何参数，则返回的是undefined的。</p>
<p>yield相当于关，.next()相当于开。</p>
<p>可以给.next()传入一些值，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> y = <span class="keyword">yield</span> (x + <span class="number">2</span>);<span class="comment">//遇到yield语句就暂停，将yield后面的语句给value</span></span><br><span class="line">        <span class="keyword">var</span> z = <span class="keyword">yield</span> (y + <span class="number">3</span>);<span class="comment">//从上面的yield的语句开始执行，之前的赋值语句没有完成，现在完成赋值，把整个上式子整个yield语句传给y,如果.next()中什么都没有的话就是undefined，</span></span><br><span class="line">        <span class="comment">//所以y就是undefined，继续向下执行遇到z赋值语句，遇到yield又暂停了，将yield的后面的语句给value，yield后面的是undefined+2，所以输出的是NaN</span></span><br><span class="line">        <span class="keyword">return</span> (x + y + z);<span class="comment">//第三个调用 next()时，就从第二次的赋值部分开始，将整个yield语句赋值给z，而.next()语句中啥也没传，所以z 也是undefined，继续向下执行，遇到return语句  其中为 4+undefined+undefined = NaN</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> s = fn(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(s.next());<span class="comment">//传入的x = 4 所以返回的是 4+2 = 6</span></span><br><span class="line">    <span class="built_in">console</span>.log(s.next());<span class="comment">//继续向下执行</span></span><br><span class="line">    <span class="built_in">console</span>.log(s.next());</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params">x</span>)</span>&#123;<span class="comment">//指针</span></span><br><span class="line">    <span class="keyword">var</span> y = <span class="keyword">yield</span> (x + <span class="number">2</span>);<span class="comment">//没执行完</span></span><br><span class="line">    <span class="keyword">var</span> z = <span class="keyword">yield</span> (y + <span class="number">3</span>);<span class="comment">//从上式的yield语句执行并赋值，此时next（）中的参数，决定上式的赋值</span></span><br><span class="line">    <span class="keyword">return</span> (x + y + z);<span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s = fn(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s.next());<span class="comment">//执行fn这个函数，遇到yield的语句，暂停，返回yield语句后面的值，4+2 = 6；赋值语句并没有完成。</span></span><br><span class="line"><span class="built_in">console</span>.log(s.next(<span class="number">1</span>));<span class="comment">//继续y的赋值语句，需要将整个yield的语句赋值给y，yield语句传入的是1，所以y = 1，接下来又遇到了yield语句，暂停，将yield语句后面的 y+3传给value，最后输出值为4</span></span><br><span class="line"><span class="built_in">console</span>.log(s.next(<span class="number">1</span>));<span class="comment">//继续上式未完成的赋值语句，将整个yield语句赋值给z，next()中传入的是1,所以z = 1.没有遇到yield语句， 将return后面的语句继续执行返回的是 4+1+1 = 6</span></span><br></pre></td></tr></table></figure>
<p>注意：next()中决定的是上一个yield的值。</p>
<h2 id="7-2-for-of-循环"><a href="#7-2-for-of-循环" class="headerlink" title="7.2  for  of 循环"></a>7.2  for  of 循环</h2><p>普通对象中是没有Symbol.iterator的，所以直接去循环是不好使的。</p>
<p>可以给对象手动添加一个Symbol.iterator</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Obj = &#123;</span><br><span class="line">    name:<span class="string">'jkks'</span>,</span><br><span class="line">    aeg: <span class="number">18</span>,</span><br><span class="line">    sex: <span class="string">'male'</span></span><br><span class="line">&#125;</span><br><span class="line"> Obj[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> s1 <span class="keyword">of</span> Obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(s1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'hhh'</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'jjd'</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'hhff'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> s = fn();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> f1 <span class="keyword">of</span> s)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(f1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="八-异步"><a href="#八-异步" class="headerlink" title="八 异步"></a>八 异步</h1><h2 id="8-1-Promise"><a href="#8-1-Promise" class="headerlink" title="8.1 Promise"></a>8.1 Promise</h2><p>q.js  bluebird.js jquery deferred</p>
<p>js是单线程的  js一段时间内只能做一件事情。</p>
<p>异步编程思想：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">         setTimeout(function()&#123;</span><br><span class="line">                console.log(34)</span><br><span class="line">            &#125;,5000);</span><br><span class="line">        console.log(&apos;hhh&apos;)</span><br><span class="line">也是异步的思想。</span><br><span class="line">//先打印hhh再打印34</span><br></pre></td></tr></table></figure>
<h3 id="8-1-1-表面坏处"><a href="#8-1-1-表面坏处" class="headerlink" title="8.1.1 表面坏处"></a>8.1.1 表面坏处</h3><p>异步编程的坏处：第二次请求的地址需要通过第一次请求才可以拿到。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(function()&#123;</span><br><span class="line">    setTimeout(function()&#123;</span><br><span class="line">        setTimeout(function()&#123;</span><br><span class="line">            console.log(&apos;hhh&apos;)</span><br><span class="line">        &#125;,1000);</span><br><span class="line">    &#125;,1000);</span><br><span class="line">&#125;,1000);</span><br></pre></td></tr></table></figure>
<p>形成了回调金字塔。不好管理。</p>
<p>Promise就是用来管理这些回调函数。</p>
<h3 id="8-1-2-创建Promise对象"><a href="#8-1-2-创建Promise对象" class="headerlink" title="8.1.2 创建Promise对象"></a>8.1.2 创建Promise对象</h3><p>new出来的promise对象，需要传一个参数(函数)，且必须传。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const p = new Promise(()=&gt;&#123;</span><br><span class="line">    console.log(&apos;sk&apos;)</span><br><span class="line">&#125;)</span><br><span class="line">console.log(&apos;ldj&apos;);</span><br><span class="line">console.log(p);</span><br><span class="line">Promise</span><br><span class="line">__proto__: Promise</span><br><span class="line">[[PromiseStatus]]: &quot;pending&quot;</span><br><span class="line">[[PromiseValue]]: undefined</span><br></pre></td></tr></table></figure>
<h3 id="8-1-3-promise的三个状态"><a href="#8-1-3-promise的三个状态" class="headerlink" title="8.1.3 promise的三个状态"></a>8.1.3 promise的三个状态</h3><p><strong>pending</strong></p>
<p>没调用 resolved 和 rejected时候，是pending状态，且只能变成成功或者失败的状态。没有其它状态的转变</p>
<p><strong>成功</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">        const p = new Promise((resolved,rejected)=&gt;&#123;</span><br><span class="line">            resolved(100);</span><br><span class="line">        &#125;)</span><br><span class="line">        console.log(p);</span><br><span class="line">输出的是：Promise</span><br><span class="line">        __proto__: Promise</span><br><span class="line">        [[PromiseStatus]]: &quot;resolved&quot;</span><br><span class="line">        [[PromiseValue]]: 100</span><br></pre></td></tr></table></figure>
<p><strong>失败</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">        const p = new Promise((resolved,rejected)=&gt;&#123;</span><br><span class="line">            rejected(100);</span><br><span class="line">        &#125;)</span><br><span class="line">        console.log(p);</span><br><span class="line">输出的是：Promise</span><br><span class="line">__proto__: Promise</span><br><span class="line">[[PromiseStatus]]: &quot;rejected&quot;</span><br><span class="line">[[PromiseValue]]: 100</span><br></pre></td></tr></table></figure>
<p><strong>如何去做一些事情呢</strong></p>
<p>通过p.then(成功事件函数,失败事件函数)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">       const p = new Promise((resolved,rejected)=&gt;&#123;</span><br><span class="line">           rejected(100);</span><br><span class="line">       &#125;)</span><br><span class="line">       p.then(function(value)&#123;</span><br><span class="line">           console.log(value);//成功调用的函数</span><br><span class="line">       &#125;,</span><br><span class="line">       function(err)&#123;</span><br><span class="line">           console.log(err);//失败时调用的函数</span><br><span class="line">       &#125;)</span><br><span class="line">输出的是：100</span><br></pre></td></tr></table></figure>
<p>异步可以直接在在new Promise中</p>
<p>占位符  对未来的值进行操作，不知道成功不成功</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved,rejected</span>)=&gt;</span>&#123;</span><br><span class="line">         setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             resolved(<span class="number">10000</span>);</span><br><span class="line">         &#125;,<span class="number">1000</span>)</span><br><span class="line">     &#125;)</span><br><span class="line">     p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(value);</span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(err);</span><br><span class="line">     &#125;)</span><br><span class="line">输出的结果是：<span class="number">10000</span></span><br><span class="line">此时p是一个pending状态， .then只是注册了事件，将成功和失败的事件注册上去，<span class="number">1</span>s之后成功了就调用成功的注册事件。失败了就调用失败的事件。</span><br></pre></td></tr></table></figure>
<h3 id="8-1-4-创建已处理的promise对象"><a href="#8-1-4-创建已处理的promise对象" class="headerlink" title="8.1.4 创建已处理的promise对象"></a>8.1.4 创建已处理的promise对象</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const p1 = Promise.resolve();</span><br><span class="line">const p2 = Promise.reject();</span><br><span class="line">console.log(p1);</span><br><span class="line">console.log(p2);</span><br></pre></td></tr></table></figure>
<h3 id="8-1-5-链式调用promise"><a href="#8-1-5-链式调用promise" class="headerlink" title="8.1.5 链式调用promise"></a>8.1.5 链式调用promise</h3><p>解决嵌套方式调用</p>
<p>p.then 可以返回Promise对象（p.then可以返回一个新的promise对象）</p>
<p>p.then返回的promise对象  它看回调函数的返回值</p>
<p>如果return值不是promise对象的话，就是成功状态</p>
<p><strong>不是promise对象的状态</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved,rejected</span>)=&gt;</span>&#123;</span><br><span class="line">          setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">              resolved(<span class="number">1000</span>);</span><br><span class="line">          &#125;,<span class="number">2000</span>)</span><br><span class="line">      &#125;);</span><br><span class="line">      p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(value);<span class="comment">//调用的是这个，没有写return那就是undefined的状态</span></span><br><span class="line">      &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(err,<span class="number">188</span>);</span><br><span class="line">      &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="number">123</span>);<span class="comment">//只要return不是promise对象，就是成功状态，就使用这个，这部分是相当于另一个成功和失败要调用的函数。</span></span><br><span class="line">      &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="number">455</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">     </span><br><span class="line">输出的是：<span class="number">1000</span> <span class="number">188</span></span><br><span class="line">         <span class="number">123</span></span><br></pre></td></tr></table></figure>
<p><strong>是promise对象的状态</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">        <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved,rejected</span>)=&gt;</span>&#123;</span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">                resolved(<span class="number">1000</span>);</span><br><span class="line">            &#125;,<span class="number">2000</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">        p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved,rejected</span>)=&gt;</span>&#123;</span><br><span class="line">                setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    resolved(<span class="number">11</span>);</span><br><span class="line">                &#125;,<span class="number">2000</span>)</span><br><span class="line">            &#125;)<span class="comment">//当返回是promise对象时，会跟着promise对象走，如果这个是成功的，外界p.then就是成功的，如果是失败的，那么外界的p.then也就是失败的。</span></span><br><span class="line">        &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(err,<span class="number">188</span>);</span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(value);<span class="comment">//上面成功了走这</span></span><br><span class="line">        &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">455</span>);<span class="comment">//失败了走这。</span></span><br><span class="line">        &#125;)</span><br><span class="line">输出的结果是：<span class="number">1000</span>，<span class="number">11</span></span><br></pre></td></tr></table></figure>
<p>封装上面函数，实现链式调用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> </span><br></pre></td></tr></table></figure>
<h3 id="8-1-6-响应多个promise对象"><a href="#8-1-6-响应多个promise对象" class="headerlink" title="8.1.6 响应多个promise对象"></a>8.1.6 响应多个promise对象</h3><p><strong>Promise.all</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = f(<span class="number">20</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">const</span> p2 = f(<span class="number">30</span>,<span class="number">2000</span>);</span><br><span class="line"><span class="keyword">const</span> p3 = f(<span class="number">40</span>,<span class="number">3000</span>);</span><br><span class="line"><span class="built_in">Promise</span>.all([p1,p2,p3]).then(<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value)</span><br><span class="line">&#125;,()=&gt;&#123;&#125;)</span><br></pre></td></tr></table></figure>
<p>以最慢的为基准，有一个失败，整体都失败。</p>
<p><strong>Promise.race</strong></p>
<p>看最快的那个请求，以此为基准,不管 成功或失败，如果最快的失败，整体都是失败，如果最快的成功了，整个都成功。</p>
<h3 id="8-1-7-Promise-catch"><a href="#8-1-7-Promise-catch" class="headerlink" title="8.1.7 Promise.catch"></a>8.1.7 Promise.catch</h3><p>以失败的为基准。</p>
<h1 id="九-异步编程"><a href="#九-异步编程" class="headerlink" title="九 异步编程"></a>九 异步编程</h1><p><a href="https://www.promisejs.org/implementing/" target="_blank" rel="noopener">https://www.promisejs.org/implementing/</a></p>
<p>stack overflow</p>
<h2 id="9-1-异步编程1"><a href="#9-1-异步编程1" class="headerlink" title="9.1 异步编程1"></a>9.1 异步编程1</h2><p>由于第三方库不可信</p>
<p>###JavaScript的运行<br>全局环境  调用函数的环境   调用栈的环境</p>
<p>###异步的JavaScript</p>
<p>###Promise</p>
<p>###Generator&amp;ASync/await</p>
<h2 id="9-2-异步编程2"><a href="#9-2-异步编程2" class="headerlink" title="9.2 异步编程2"></a>9.2 异步编程2</h2><h2 id="9-3-异步编程3"><a href="#9-3-异步编程3" class="headerlink" title="9.3 异步编程3"></a>9.3 异步编程3</h2><p>上述缺点：控制反转（推进去几次，就执行几次）<br>代码没有同步的好理解<br>优点： 和浏览器交互</p>
<p>promise会立即返回一个对象,也就是说我们用promise的时候</p>
<p>做了两件事</p>
<p>promise对象是一个占位符当异步完成时把值存到对象里面</p>
<p>promise对象可以存储当异步完成时的回调函数</p>
<p>当异步完成是会自动触发相应的回调函数</p>
<p>只有第一次好用 （resolved）所以就控制反转的反转了，最终还是外面控制</p>
<p>注意1：解决了控制反转，resolved和reject只看第一会的结果<br>注意2：Event Loop（浏览器的东西）会在调用栈只有golabal的情况下去执行异步的东西<br>promise 在微任务中  job tasjs（当value有值的时候，就会去调用其成功的回调函数）<br>setTimeout   callback queue 宏任务<br>先执行微任务中的，再执行宏任务</p>
<h2 id="9-4-异步编程4"><a href="#9-4-异步编程4" class="headerlink" title="9.4 异步编程4"></a>9.4 异步编程4</h2><p>Generator函数返回一个iterator对象我们有能力去暂停函数</p>
<p>有机制，存了代码执行到了哪里</p>
<p>Generator的异步</p>
<p>async await</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/25/es6_2/" data-id="cjshkaulm0020mgggqnr6iszb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-es6_1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/20/es6_1/" class="article-date">
  <time datetime="2018-11-20T08:28:39.000Z" itemprop="datePublished">2018-11-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ES6/">ES6</a>►<a class="article-category-link" href="/categories/ES6/ES6基础知识笔记1/">ES6基础知识笔记1</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/20/es6_1/">ES6笔记1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-ES6简介"><a href="#一-ES6简介" class="headerlink" title="一 ES6简介"></a>一 ES6简介</h1><h1 id="二-let和const块级作用域"><a href="#二-let和const块级作用域" class="headerlink" title="二 let和const块级作用域"></a>二 let和const块级作用域</h1><h2 id="2-1-作用域的理解"><a href="#2-1-作用域的理解" class="headerlink" title="2.1 作用域的理解"></a>2.1 作用域的理解</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">只要不是在function中声明的变量（var），就是全局变量。</span><br><span class="line">会污染全局变量</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">var</span> x =<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> x = <span class="number">4</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(x)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> x = <span class="number">5</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//输出的就是4，所以在if中声明的是全局变量。</span></span><br></pre></td></tr></table></figure>
<h2 id="2-2-循环变量的问题"><a href="#2-2-循环变量的问题" class="headerlink" title="2.2 循环变量的问题"></a>2.2 循环变量的问题</h2><p><strong>forEach的使用</strong></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">forEach() 方法对数组的每个元素执行一次提供的函数。</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">var</span> arr = [];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">            arr.push(</span><br><span class="line">                <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(i);</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">        arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">            item();</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">//输出的是10个10</span></span><br><span class="line">i是全局变量，每次执行  <span class="built_in">console</span>.log(i);自己的作用域没有，只能去上一层查找，找到的是全局变量i，所以每次执行打印都是<span class="number">10</span>。</span><br></pre></td></tr></table></figure>
<p><strong>如何解决</strong></p>
<p>问题一：var arr=[];限定在一个区域</p>
<p>问题二：var i;限定在一个区域</p>
<h2 id="2-3-什么是块级作用域"><a href="#2-3-什么是块级作用域" class="headerlink" title="2.3 什么是块级作用域"></a>2.3 什么是块级作用域</h2><pre><code>{块级作用域}
</code></pre><h3 id="2-3-1-let的使用"><a href="#2-3-1-let的使用" class="headerlink" title="2.3.1 let的使用"></a>2.3.1 let的使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let s1 = 10;</span><br><span class="line">&#123;</span><br><span class="line">    let s2 = 20;</span><br><span class="line">    var s3 = 2;</span><br><span class="line">&#125;</span><br><span class="line">console.log(s2);</span><br><span class="line">console.log(s3);</span><br><span class="line">结果会报错，访问不到s2</span><br><span class="line">而s3是可以打印出来的，这里定义的是全局变量。所以可以打印处理（var仅遵循函数作用域）</span><br><span class="line">说明let定义限制在代码块内。</span><br></pre></td></tr></table></figure>
<p><strong>不能变量声明提升</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var 变量的时候，会有变量提升</span><br><span class="line"></span><br><span class="line">console.log(i);</span><br><span class="line">let i=12;</span><br><span class="line">会报错，在哪里写的就在哪里声明，不会变量声明提升。</span><br></pre></td></tr></table></figure>
<p><strong>不能重复声明变量</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let age = 12;</span><br><span class="line">let age = 10;</span><br><span class="line">会报错，不能重复声明，可以防止污染变量。</span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-const的使用"><a href="#2-3-2-const的使用" class="headerlink" title="2.3.2 const的使用"></a>2.3.2 const的使用</h3><p><strong>定义的时候要有初始化</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">因为是常量，所以必须要有值。</span><br><span class="line">const s = 10;</span><br><span class="line">且 因为是常量，不能更改。</span><br></pre></td></tr></table></figure>
<p>不能更改的原因：不能更改的是内存地址，就是那个绑定的地址。</p>
<p><strong>初始化值不能改变（绑定不能改变）</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const person = &#123;</span><br><span class="line">    name : &quot;hh&quot;,</span><br><span class="line">    age: 10</span><br><span class="line">&#125;;</span><br><span class="line">person.sex = &quot;nan&quot;;</span><br><span class="line">没有报错，对象的内存地址一直都没有改变。绑定没有变。</span><br></pre></td></tr></table></figure>
<h3 id="2-3-3-块级作用域的奇特概念"><a href="#2-3-3-块级作用域的奇特概念" class="headerlink" title="2.3.3 块级作用域的奇特概念"></a>2.3.3 块级作用域的奇特概念</h3><p><strong>暂时性死区(TDZ)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">let s = 10;</span><br><span class="line">&#123;</span><br><span class="line">    console.log(s);</span><br><span class="line">    let s = 20;</span><br><span class="line">&#125;</span><br><span class="line">会报错，在代码块中，都是let s = 20。的区域，无论其上面还是下面只要在代码块内就是let s = 20 的统治范围。</span><br><span class="line">var s = 10;</span><br><span class="line">function f()&#123;</span><br><span class="line">    console.log(s);</span><br><span class="line">    var s = 20;</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line">输出的结果是 undefined </span><br><span class="line">原因：在函数作用域里，也是var s = 20 的统治范围，有变量声明提升，但是赋值在下面， 所以最后是undefined</span><br></pre></td></tr></table></figure>
<p><strong>循环中使用块级作用域</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">j</span>)</span>&#123;</span><br><span class="line">            arr.push(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(j);</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">        &#125; (i))</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">        item();</span><br><span class="line">    &#125;)</span><br><span class="line">打印出 <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line">打印j的时候，在函数作用域中是没有j的，向上去找，找到每次循环的j  第一次循环是<span class="number">0</span> 最后一次是<span class="number">9</span>，所以会打印<span class="number">0</span><span class="number">-9</span>，使用立即执行函数相当于将j限定在块级作用域中。</span><br><span class="line">        <span class="keyword">let</span> arr = [];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line"></span><br><span class="line">                arr.push(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(i);</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line">        arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">            item();</span><br><span class="line">        &#125;)</span><br><span class="line">每次循环都会执行一次。</span><br></pre></td></tr></table></figure>
<h1 id="三-字符串的扩展"><a href="#三-字符串的扩展" class="headerlink" title="三 字符串的扩展"></a>三 字符串的扩展</h1><h2 id="3-1-传统字符串的问题"><a href="#3-1-传统字符串的问题" class="headerlink" title="3.1 传统字符串的问题"></a>3.1 传统字符串的问题</h2><h3 id="3-1-1-多行字符串问题"><a href="#3-1-1-多行字符串问题" class="headerlink" title="3.1.1 多行字符串问题"></a>3.1.1 多行字符串问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let s = &quot;hhhhhkskiosdic\</span><br><span class="line">sjcucuccjccdioj&quot;;</span><br><span class="line">console.log(s);//这样打印出来的不是换行的，而是中间打印成了空格。是两个字符的拼接。</span><br><span class="line"></span><br><span class="line">let s = &quot;hhhhhkskiosdic\n\sjcucuccjccdioj&quot;;</span><br><span class="line">console.log(s);</span><br><span class="line">这样是传统字符串的换行。</span><br><span class="line">+号拼接字符串</span><br><span class="line">let s = &quot;hhhhhkskiosdic\n&quot;+&quot;sjcucuccjccdioj&quot;;</span><br><span class="line">console.log(s);</span><br><span class="line"></span><br><span class="line">以上方式都很麻烦</span><br></pre></td></tr></table></figure>
<h3 id="3-1-2-字符串中使用变量"><a href="#3-1-2-字符串中使用变量" class="headerlink" title="3.1.2 字符串中使用变量"></a>3.1.2 字符串中使用变量</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">引号拼接法。</span><br><span class="line">html+=<span class="string">"&lt;li&gt;"</span>+</span><br><span class="line"><span class="string">"&lt;h3&gt;"</span>+item.name + <span class="string">"&lt;/h3&gt;"</span></span><br><span class="line">+ <span class="string">"&lt;p&gt;"</span> + item.age + <span class="string">"&lt;/p&gt;"</span></span><br><span class="line"><span class="string">"&lt;/li&gt;"</span></span><br></pre></td></tr></table></figure>
<h2 id="3-2-模板字符串基本语法"><a href="#3-2-模板字符串基本语法" class="headerlink" title="3.2 模板字符串基本语法"></a>3.2 模板字符串基本语法</h2><h3 id="3-2-1-反引号-‘字符串’"><a href="#3-2-1-反引号-‘字符串’" class="headerlink" title="3.2.1 反引号 ‘字符串’"></a>3.2.1 反引号 ‘字符串’</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">使用反引号（左上方的按键）</span><br><span class="line">            let s = `hello</span><br><span class="line">            he </span><br><span class="line">            hh`;</span><br><span class="line">            console.log(s);//可以实现换行，需要将换行前面的空格删除。</span><br></pre></td></tr></table></figure>
<h3 id="3-2-2-替换位的使用"><a href="#3-2-2-替换位的使用" class="headerlink" title="3.2.2 替换位的使用 ${}"></a>3.2.2 替换位的使用 ${}</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">  let obj = [</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">            name: "liuxiu",</span></span><br><span class="line"><span class="regexp">            age:28</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">            name: "xiedjiao",</span></span><br><span class="line"><span class="regexp">            age:30</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">            name: "luojk",</span></span><br><span class="line"><span class="regexp">            age:22</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">            name: "luomeil",</span></span><br><span class="line"><span class="regexp">            age:21</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    ];</span></span><br><span class="line"><span class="regexp">    let  oLi = document.getElementsByTagName('ul')[0];</span></span><br><span class="line"><span class="regexp">    let html = "";</span></span><br><span class="line"><span class="regexp">    console.log(obj[1].name);</span></span><br><span class="line"><span class="regexp">    obj.forEach(function(item)&#123;</span></span><br><span class="line"><span class="regexp">        html+=`&lt;li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;h3&gt;$&#123;item.name&#125;&lt;/</span>h3&gt;<span class="comment">//注意这里面的item.name,不要写长了obj.name</span></span><br><span class="line">        &lt;p&gt;$&#123;item.age&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>li&gt;<span class="string">`//使用的是反引号。</span></span><br><span class="line"><span class="string">    &#125;)  </span></span><br><span class="line"><span class="string">    oLi.innerHTML = html;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-3-字符串拓展方法"><a href="#3-3-字符串拓展方法" class="headerlink" title="3.3 字符串拓展方法"></a>3.3 字符串拓展方法</h2><h3 id="3-3-1-String-prototype-startsWith"><a href="#3-3-1-String-prototype-startsWith" class="headerlink" title="3.3.1 String.prototype.startsWith"></a>3.3.1 String.prototype.startsWith</h3><p>以某个字母开始，从前向后查找。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">"nihaihaobu"</span>;</span><br><span class="line"><span class="keyword">let</span> b = s.startsWith(<span class="string">"i"</span>,<span class="number">1</span>);<span class="comment">//从数组的1开始查找</span></span><br><span class="line"> <span class="built_in">console</span>.log(b);<span class="comment">//打印出的是true</span></span><br></pre></td></tr></table></figure>
<p>3.3.2 String.prototype.endsWith</p>
<p>3.3.2 String.prototype.endsWith</p>
<p>兼容性写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-3-2-String-prototype-endsWith"><a href="#3-3-2-String-prototype-endsWith" class="headerlink" title="3.3.2 String.prototype.endsWith"></a>3.3.2 String.prototype.endsWith</h3><p>以某个字母结束，从后向前查找，开区间，不包括设置的位。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let s = &quot;nihaihaobu&quot;;</span><br><span class="line">let b = s.endsWith(&quot;o&quot;,8);//从数组的8向前找，不包括数组中的8位。</span><br><span class="line">console.log(b);</span><br></pre></td></tr></table></figure>
<p>兼容性写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-3-3-String-prototype-includes"><a href="#3-3-3-String-prototype-includes" class="headerlink" title="3.3.3 String.prototype.includes"></a>3.3.3 String.prototype.includes</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">"nihaihaobu"</span>;</span><br><span class="line"><span class="keyword">let</span> a = s.includes(<span class="string">"a"</span>,<span class="number">3</span>);<span class="comment">//返回的是个true</span></span><br></pre></td></tr></table></figure>
<p>兼容性的写法（浏览器不支持includes的方法）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="built_in">String</span>.prototype.includes)&#123;</span><br><span class="line">        <span class="comment">//增加includes方法</span></span><br><span class="line">        <span class="built_in">String</span>.prototype.includes = <span class="function"><span class="keyword">function</span>(<span class="params">search,start</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">typeof</span> start != <span class="string">"number"</span>)&#123;</span><br><span class="line">                start = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//判断查找的字符串长度是不是大于字符串的长度</span></span><br><span class="line">            <span class="keyword">if</span>(start + search.length &gt;<span class="keyword">this</span>.length)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.indexOf(search,start) !== <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-3-4-String-prototype-repeat"><a href="#3-3-4-String-prototype-repeat" class="headerlink" title="3.3.4 String.prototype.repeat"></a>3.3.4 String.prototype.repeat</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">"nihaihaobu"</span>;</span><br><span class="line"><span class="keyword">let</span> c = s.repeat(<span class="number">3</span>);<span class="comment">//将s重复3遍</span></span><br><span class="line">   <span class="built_in">console</span>.log(c);<span class="comment">//  nihaihaobunihaihaobunihaihaobu</span></span><br></pre></td></tr></table></figure>
<p>兼容性写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="四-数组解构赋值与对象解构赋值"><a href="#四-数组解构赋值与对象解构赋值" class="headerlink" title="四 数组解构赋值与对象解构赋值"></a>四 数组解构赋值与对象解构赋值</h1><h2 id="4-1-数组解构赋值"><a href="#4-1-数组解构赋值" class="headerlink" title="4.1 数组解构赋值"></a>4.1 数组解构赋值</h2><p>[ variable1, variable2, …, variableN ] = array;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1,2,3];</span><br><span class="line">let [a,b,c] = arr;</span><br><span class="line">console.log(a,b,c);</span><br><span class="line">输出的是 1 2 3</span><br></pre></td></tr></table></figure>
<h3 id="4-1-1-使用"><a href="#4-1-1-使用" class="headerlink" title="4.1.1 使用"></a>4.1.1 使用</h3><p><strong>必须要进行初始化</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">赋值操作必须要赋值的。</span><br></pre></td></tr></table></figure>
<p><strong>可以在解构中忽略一些项</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1,2,3];</span><br><span class="line">let [,b,] = arr;</span><br><span class="line">console.log(b);</span><br></pre></td></tr></table></figure>
<p><strong>互换两个变量的值</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//互换两个变量</span><br><span class="line">   let x = 1;</span><br><span class="line">   let y = 2;</span><br><span class="line">   let temp ;</span><br><span class="line">   temp = x;</span><br><span class="line">    x = y ;</span><br><span class="line">   y = temp ;</span><br><span class="line">   console.log(x);</span><br><span class="line">   console.log(y);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line">[x,y] = [y,x]<span class="comment">//上面已经声明过变量了，不需要再去声明。</span></span><br></pre></td></tr></table></figure>
<h3 id="4-1-2-默认值"><a href="#4-1-2-默认值" class="headerlink" title="4.1.2 默认值"></a>4.1.2 默认值</h3><p><strong>当指定位置的项不存在</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [x,y] = [];<span class="comment">//等同于let [x,y] = [undefined，undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p><strong>指定位置的值为undefined</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">当x,y值默认严格等于<span class="literal">undefined</span>的时候，就可以使用默认值</span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">2</span>,y = <span class="number">3</span>] = [];</span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//输出的是 2 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">2</span>,y = <span class="number">3</span>] = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//输出的是 1 </span></span><br><span class="line"></span><br><span class="line">注意一定要严格等于<span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">2</span>,y = <span class="number">3</span>] = [<span class="literal">null</span>,<span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//输出的是 null</span></span><br><span class="line"><span class="built_in">console</span>.log(y);<span class="comment">//输出的是 3</span></span><br></pre></td></tr></table></figure>
<h2 id="4-2-对象解构赋值"><a href="#4-2-对象解构赋值" class="headerlink" title="4.2 对象解构赋值"></a>4.2 对象解构赋值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">"hhh"</span>;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name : name <span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name)</span><br></pre></td></tr></table></figure>
<h3 id="4-2-1-基本语法"><a href="#4-2-1-基本语法" class="headerlink" title="4.2.1 基本语法 :"></a>4.2.1 基本语法 :</h3><p>字面量对象 = 字面量对象(字面量是键值对的形式)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>:name,<span class="attr">age</span>:age&#125; = &#123;<span class="attr">name</span>:<span class="string">"hhh"</span>,<span class="attr">age</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name,age);</span><br><span class="line">可以简写</span><br><span class="line"><span class="keyword">let</span> &#123;name,age&#125; = &#123;<span class="attr">name</span>:<span class="string">"hhh"</span>,<span class="attr">age</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name,age);<span class="comment">//输出的是“hhh”, 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">age</span>:name1,<span class="attr">name</span>:age1&#125; = &#123;<span class="attr">name</span>:<span class="string">"hhh"</span>,<span class="attr">age</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name1,age1);<span class="comment">//输出的是 1，“hhh”</span></span><br><span class="line">在这里要去匹配右边的属性，有的话就把属性值给左边的。</span><br></pre></td></tr></table></figure>
<h3 id="4-2-2-注意"><a href="#4-2-2-注意" class="headerlink" title="4.2.2 注意"></a>4.2.2 注意</h3><p><strong>必须要进行初始化</strong></p>
<p>赋值的操作必须要有值</p>
<p><strong>在赋值的时候使用解构赋值</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;name,age&#125; = &#123;<span class="attr">name</span>:<span class="string">"hhh"</span>,<span class="attr">age</span>:<span class="number">1</span>&#125;;<span class="comment">//这种方式是一步到位的</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> age,name;</span><br><span class="line">&#123;age,name&#125; = &#123;<span class="attr">age</span>:<span class="number">19</span>; name:lcm&#125; ;</span><br><span class="line"><span class="comment">//会报错，js引擎识别问题，这里认为&#123;&#125;是代码块而不是对象，代码块不允许 + 的出现，所以会报错</span></span><br><span class="line">解决办法加（） 告诉js引擎 其不是代码块</span><br><span class="line"><span class="keyword">let</span> age,name;</span><br><span class="line">(&#123;age,name&#125; = &#123;<span class="attr">age</span>:<span class="number">19</span>, <span class="attr">name</span>:lcm&#125;) ;</span><br></pre></td></tr></table></figure>
<p><strong>解构赋值表达式的值是表达式右侧的值</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">       <span class="keyword">let</span> obj = &#123;<span class="attr">sex</span>:<span class="string">"man"</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(value);</span><br><span class="line">        &#125;</span><br><span class="line">        f(obj);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//传入解构值的时候，和上面的值是一样的</span></span><br><span class="line">        <span class="keyword">let</span> obj = &#123;<span class="attr">sex</span>:<span class="string">"man"</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(value);</span><br><span class="line">        &#125;</span><br><span class="line">        f(&#123;&#125; = obj);<span class="comment">//&#123;&#125; = obj  整体的值就是obj的值</span></span><br><span class="line"></span><br><span class="line">不需要再去声明了，可以在传进去的同时使用这个变量。</span><br></pre></td></tr></table></figure>
<h2 id="4-3-对象解构赋值默认值"><a href="#4-3-对象解构赋值默认值" class="headerlink" title="4.3  对象解构赋值默认值"></a>4.3  对象解构赋值默认值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;name = <span class="string">"kk"</span>,age = <span class="number">34</span>&#125; = &#123;&#125;;<span class="comment">//右边等同于&#123;undefined，undefined&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(name,age);<span class="comment">//打印的值为kk 34</span></span><br><span class="line">当右边的值严格等于<span class="literal">undefined</span>的时候，左边才会使用默认值。</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;name = <span class="string">"kk"</span>,age = <span class="number">34</span>&#125; = &#123;<span class="attr">name</span> :<span class="string">"hhk"</span>,<span class="attr">age</span> : <span class="number">3</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name,age);</span><br><span class="line"><span class="comment">//输出的是 hhk 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;name = <span class="string">"kk"</span>,age = <span class="number">34</span>&#125; = &#123;<span class="attr">name</span> :<span class="literal">null</span>,<span class="attr">age</span> : <span class="number">3</span>&#125;;<span class="comment">//注意右边的对象的值要使用键值对的方式。</span></span><br><span class="line"><span class="built_in">console</span>.log(name,age);</span><br><span class="line"><span class="comment">//输出的是 null 3</span></span><br></pre></td></tr></table></figure>
<h2 id="4-4-混合解构：对象和数组组合使用"><a href="#4-4-混合解构：对象和数组组合使用" class="headerlink" title="4.4 混合解构：对象和数组组合使用"></a>4.4 混合解构：对象和数组组合使用</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">数组：</span><br><span class="line"><span class="keyword">let</span> [a,b,[c,d]] = [<span class="number">1</span>,<span class="number">2</span>,[]];<span class="comment">//let [a,b,[a,b]] = [1,2,[]]是错误的a,b 已经声明过了，不可以重复声明。</span></span><br><span class="line"><span class="built_in">console</span>.log(a,b,[c,d]);</span><br><span class="line">输出结果是：</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> </span><br><span class="line"><span class="built_in">Array</span>(<span class="number">2</span>)</span><br><span class="line"><span class="number">0</span>: <span class="literal">undefined</span></span><br><span class="line"><span class="number">1</span>: <span class="literal">undefined</span></span><br><span class="line">length: <span class="number">2</span></span><br><span class="line">注意：左边的模式和右边的模式要匹配，不匹配的话就会报错。</span><br><span class="line"></span><br><span class="line">对象：</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>:[a,b,c]&#125; = &#123;<span class="attr">name</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a,b,c);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>:[a,b,c]&#125; = &#123;<span class="attr">name</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name)；<span class="comment">//打印不出啥 。</span></span><br><span class="line"><span class="comment">//打印出来的是 1,2,3</span></span><br></pre></td></tr></table></figure>
<h1 id="五-ES6参数的处理"><a href="#五-ES6参数的处理" class="headerlink" title="五 ES6参数的处理"></a>五 ES6参数的处理</h1><h2 id="5-1-参数默认值问题"><a href="#5-1-参数默认值问题" class="headerlink" title="5.1 参数默认值问题"></a>5.1 参数默认值问题</h2><h3 id="5-1-1-基本使用方法"><a href="#5-1-1-基本使用方法" class="headerlink" title="5.1.1 基本使用方法"></a>5.1.1 基本使用方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b,c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line"><span class="comment">//输出的是 undefined undefined undefined</span></span><br><span class="line">  f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//输出的是 1,2,3</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a=<span class="number">3</span>,b=<span class="number">2</span>,c=<span class="number">3</span></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//输出的是 1,2,3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a=<span class="number">3</span>,b=<span class="number">2</span>,c=<span class="number">3</span></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line"><span class="comment">//输出的是 3,2,1</span></span><br><span class="line">注意：当a,b，c严格等于<span class="literal">undefined</span>的时候，才会使用默认赋值。</span><br></pre></td></tr></table></figure>
<p>除了传值还可以传个函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">value</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a=value(</span>),<span class="title">b</span>=2,<span class="title">c</span>=3)</span>&#123; <span class="comment">//惰性求值</span></span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line"><span class="comment">//输出的是 2,2,1</span></span><br><span class="line">注意：惰性赋值只有在其值严格等于<span class="literal">undefined</span>的时候才会执行。可以提高性能</span><br></pre></td></tr></table></figure>
<h3 id="5-1-2-在默认值中使用其他变量"><a href="#5-1-2-在默认值中使用其他变量" class="headerlink" title="5.1.2 在默认值中使用其他变量"></a>5.1.2 在默认值中使用其他变量</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a = <span class="number">1</span>,b = a</span>)</span>&#123;<span class="comment">//从左到右执行，先给a=1,再给b=a; 如果换成 b=a,a=1;的形式就会报错，因为从左到右执行a的值还没有传。</span></span><br><span class="line">    <span class="built_in">console</span>.log(a,b);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//在默认值中使用其他变量</span><br><span class="line">const c = 3;</span><br><span class="line">function f(a = c)&#123;</span><br><span class="line">    const c = 2;</span><br><span class="line">    console.log(a,c);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line">结果输出的是  3,2</span><br><span class="line">原因:函数参数作用域，因为a值严格等于undefined，所以会走默认赋值，函数参数作用域是介于外面作用域和里面作用域之间的，可以访问到外面的作用域，但是不可以里面作用域的值。</span><br></pre></td></tr></table></figure>
<h2 id="5-2-剩余运算符（Rest）"><a href="#5-2-剩余运算符（Rest）" class="headerlink" title="5.2 剩余运算符（Rest）"></a>5.2 剩余运算符（Rest）</h2><p>作用：将散列的元素汇成集合</p>
<h3 id="5-2-1-在函数中的使用（写在最后）"><a href="#5-2-1-在函数中的使用（写在最后）" class="headerlink" title="5.2.1 在函数中的使用（写在最后）"></a>5.2.1 在函数中的使用（写在最后）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arguments 可以获取有多少个参数，但是获取的是类数组，类数组使用的时候需要遍历。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">输出的是一个数组</span><br><span class="line"><span class="built_in">Array</span>(<span class="number">2</span>)</span><br><span class="line"><span class="number">0</span>: <span class="number">1</span></span><br><span class="line"><span class="number">1</span>: <span class="number">2</span></span><br><span class="line">length: <span class="number">2</span></span><br><span class="line">__proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">...arr</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">输出的是一个数组</span><br><span class="line"><span class="built_in">Array</span>(<span class="number">2</span>)</span><br><span class="line"><span class="number">0</span>: <span class="number">1</span></span><br><span class="line"><span class="number">1</span>: <span class="number">2</span></span><br><span class="line">length: <span class="number">2</span></span><br><span class="line">__proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">注意使用：剩余运算符只能写在最后一项。</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,...arr</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>，<span class="number">3</span>,<span class="number">4</span>);<span class="comment">//将1给了a，剩余的值组成数组。</span></span><br><span class="line">打印出的结果是：</span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>)</span><br><span class="line"><span class="number">0</span>: <span class="number">2</span></span><br><span class="line"><span class="number">1</span>: <span class="number">3</span></span><br><span class="line"><span class="number">2</span>: <span class="number">4</span></span><br><span class="line">length: <span class="number">3</span></span><br><span class="line">__proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h3 id="5-2-2-在解构中使用"><a href="#5-2-2-在解构中使用" class="headerlink" title="5.2.2 在解构中使用"></a>5.2.2 在解构中使用</h3><p><strong>在数组</strong>(在最后写)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a,b,c] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a,b,c) <span class="comment">//输出的结果是1,2,3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [a,...arr] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a,arr) <span class="comment">//输出的结果是1 Array(2)</span></span><br></pre></td></tr></table></figure>
<p><strong>在对象</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;a,b,c&#125; = &#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>,<span class="attr">c</span>:<span class="number">3</span>,<span class="attr">d</span>:<span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a,b,c)<span class="comment">//输出的结果是1,2,3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;a,b,...c&#125; = &#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>,<span class="attr">c</span>:<span class="number">3</span>,<span class="attr">d</span>:<span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a,b,c)</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<h2 id="5-3-扩展运算符"><a href="#5-3-扩展运算符" class="headerlink" title="5.3 扩展运算符"></a>5.3 扩展运算符</h2><p> 把一个集合变成散元素</p>
<h3 id="5-3-1-函数参数传递"><a href="#5-3-1-函数参数传递" class="headerlink" title="5.3.1 函数参数传递"></a>5.3.1 函数参数传递</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b,c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f([<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>])</span><br><span class="line"><span class="comment">//输出的结果是Array(3) undefined undefined</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function f(a,b,c)&#123;</span><br><span class="line">    console.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f(...[1,2,4])</span><br><span class="line">//输出的结果是 1,2,4</span><br></pre></td></tr></table></figure>
<h3 id="5-3-2-数组和对象的复制"><a href="#5-3-2-数组和对象的复制" class="headerlink" title="5.3.2 数组和对象的复制"></a>5.3.2 数组和对象的复制</h3><p><strong>数组的复制</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr1;</span><br><span class="line">arr2.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line">输出的是<span class="built_in">Array</span>(<span class="number">4</span>) arr2的改变 导致arr1也改变了。</span><br><span class="line">arr1和 arr2指向的是同一个地址。所以其中一个改变另一个也会改变</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr1.concat();</span><br><span class="line">arr2.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line">输出的是<span class="built_in">Array</span>(<span class="number">3</span>),这样就不会改变。属于浅拷贝</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [...arr1]</span><br><span class="line">arr2.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line">输出的是<span class="built_in">Array</span>(<span class="number">3</span>),这样就不会改变。</span><br></pre></td></tr></table></figure>
<p><strong>对象的复制</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对象的复制</span></span><br><span class="line">     <span class="keyword">let</span> obj1=&#123;</span><br><span class="line">         a: <span class="number">1</span>,</span><br><span class="line">         b: <span class="number">2</span>,</span><br><span class="line">         c : <span class="number">3</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">         ...obj1,</span><br><span class="line">     &#125;</span><br><span class="line">     obj2.name = <span class="string">"hh"</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(obj1);<span class="comment">//a: 1 b: 2 c: 3</span></span><br><span class="line">     <span class="built_in">console</span>.log(obj2);<span class="comment">//a: 1 b: 2 c: 3 name: "hh"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">...1,2,3 -&gt; [1,2,3]</span><br><span class="line">...[1,2,3]-&gt; 1,2,3</span><br></pre></td></tr></table></figure>
<h2 id="5-4-模拟命名参数"><a href="#5-4-模拟命名参数" class="headerlink" title="5.4 模拟命名参数"></a>5.4 模拟命名参数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">start,end</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        f(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">注：可读性低</span><br></pre></td></tr></table></figure>
<h3 id="5-4-1-使用对象的解构赋值来模拟命名参数"><a href="#5-4-1-使用对象的解构赋值来模拟命名参数" class="headerlink" title="5.4.1 使用对象的解构赋值来模拟命名参数"></a>5.4.1 使用对象的解构赋值来模拟命名参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">&#123;start = <span class="number">1</span>,end = <span class="number">2</span>&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(start,end);</span><br><span class="line">&#125;</span><br><span class="line">f(&#123;<span class="attr">start</span>:<span class="number">8</span>,<span class="attr">end</span>:<span class="number">12</span>&#125;);</span><br><span class="line">输出的结果是 <span class="number">8</span>,<span class="number">12.</span>等同于 &#123;start = <span class="number">1</span>,end = <span class="number">2</span>&#125;=&#123;<span class="attr">start</span>:<span class="number">8</span>,<span class="attr">end</span>:<span class="number">12</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">&#123;start = <span class="number">1</span>,end = <span class="number">2</span>&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(start,end);</span><br><span class="line">&#125;</span><br><span class="line">f(&#123;&#125;);<span class="comment">//此时严格等于undefined  所以走默认值，输出 1,2</span></span><br><span class="line">注意：f()中如果不传参数， 其格式也要和形参中的形式一致。</span><br><span class="line">否则就等同于&#123;start = <span class="number">1</span>,end = <span class="number">2</span>&#125; = <span class="literal">undefined</span>；左边和右边的模式就不匹配了。</span><br></pre></td></tr></table></figure>
<h1 id="六-对数字的处理"><a href="#六-对数字的处理" class="headerlink" title="六 对数字的处理"></a>六 对数字的处理</h1><h2 id="6-1-新的整形字面量"><a href="#6-1-新的整形字面量" class="headerlink" title="6.1 新的整形字面量"></a>6.1 新的整形字面量</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">二进制是 0b开头，八进制是 0o开头的，十六进制是0开头的</span><br></pre></td></tr></table></figure>
<h2 id="6-2-新的Number方法"><a href="#6-2-新的Number方法" class="headerlink" title="6.2  新的Number方法"></a>6.2  新的Number方法</h2><h3 id="6-2-1-以前方法的移植"><a href="#6-2-1-以前方法的移植" class="headerlink" title="6.2.1 以前方法的移植"></a>6.2.1 以前方法的移植</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">isNaN</span> 检查一个值是否为 <span class="literal">NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"111"</span>));<span class="comment">//返回的是false。进行了隐士转换，再做判断</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"&gt;"</span>));</span><br><span class="line"></span><br><span class="line">将<span class="built_in">isNaN</span>移植到<span class="built_in">Number</span>上</span><br><span class="line">传的不是一个数字的时候，直接就是<span class="literal">false</span>，只有传的是数字的时候，才会进行<span class="built_in">isNaN</span>判断</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"111"</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="string">"111"</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="number">111</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="number">9</span>/<span class="literal">NaN</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//isFinite检查一个数值是否有限的</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="string">"111"</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isFinite(<span class="string">"441"</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isFinite(<span class="number">234</span>));<span class="comment">//true</span></span><br><span class="line">传的不是一个数字的时候，直接就是<span class="literal">false</span>，只有传的是数字的时候，才会进行<span class="built_in">isFinite</span>判断</span><br></pre></td></tr></table></figure>
<p>以上方法与传统方法的区别是，传统方法先调用Number()将数值转为数值，再进行判断，而新方法只对数值有效，对于非数值一律返回false。且Number.isNaN();只有对于NaN才会返回true。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.parseFloat()<span class="comment">//</span></span><br><span class="line"><span class="built_in">Number</span>.parseInt();<span class="comment">//取整</span></span><br></pre></td></tr></table></figure>
<p>以上两种方法与传统方法行为保持不变，这样做的目的是逐步减少全局性方法，使语言逐步模块化。</p>
<h3 id="6-2-2-合理误差范围"><a href="#6-2-2-合理误差范围" class="headerlink" title="6.2.2 合理误差范围"></a>6.2.2 合理误差范围</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Number.EPSILON();//引入一个这么小的量，目的在于浮点数计算设置一个误差范围。实质是一个可以接受的误差范围。</span><br></pre></td></tr></table></figure>
<h3 id="6-2-3-判断是否为整型"><a href="#6-2-3-判断是否为整型" class="headerlink" title="6.2.3 判断是否为整型"></a>6.2.3 判断是否为整型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isInteger();</span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25.0</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="string">"15"</span>);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<h3 id="6-2-4-完全整数的相应方法"><a href="#6-2-4-完全整数的相应方法" class="headerlink" title="6.2.4 完全整数的相应方法"></a>6.2.4 完全整数的相应方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="string">"15"</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="number">15</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h2 id="6-3-新的Math方法"><a href="#6-3-新的Math方法" class="headerlink" title="6.3  新的Math方法"></a>6.3  新的Math方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.sign();方法用来判断一个数到底是不是正数，负数，还是零</span><br><span class="line">参数为正数，返回+<span class="number">1</span></span><br><span class="line">参数为负数，返回<span class="number">-1</span>；</span><br><span class="line">参数为<span class="number">0</span>，返回<span class="number">0</span>；</span><br><span class="line">参数为<span class="number">-0</span>，返回<span class="number">-0</span>；</span><br></pre></td></tr></table></figure>
<h1 id="七-箭头函数详解"><a href="#七-箭头函数详解" class="headerlink" title="七 箭头函数详解"></a>七 箭头函数详解</h1><h2 id="7-1-基本语法"><a href="#7-1-基本语法" class="headerlink" title="7.1 基本语法"></a>7.1 基本语法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">基本语法:  () =&gt; &#123;&#125;</span><br><span class="line"></span><br><span class="line">function f(a,b)&#123;</span><br><span class="line">    console.log(a+b);</span><br><span class="line">&#125;</span><br><span class="line">f(1,2);</span><br><span class="line">打印的是 3</span><br><span class="line">var foo1 = (a,b) =&gt; &#123;</span><br><span class="line">    console.log(a+b)</span><br><span class="line">&#125;</span><br><span class="line">foo1(1,2);</span><br><span class="line">打印的是3</span><br></pre></td></tr></table></figure>
<h2 id="7-2-注意"><a href="#7-2-注意" class="headerlink" title="7.2  注意"></a>7.2  注意</h2><p><strong>参数</strong></p>
<p>如果只有一个参数的话，我们的小括号可以省略</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function">(<span class="params">a</span>) =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">可以把小括号去掉</span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="params">a</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>如果只有0个或2个及2个以上的话，我们的小括号必须有</p>
<p>如果是一条语句的话，大括号可以删除，且如果由return的话，也要将return去除。</p>
<p>如果是两条或以上的话，不可以省略大括号。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> x*x;</span><br><span class="line">&#125;)</span><br><span class="line"> 可以省略的部分都省略。</span><br><span class="line"> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.map( <span class="function"><span class="params">x</span> =&gt;</span>x*x));</span><br></pre></td></tr></table></figure>
<p>map的使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">map() 方法返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值。</span><br><span class="line"><span class="keyword">var</span> data = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Squares = data.map(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> item * item;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(Squares);</span><br><span class="line"><span class="comment">// [9, 16, 25, 36]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> users = [</span><br><span class="line">&#123;<span class="attr">name</span>: <span class="string">"张含韵"</span>, <span class="string">"email"</span>: <span class="string">"zhang@email.com"</span>&#125;,</span><br><span class="line">&#123;<span class="attr">name</span>: <span class="string">"江一燕"</span>,   <span class="string">"email"</span>: <span class="string">"jiang@email.com"</span>&#125;,</span><br><span class="line">&#123;<span class="attr">name</span>: <span class="string">"李小璐"</span>,  <span class="string">"email"</span>: <span class="string">"li@email.com"</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> emails = users.map(<span class="function"><span class="keyword">function</span> (<span class="params">user</span>) </span>&#123; <span class="keyword">return</span> user.email; &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(emails);</span><br><span class="line"><span class="comment">//["zhang@email.com", "jiang@email.com", "li@email.com"]</span></span><br></pre></td></tr></table></figure>
<h3 id="7-2-1-this指向问题"><a href="#7-2-1-this指向问题" class="headerlink" title="7.2.1 this指向问题"></a>7.2.1 this指向问题</h3><p>传统方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//很显然这里的this是window</span></span><br><span class="line">    init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//很显然这里的this是obj，因为下面是obj在调用这个函数。   </span></span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是谁调用了它，就是谁，显然是document在使用它。</span></span><br><span class="line">           <span class="keyword">this</span>.end(event.type);<span class="comment">//这里报错了，end函数是定义在obj对象中的，需要通过obj来调用，但是这里的this指向的是document而不是obj。</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    end:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line">如果想改变<span class="keyword">this</span>的指向呢?</span><br><span class="line">方法一：</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line">    	<span class="keyword">var</span> that = <span class="keyword">this</span>;<span class="comment">//此处的this是obj，将其储存在一个变量内</span></span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是谁调用了它，就是谁，显然是document在使用它。</span></span><br><span class="line">             that.end(event.type);<span class="comment">//此时就是obj在调用end函数。</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    end:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line">方法二：可以在<span class="function"><span class="keyword">function</span>是可以改变<span class="title">this</span>指向的。</span></span><br><span class="line"><span class="function">    <span class="title">var</span> <span class="title">obj</span> = </span>&#123;</span><br><span class="line">    init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是谁调用了它，就是谁，显然是document在使用它。</span></span><br><span class="line">             <span class="keyword">this</span>.end(event.type);<span class="comment">//此时就是obj在调用end函数。</span></span><br><span class="line">        &#125;.bind(<span class="keyword">this</span>))<span class="comment">//bind改变了this的指向。哪里的this不是想要的，就把bind放在哪里，这样就可以使用上一级的this。</span></span><br><span class="line">    &#125;,</span><br><span class="line">    end:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br></pre></td></tr></table></figure>
<p>注意：是在对象中定义函数，起初自己是在函数中写函数，调用的时候就没有思考直接使用了，报错了。那样不是函数。</p>
<p>箭头函数的this指向</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">箭头函数里是没有<span class="keyword">this</span>指向的，借用的其父级作用域的。</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>,event =&gt;&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是init</span></span><br><span class="line">         <span class="keyword">this</span>.end(event.type);<span class="comment">//这里的this是init</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">end:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">而且其<span class="keyword">this</span>指向是不可以被更改的。</span><br><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是obj</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init:<span class="function"><span class="params">()</span> =&gt;</span><span class="built_in">console</span>.log(<span class="keyword">this</span>)   <span class="comment">//这里的this是window，用的是其父级的this，父级是window </span></span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init:<span class="function"><span class="params">()</span> =&gt;</span><span class="built_in">console</span>.log(<span class="keyword">this</span>)<span class="comment">//这里的this是window </span></span><br><span class="line">&#125;</span><br><span class="line">obj.init.call(obj);<span class="comment">//是无法改变其指向的</span></span><br></pre></td></tr></table></figure>
<h3 id="7-2-2-不能使用arguments"><a href="#7-2-2-不能使用arguments" class="headerlink" title="7.2.2 不能使用arguments"></a>7.2.2 不能使用arguments</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init: <span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);<span class="comment">//会报错的.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-2-3-不能当做构造函数"><a href="#7-2-3-不能当做构造函数" class="headerlink" title="7.2.3 不能当做构造函数"></a>7.2.3 不能当做构造函数</h3><p>建议是：没有this指向的时候使用箭头函数，有的话要注意可能会出错。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init: <span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> obj.init.call(obj);<span class="comment">//会报错，obj.init()不是构造函数</span></span><br></pre></td></tr></table></figure>
<h3 id="7-2-4-复习this"><a href="#7-2-4-复习this" class="headerlink" title="7.2.4 复习this"></a>7.2.4 复习this</h3><p><strong>自己执行的时候this指向</strong>(默认绑定)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">   <span class="keyword">return</span> a+b;</span><br><span class="line">  &#125;</span><br><span class="line"> add(<span class="number">10</span>,<span class="number">20</span>)<span class="comment">//this===window</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">隐士绑定 在一个对象的内部通过属性间接引用函数，从而把this隐士绑定到对象内部属性所指向的函数</span><br><span class="line">显示绑定 需要引用一个对象时进行强制绑定调用，js有提供call()、apply()方法，ES5中也提供了内置的方法 Function.prototype.bind。</span><br></pre></td></tr></table></figure>
<p><strong>隐士this指向变化</strong>  对象方法的调用模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">   name:<span class="string">'aaa'</span>,</span><br><span class="line">   age:<span class="number">20</span>,</span><br><span class="line">   said:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">obj.said();<span class="comment">//this===obj，此处this指代被调用者</span></span><br></pre></td></tr></table></figure>
<p><strong>显示this指向</strong>  call和apply调用模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.detial=a*b;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> p=&#123;&#125;;</span><br><span class="line">  change.call(p,<span class="number">4</span>,<span class="number">5</span>);<span class="comment">//此处的this===p</span></span><br><span class="line">  <span class="built_in">console</span>.log(p.detial);</span><br><span class="line">  <span class="keyword">var</span> q=[];</span><br><span class="line">  change.call(q,<span class="number">5</span>,<span class="number">10</span>)<span class="comment">//this===q</span></span><br><span class="line">  <span class="built_in">console</span>.log(q.detial);</span><br><span class="line">  <span class="comment">//apply和call一样的用法，只不过apply第二个参数用数组进行传递</span></span><br><span class="line">  <span class="keyword">var</span> arr=[];</span><br><span class="line">  change.apply(arr,[<span class="number">10</span>,<span class="number">10</span>]);<span class="comment">//this===arr</span></span><br><span class="line">  <span class="built_in">console</span>.log(arr.detial);</span><br><span class="line">  <span class="keyword">var</span> str=&#123;&#125;;</span><br><span class="line">  change.apply(str,[<span class="number">20</span>,<span class="number">20</span>]);<span class="comment">//this===str</span></span><br><span class="line">  <span class="built_in">console</span>.log(str.detial);</span><br></pre></td></tr></table></figure>
<p><strong>new指向</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">School</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.said=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">var</span> nanj=<span class="keyword">new</span> School();</span><br><span class="line">nanj.said();<span class="comment">//对象调用自己的方法，this===nanj,this在构造函数中指的是实例对象</span></span><br></pre></td></tr></table></figure>
<p><strong>箭头函数的this指向</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">箭头函数里是没有this指向的，借用的其父级作用域的。</span><br></pre></td></tr></table></figure>
<p><strong>this实例</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//      一、 this指向详解</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//      this的指向在函数定义的时候是确定不了的， 只有函数执行的时候才能确定this到底指向谁， 实际上this的最终指向的是那个调用它的对象（ 这句话不那么严谨， 作为一般情况下是可以的）</span></span><br><span class="line">    <span class="comment">// 情况1：如果一个函数中有this，但是它没有被上一级的对象所调用，那么this指向的就是window，这里需要说明的是在js的严格版中this指向的不是window，但是我们这里不探讨严格版的问题(在严格版中的默认的this不再是window，而是undefined。)</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> user = <span class="string">"剃了胡子"</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.user); <span class="comment">//undefined</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//Window</span></span><br><span class="line">    &#125;</span><br><span class="line">    a(); <span class="comment">//相当于window.a();</span></span><br><span class="line">    <span class="comment">//this最终指向的是调用它的对象，这里的函数a实际是被Window对象所点出来的</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 情况2：如果一个函数中有this，这个函数有被上一级的对象所调用，那么this指向的就是上一级的对象。</span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        user: <span class="string">"剃了胡子"</span>,</span><br><span class="line">        fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.user); <span class="comment">//剃了胡子</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//&#123;user: "剃了胡子", fn: ƒ&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    o.fn(); <span class="comment">//this执行时被它的上一级对象o&#123;user: "剃了胡子", fn: ƒ&#125;调用</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 情况3：如果一个函数中有this，这个函数中包含多个对象，尽管这个函数是被最外层的对象所调用，this指向的也只是它上一级的对象</span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        a: <span class="number">10</span>,</span><br><span class="line">        b: &#123;</span><br><span class="line">            <span class="comment">//a:12,</span></span><br><span class="line">            fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//undefind  有两个对象b和o,所以此this.a指向它的上一级</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        fn1: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//10 </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    o.fn1();</span><br><span class="line">    o.b.fn();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//      另外还有两种种特殊情况：</span></span><br><span class="line">    <span class="comment">//      第一种：当this遇到return</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//剃了胡子</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//剃了胡子</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//剃了胡子</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 总结：如果返回值是一个对象，那么this指向的就是那个返回的对象，如果返回值不是一个对象那么this还是指向函数的实例。 </span></span><br><span class="line">    <span class="comment">// 还有一点就是虽然null也是对象，但是在这里this还是指向那个函数的实例，因为null比较特殊。 </span></span><br><span class="line">    <span class="comment">// 第二种：</span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        a: <span class="number">10</span>,</span><br><span class="line">        b: &#123;</span><br><span class="line">            a: <span class="number">12</span>,</span><br><span class="line">            fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//undefined</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//window</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> j = o.b.fn;</span><br><span class="line">    j();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 这里this指向的是window，是不是有些蒙了？其实是因为你没有理解一句话，这句话同样至关重要。</span></span><br><span class="line">    <span class="comment">// 　　this永远指向的是最后调用它的对象，也就是看它执行的时候是谁调用的，例子4中虽然函数fn是被对象b所引用，但是在将fn赋值给变量j的时候并没有执行所以最终指向的是window</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/20/es6_1/" data-id="cjshkaua0001nmgggg4zfb23e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/08/js1/" class="article-date">
  <time datetime="2018-11-08T08:28:39.000Z" itemprop="datePublished">2018-11-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/js/">js</a>►<a class="article-category-link" href="/categories/js/js进阶1/">js进阶1</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/08/js1/">js进阶知识点总结1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-JavaScript进阶（一）"><a href="#一-JavaScript进阶（一）" class="headerlink" title="一.JavaScript进阶（一）"></a>一.JavaScript进阶（一）</h1><h2 id="1-1-JS引入及阻塞加载"><a href="#1-1-JS引入及阻塞加载" class="headerlink" title="1.1 JS引入及阻塞加载"></a>1.1 JS引入及阻塞加载</h2><h3 id="1-引入js的两种方式"><a href="#1-引入js的两种方式" class="headerlink" title="1.引入js的两种方式"></a>1.引入js的两种方式</h3><p>(1).嵌入代码块</p>
<p>(2).引入外部文件</p>
<p>注：可以有多个代码块，先下载，后解析，再执行（多个js代码块按照从上往下执行）</p>
<h3 id="2-存在的问题"><a href="#2-存在的问题" class="headerlink" title="2.存在的问题"></a>2.存在的问题</h3><p>为啥加载慢？为什么获取不到dom元素？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>js1中写的是</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(oDiv);</span><br></pre></td></tr></table></figure>
<p>返回的值是null ，为什么呢？</p>
<p>观察上述代码，js是在head中引入的，代码是从上到下执行的，当遇到js文件的时候，就会下载做解析并执行，而下面的html标签都还没有执行，所以是个空的。</p>
<p>如何解决？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>先执行完了前面的html结构，就可以打印出来div1。</p>
<p>这样做的优点：    一定能够获取想要的dom元素。</p>
<pre><code>保证页面能够尽可能快的展示给用户。
</code></pre><p>js是从上往下执行的，如果在上面引入的话，下载很快，解析也快，但是执行很浪费时间的话，会导致整个页面就停在那了。放在下面的话，基本的已经被浏览器加载完显示出来了，只是部分没有加载完而已，但是给人的感觉就是页面加载挺快的。</p>
<p>模拟花费的时间：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">new date()；//获取当前具体时间。</span><br><span class="line">Date.now();自1970年至今所经过的毫秒数。</span><br></pre></td></tr></table></figure>
<p>创建一万个div的快捷方式。 div{$}*10000</p>
<h2 id="1-2-新的加载模式"><a href="#1-2-新的加载模式" class="headerlink" title="1.2.新的加载模式"></a>1.2.新的加载模式</h2><h3 id="1-延迟加载"><a href="#1-延迟加载" class="headerlink" title="1.延迟加载"></a>1.延迟加载</h3><p>定义：表示脚本可以延迟到文档完全被解析和显示之后再执行</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">"1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  html5中可以</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> =<span class="string">"defer"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> html 中严格标准</span><br><span class="line">1.异步加载</span><br><span class="line">2.多个js，按定义的顺序执行</span><br><span class="line">3.在文档解析完，才执行</span><br><span class="line">4. 在DOMContentLoaded事件之前执行完</span><br><span class="line">5. 只支持外部引入方式，（IE7以前的除外）</span><br><span class="line">document -&gt; HTML -&gt; DOM(在这个DOM之前完成加载)</span><br><span class="line">大概的结构都出来了，等音频、照片下载完后加载出来，整个页面执行完后会调用load事件。</span><br><span class="line">其效果和将js文件写在body中的最下面是一样的。</span><br></pre></td></tr></table></figure>
<h3 id="2-异步加载"><a href="#2-异步加载" class="headerlink" title="2.异步加载"></a>2.异步加载</h3><p>定义：表示应该立即下载脚本，但不应妨碍页面中的其他操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script async src=&quot;1.js&quot;&gt;&lt;/script&gt;  html5中可以</span><br><span class="line">&lt;script async=&quot;async&quot;&gt;&lt;/script&gt; html 中严格标准</span><br><span class="line">1.异步加载</span><br><span class="line">2. 多个js，不一定按顺序执行</span><br><span class="line">3.加载完就执行，在load事件之前</span><br><span class="line">4. 在load事件之前执行完</span><br><span class="line">5. 只支持外部引入方式</span><br></pre></td></tr></table></figure>
<img src="/2018/11/08/js1/js1.png">
<h2 id="1-3-打印出1万以内所有的质数"><a href="#1-3-打印出1万以内所有的质数" class="headerlink" title="1.3.打印出1万以内所有的质数"></a>1.3.打印出1万以内所有的质数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>;j &lt;= i; j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i%j === <span class="number">0</span> &amp;&amp; j != i &amp; j !=<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(j == i)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先判断是不是一个数 -》质数</p>
<p>质数的定义：只能被1和自己整除。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">number</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(number % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; number &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(number == <span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(n &lt; number)&#123;</span><br><span class="line">        <span class="keyword">if</span>( number % n == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        n += <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(f(i))&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<h2 id="1-4-JS的数据类型"><a href="#1-4-JS的数据类型" class="headerlink" title="1.4.JS的数据类型"></a>1.4.JS的数据类型</h2><h3 id="1-6种基本类型"><a href="#1-6种基本类型" class="headerlink" title="1. 6种基本类型"></a>1. 6种基本类型</h3><p>number :所有的数字，int float</p>
<p>string ：所有的字符、字符串</p>
<p>boolean：true false</p>
<p>null：null对象是空</p>
<p>undefined ：undefined变量未定义</p>
<p>object：除了上面的，都是对象。</p>
<p>问题一：null == undefined ??</p>
<p>null == undefined ??  是相等的，这是值的比较。（这两个值都是空的，但是类型不一样）</p>
<p>=== 是值和类型的比较。此时就为false了。</p>
<p>问题二：Number  String  Boolean</p>
<p>这些是系统提供的，是对象。</p>
<h3 id="1-7-JS的获取数据类型"><a href="#1-7-JS的获取数据类型" class="headerlink" title="1.7 JS的获取数据类型"></a>1.7 JS的获取数据类型</h3><p>常用的四种方式</p>
<p><strong>1.typeof</strong></p>
<p>注意：在类型是null的时候，其返回的会是object（null是object的特殊值）</p>
<pre><code>typeof(function(){}) 返回function 方法是对象的一部分。遗留了java的一部分。
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">istype</span>(<span class="params">tt</span>)</span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(tt === <span class="literal">null</span>)&#123;<span class="comment">//因为null和undefined在==的条件下是相等的，所以要严格等于（值和类型都等于）。</span></span><br><span class="line">           <span class="keyword">return</span> <span class="string">"null"</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">typeof</span>(tt);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>其无法判断对象的具体类型</p>
<p>var a = []; typeof(a) 返回的是object</p>
<p>var date = new Date()返回的是object；</p>
<p><strong>2.Object.prototype.toString.call() 推荐使用</strong></p>
<p>Object.prototype.toString.call(a)；返回的就是 “[object Array]”</p>
<p>Object.prototype.toString.call(date)； 返回的是 “[object Date]”</p>
<p>系统的东西都可以打印出来。</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString</a></p>
<p>存在的缺点：如果是自定义的类型是获取不到的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hhh"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> f();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(x));</span><br></pre></td></tr></table></figure>
<p>如何解决：使用下面两种方式</p>
<p><strong>3.instanceof   仅对判断对象的具体类型（只适用于对象）</strong></p>
<p>使用方法： x instanceof</p>
<p>意思是： x是不是y的类型呢</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(a <span class="keyword">instanceof</span> number)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hhh"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>按照上面的写法，会报错Uncaught ReferenceError: number is not defined</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span>(a <span class="keyword">instanceof</span> number)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hhh"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>返回的是true。</p>
<p><strong>4.constructor 查看对象对应的构造函数，很方便造假？</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">function <span class="title">f1</span><span class="params">(age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> f2 = <span class="keyword">new</span> f1();</span><br><span class="line">    <span class="keyword">if</span>(f2.constructor == f1)&#123;</span><br><span class="line">        console.log(<span class="string">"hhh"</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>instanceof 不可以判断number </p>
<p>可以使用 (1).constructor    这里有个隐士转换  返回了ƒ Number() { [native code] }</p>
<p>总结：不管 给什么类型，都可以判断出来是什么类型的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">     <span class="keyword">var</span> typename = <span class="built_in">Object</span>.prototype.toString.call(x);</span><br><span class="line">     <span class="keyword">if</span>(typename == [<span class="built_in">Object</span>,<span class="built_in">Object</span>])&#123;</span><br><span class="line">         typename = <span class="string">"[Object"</span>+typename.constructor.name + <span class="string">"]"</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> typename;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-8-数字和二进制"><a href="#1-8-数字和二进制" class="headerlink" title="1.8  数字和二进制"></a>1.8  数字和二进制</h2><img src="/2018/11/08/js1/js2.jpg">
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.int  考虑安全范围，会不会有丢失精度，不要超过这个范围。</span><br><span class="line"></span><br><span class="line">2.float  1.111  考虑精度的问题。0.1+0.2 = 0.300000000004</span><br><span class="line">转化成二进制的时候会造成无限循环，不能完全表达出小数，并不能等于。所以造成精度丢失。</span><br><span class="line">以IEEE754转化的。都会有精度丢失。</span><br><span class="line">0.1+0.4 = 0.5？ 返回的是true，因为两个精度无限叠加可以将无限循环小数消除掉。</span><br><span class="line"></span><br><span class="line">如何解决这种精度问题？</span><br><span class="line">将小数转化为整数，也就是降低单位，再在其基础上除去扩大的倍数。</span><br><span class="line">Math方法</span><br><span class="line">Number方法</span><br><span class="line"></span><br><span class="line">3.科学计数法  1e+3 —&gt; 1000（中间是没有空格的）</span><br><span class="line">有个极大值和极小值</span><br><span class="line">超过极大值就会变化一个无穷大的值。</span><br><span class="line"></span><br><span class="line">4.NaN</span><br><span class="line">typeof  NaN</span><br></pre></td></tr></table></figure>
<h2 id="1-9-十进制转化为二进制"><a href="#1-9-十进制转化为二进制" class="headerlink" title="1.9 十进制转化为二进制"></a>1.9 十进制转化为二进制</h2><p><strong>1.整数</strong></p>
<p>除2取余（看除以2是否有余数），倒序。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> ary = [];</span><br><span class="line">    <span class="keyword">while</span>(a)&#123;</span><br><span class="line">        ary.push(a%<span class="number">2</span>);</span><br><span class="line">        a = <span class="built_in">parseInt</span>(a/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">var</span> len = ary.length;</span><br><span class="line">        <span class="comment">//var artt = [];</span></span><br><span class="line">        <span class="comment">//for(var i = 0; i &lt; len; i++)&#123;</span></span><br><span class="line">        <span class="comment">//    artt[i] = ary[len-1-i]; </span></span><br><span class="line">        <span class="comment">//&#125; </span></span><br><span class="line">        <span class="keyword">var</span> artt = ary.reverse();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(artt);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>数据中的方法使用：</p>
<p><strong>1、join（）方法</strong></p>
<p>Array.join()方法将数组中所以元素都转化为字符串链接在一起，返回最后生成的字符串。也可以指定可选的字符串在生成的字符串中来分隔数组的各个元素。如果不指定分隔符，默认使用逗号。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.join();<span class="comment">//=&gt; "1,2,3" 因为没有指定分隔符，默认为逗号。</span></span><br><span class="line">a.join(<span class="string">"+"</span>);<span class="comment">//=&gt; "1+2+3" 指定分隔符为+</span></span><br><span class="line">a.join(<span class="string">"-"</span>);<span class="comment">//=&gt; "1-2-3" 指定分隔符为-</span></span><br></pre></td></tr></table></figure>
<p><strong>2、 reverse()方法：</strong></p>
<p>Array.reverse()方法将数组中元素进行倒叙，返回倒叙的数组，它是在原来数组中进行倒叙，不产生新的数组，返回就是原来的数组，只不过里面元素已经进行倒叙重排了。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.reverse();<span class="comment">// =&gt;a=[3,2,1];</span></span><br></pre></td></tr></table></figure>
<p><strong>3、sort()方法：</strong></p>
<p>Array.sort()方法将数组中的元素排序，并返回排序好的数组。如果不传参数默认以字母表顺序进行排序。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">a.sort();<span class="comment">// =&gt;[1,2,3,4]</span></span><br><span class="line">a.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a-b;&#125;);<span class="comment">//=&gt;[1,2,3,4] 降序排列</span></span><br><span class="line">a.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> b-a;&#125;);<span class="comment">//=&gt;[4,3,2,1] 升序排列</span></span><br><span class="line">比较函数</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">value1,value2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(value1&gt;value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value1&lt;value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> values = [<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">5</span>];</span><br><span class="line">values,sort(compare);</span><br><span class="line">alert(values);</span><br><span class="line"><span class="comment">//以上是升序的排法。降序则将比较函数中的反过来。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">value1,value2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(value1&gt;value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value1&lt;value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>4、concat():</strong></p>
<p>Array.concat()方法创建并返回一个新数组，新数组中的元素包含调用数组的元素和concat()中传入参数的值，传入的参数可以是单独数值，也可以是数组,concat()不会递归扁平化数组的数组。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line">a.concat(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">// =&gt;[5,6,7,1,2];</span></span><br><span class="line">a.concat([<span class="number">1</span>,<span class="number">2</span>]);<span class="comment">// =&gt;[5,6,7,1,2];</span></span><br><span class="line">a.concat(<span class="number">3</span>,[<span class="number">1</span>,<span class="number">2</span>]);<span class="comment">// =&gt;[5,6,7,3,1,2];</span></span><br><span class="line">a.concat([<span class="number">1</span>,[<span class="number">2</span>,<span class="number">3</span>]]);<span class="comment">// =&gt;[5,6,7,1,[2,3]];</span></span><br></pre></td></tr></table></figure>
<p><strong>5、slice（）方法：</strong></p>
<p>Array.slice()方法返回指定数组的一个片段或子数组。里面可以传一个参数或两个参数，参数可以为正也可以为负。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">a.slice(<span class="number">1</span>)<span class="comment">// =&gt;[6,7,3,1,2] 数字参数指的是数组的索引，一个参数表示开始的位置，不传第二个参数默认为数组中元素个数。</span></span><br><span class="line"> a.slice(<span class="number">1</span>,<span class="number">3</span>)<span class="comment">// =&gt;[6,7] 第二参数是数组索引结束位置，(不包含) index&gt;=1&amp;&amp;index&lt;3;</span></span><br><span class="line">a.slice(<span class="number">1</span>,<span class="number">-3</span>)<span class="comment">// =&gt;[6,7] 当参数中有负数时候，可以进行转换正数，方法就是-3+6(数组里元素个数）</span></span><br><span class="line"> a.slice(<span class="number">-3</span>,<span class="number">-2</span>)<span class="comment">// =&gt;[3] 同理如上。</span></span><br></pre></td></tr></table></figure>
<p><strong>6、splice（）</strong></p>
<p>Array.splice()方法是在数组中插入或删除的通用方法。它会修改调用的数组，splice()可以传入三个参数，第一参数表示删除元素索引开始的地方，第二参数表示删除元素总数，第三参数，表示插入的元素，元素插入的位置就是删除元素开始的位置。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">a.splice(<span class="number">2</span>);<span class="comment">// =&gt;[7,3,1,2] a=[5,6];//传入一个参数表示从索引开始删除之后所有的元素。</span></span><br><span class="line">a.splice(<span class="number">2</span>,<span class="number">2</span>);<span class="comment">// =&gt;[7,3]   a=[5,6,1,2];第二个参数表示删除元素的个数。</span></span><br><span class="line">a.splice(<span class="number">2</span>,<span class="number">2</span>，<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>); <span class="comment">//=&gt;[7,3] a=[5,6,'a','b','c',1,2]; 删除两个后插入在删除的位置插入元素</span></span><br><span class="line">如果只是插入元素可以将第二个参数设置为<span class="number">0</span>。第三个直接写插入的元素。</span><br></pre></td></tr></table></figure>
<p><strong>7、push 添加元素到数组的末尾</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ary = [<span class="string">'a'</span>,<span class="string">'b'</span>];</span><br><span class="line">    ary.push(<span class="string">'ab'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(ary)；</span><br><span class="line">   结果是<span class="built_in">Array</span>(<span class="number">3</span>)</span><br><span class="line">        <span class="number">0</span>: <span class="string">"a"</span></span><br><span class="line">        <span class="number">1</span>: <span class="string">"b"</span></span><br><span class="line">        <span class="number">2</span>: <span class="string">"ab"</span></span><br><span class="line">        length: <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><strong>7、pop 删除数组末尾的元素</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> ary = [<span class="string">'a'</span>,<span class="string">'b'</span>];</span><br><span class="line">    ary.pop(<span class="string">"ab"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(ary);</span><br><span class="line">打印的是：<span class="built_in">Array</span>(<span class="number">2</span>)</span><br><span class="line">        <span class="number">0</span>: <span class="string">"a"</span></span><br><span class="line">        <span class="number">1</span>: <span class="string">"b"</span></span><br><span class="line">        length: <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p><strong>8、shift 删除数组最前面（头部）的元素</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var a=[5,6,7]; </span><br><span class="line">a.shift();// a=[6,7]; 返回值 5</span><br></pre></td></tr></table></figure>
<p><strong>9.unshift 添加元素到数组的头部</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.unshift(<span class="number">4</span>,<span class="number">5</span>);<span class="comment">// a=[4,5,1,2,3]; 返回 值为5；☆传的参数可以一个，也可以多个。</span></span><br></pre></td></tr></table></figure>
<p><strong>2.小数</strong></p>
<p>乘以2取整，正序。(如果是无限循环就取有限的一段)</p>
<p><strong>3.大于1的小数</strong></p>
<p>拆成整数和小数部分分别计算</p>
<p><strong>4.负整数</strong></p>
<p>在正整数基础上，取反并+1</p>
<h2 id="2-0-字符串及编码"><a href="#2-0-字符串及编码" class="headerlink" title="2.0 字符串及编码"></a>2.0 字符串及编码</h2><h2 id="2-1-运算符"><a href="#2-1-运算符" class="headerlink" title="2.1 运算符"></a>2.1 运算符</h2><img src="/2018/11/08/js1/js4.png">
<h2 id="2-2-内存管理之堆跟栈"><a href="#2-2-内存管理之堆跟栈" class="headerlink" title="2.2 内存管理之堆跟栈"></a>2.2 内存管理之堆跟栈</h2><img src="/2018/11/08/js1/js5.png">
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = b = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a +<span class="string">'===='</span> + b);<span class="comment">//1====1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = &#123;</span><br><span class="line">    n: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">c.x = c = &#123;<span class="attr">n</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="comment">//首先c.x会在 oxA0001中创建一个变量x，此时x为undefined，之后c被指向新的堆，0xF0005,之前地址的指向被盖掉，最后再给c.x赋值，那么c.x会指向0F0005</span></span><br><span class="line"><span class="built_in">console</span>.log(c.x);<span class="comment">//undefine</span></span><br><span class="line"><span class="built_in">console</span>.log(c);<span class="comment">//Object  n: 2</span></span><br><span class="line">			  <span class="comment">//__proto__: Object</span></span><br></pre></td></tr></table></figure>
<h1 id="二-进阶JavaScript（二）"><a href="#二-进阶JavaScript（二）" class="headerlink" title="二.进阶JavaScript（二）"></a>二.进阶JavaScript（二）</h1><h2 id="2-1-函数function"><a href="#2-1-函数function" class="headerlink" title="2.1 函数function"></a>2.1 函数function</h2><h3 id="2-1-1-创建方式"><a href="#2-1-1-创建方式" class="headerlink" title="2.1.1 创建方式"></a>2.1.1 创建方式</h3><p><strong>1.静态创建</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span> (<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<p><strong>2.动态方法</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">用对象的方式，<span class="keyword">new</span>一个出来。</span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"return a+b"</span>);</span><br><span class="line"><span class="comment">//大写是系统自带的形式，前面是参数，可以是多个。</span></span><br></pre></td></tr></table></figure>
<p><strong>3.两个之间的区别</strong></p>
<p><strong>4.函数的定义和使用</strong></p>
<p>函数一定要调用才会被执行  例如：add（）；</p>
<h3 id="2-1-2-return的作用"><a href="#2-1-2-return的作用" class="headerlink" title="2.1.2.return的作用"></a>2.1.2.return的作用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">将函数的运行结果返回。（且只能放一个值或者一个表达式）</span><br><span class="line">多个值的话，可以使用数组存储，最后返回数组。也可以以对象的形式接收 数据。</span><br></pre></td></tr></table></figure>
<h3 id="2-1-3-函数的作用域"><a href="#2-1-3-函数的作用域" class="headerlink" title="2.1.3.函数的作用域"></a>2.1.3.函数的作用域</h3><p> <strong>函数嵌套</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">         <span class="function"><span class="keyword">function</span> <span class="title">add1</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(a+b);</span><br><span class="line">            <span class="built_in">console</span>.log(a);</span><br><span class="line">            <span class="built_in">console</span>.log(b);</span><br><span class="line">         &#125;</span><br><span class="line">        add1();</span><br><span class="line">     &#125;  </span><br><span class="line">     add(<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">返回的结果<span class="literal">NaN</span> <span class="literal">undefined</span> <span class="literal">undefined</span></span><br><span class="line">注意：当add1添加了a,b两个形参后，add1中就会使用自己作用域上的值，但是只做了声明，没有做任何的赋值。所以是<span class="literal">undefined</span>。</span><br><span class="line">所以正确的做法应该是 add1中不写形参</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">         <span class="function"><span class="keyword">function</span> <span class="title">add1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(a+b);</span><br><span class="line">            <span class="built_in">console</span>.log(a);</span><br><span class="line">            <span class="built_in">console</span>.log(b);</span><br><span class="line">         &#125;</span><br><span class="line">        add1();</span><br><span class="line">     &#125;  </span><br><span class="line">     add(<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<p><strong>函数变量</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">var</span> x=<span class="number">3</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> y = <span class="number">2</span>;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">add1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(x);</span><br><span class="line">                <span class="built_in">console</span>.log(y);</span><br><span class="line">            &#125;</span><br><span class="line">            add1();</span><br><span class="line">        &#125;</span><br><span class="line">        add();</span><br><span class="line">        <span class="built_in">console</span>.log(y);</span><br><span class="line">打印结果为：</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">Uncaught <span class="built_in">ReferenceError</span>: y is not defined</span><br><span class="line">结果：会报错  外部是调用不了内部变量的。  内部的可以使用外部的变量。</span><br></pre></td></tr></table></figure>
<p><strong>动态函数不一样</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">e1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> e2 = <span class="keyword">new</span> <span class="built_in">Function</span>( “<span class="keyword">return</span> x;”)</span><br><span class="line">    <span class="keyword">return</span> [e1,e2];</span><br><span class="line">&#125;</span><br><span class="line">alert( func()[<span class="number">0</span>]() );</span><br><span class="line">alert( func()[<span class="number">1</span>]() );</span><br><span class="line">结果： <span class="number">2</span>  <span class="number">1</span>。</span><br><span class="line">注意： <span class="keyword">var</span> e2 = <span class="keyword">new</span> <span class="built_in">Function</span>( “<span class="keyword">return</span> x;”)会创建在最顶层，直接创建子在堆里面。只有最上层的才能动态创建，也就是<span class="built_in">window</span>，那么创建出的对象直接在堆里面，和其他的函数是平级的关系。所以直接调用同级下的<span class="keyword">var</span> x=<span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h2 id="2-2-函数的参数及arguments"><a href="#2-2-函数的参数及arguments" class="headerlink" title="2.2 函数的参数及arguments"></a>2.2 函数的参数及arguments</h2><h3 id="2-2-1-函数的参数"><a href="#2-2-1-函数的参数" class="headerlink" title="2.2.1 函数的参数"></a>2.2.1 函数的参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    add(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">其中a，b就是形参<span class="number">.1</span>,<span class="number">2</span>就是实参。</span><br></pre></td></tr></table></figure>
<p><strong>形参实参数量必须一样多吗？</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//此时实参比形参多，就会忽略掉3</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b，c</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"c"</span> = c);</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    add(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">结果为<span class="literal">undefined</span>，<span class="number">3</span></span><br><span class="line"><span class="comment">//形参个数比实参个数多，形参声明了变量，但是并没有赋值。</span></span><br></pre></td></tr></table></figure>
<p><strong>如何获取形参个数</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如何获取形参的个数    函数名.length</span><br></pre></td></tr></table></figure>
<p><strong>如何获取实参个数</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.arguments </span><br><span class="line">    仅在函数里面有</span><br><span class="line">    专为函数参数设计的对象</span><br><span class="line">2.伪数组length 下标[]</span><br><span class="line">    实参的个数  argument.length</span><br><span class="line">    获取数组的值  argument[i]</span><br><span class="line">3.callee  指向函数自己的</span><br><span class="line">    Argument.callee 获取对象本身。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function add(a,b,c)&#123;</span><br><span class="line">      console.log(&quot;实参&quot; + arguments.length);</span><br><span class="line">      console.log(&quot;形参&quot; + add.length);</span><br><span class="line">      console.log(arguments[0]);</span><br><span class="line">      console.log(arguments[1]);</span><br><span class="line">  &#125;</span><br><span class="line">  add(2,3);</span><br></pre></td></tr></table></figure>
<p>arguments.callee.length   相当于  add.length</p>
<p>注意：匿名函数的自调用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="function"><span class="keyword">function</span> (<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a+b)</span><br><span class="line">    <span class="keyword">if</span>(a==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">arguments</span>.callee(<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">x(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-2-2-如何实现任意参数的求和"><a href="#2-2-2-如何实现任意参数的求和" class="headerlink" title="2.2.2  如何实现任意参数的求和"></a>2.2.2  如何实现任意参数的求和</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">var</span> a = <span class="built_in">arguments</span>.length;</span><br><span class="line">     <span class="keyword">var</span> r = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a; i++)&#123;</span><br><span class="line">         r += <span class="built_in">arguments</span>[i];    </span><br><span class="line">   &#125;</span><br><span class="line"> <span class="keyword">return</span> r;</span><br><span class="line">  &#125;</span><br><span class="line"> <span class="built_in">console</span>.log(add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>));     </span><br><span class="line"> <span class="built_in">console</span>.log(add(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>));</span><br><span class="line"> <span class="built_in">console</span>.log(add());</span><br></pre></td></tr></table></figure>
<h2 id="2-3-函数的三大特性"><a href="#2-3-函数的三大特性" class="headerlink" title="2.3 函数的三大特性"></a>2.3 函数的三大特性</h2><h3 id="2-3-1-函数"><a href="#2-3-1-函数" class="headerlink" title="2.3.1 函数"></a>2.3.1 函数</h3><p><strong>方法特性()</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">运行大括号包裹的代码</span><br></pre></td></tr></table></figure>
<p><strong>对象特性  .</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">获取对象的属性</span><br></pre></td></tr></table></figure>
<p><strong>类的特性  new</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">创建类似对象</span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-对象特性"><a href="#2-3-2-对象特性" class="headerlink" title="2.3.2 对象特性"></a>2.3.2 对象特性</h3><p><strong>自有属性</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span><span class="built_in">arguments</span></span><br><span class="line">    f.arguments  结果是<span class="literal">null</span></span><br><span class="line">    f.x 结果是<span class="literal">undefined</span></span><br><span class="line">    只有在函数体里去使用</span><br><span class="line"><span class="number">2.</span>name</span><br><span class="line"><span class="number">3.</span>length</span><br><span class="line">    f.length</span><br><span class="line"><span class="number">4.</span>prototype</span><br><span class="line"><span class="number">5.</span>call、apply方法</span><br><span class="line"><span class="number">6.</span>toString()方法</span><br><span class="line">    f.toString()将函数转化为字符串</span><br><span class="line"><span class="number">7.</span>bind方法</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( f.arguments);<span class="comment">//返回argument对象</span></span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log( f.arguments);<span class="comment">//null</span></span><br><span class="line"><span class="built_in">console</span>.log(f.x);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p><strong>自定义属性</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>变量和方法</span><br><span class="line"><span class="number">2.</span>内部和外部</span><br><span class="line"></span><br><span class="line"> f.y =<span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    f.x = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(f.y);<span class="comment">//2</span></span><br><span class="line"><span class="built_in">console</span>.log(f.x);<span class="comment">//undefined</span></span><br><span class="line">原因：只是定义了f.x并没有被执行</span><br><span class="line">所以只要执行一下  f()就可以获取。</span><br><span class="line"></span><br><span class="line">函数里面可以嵌套函数</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">e</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">22</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">e();<span class="comment">//是调用不了的</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    f.e = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">22</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">f();<span class="comment">//要先运行，才可以调用里面的函数</span></span><br><span class="line">f.e(); <span class="comment">//f.e是调用了这个方法，没有执行函数。</span></span><br></pre></td></tr></table></figure>
<p><strong>计数器</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> x++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i = "</span>+ i + <span class="string">"x"</span> +f());</span><br><span class="line">&#125;</span><br><span class="line">打印结果是</span><br><span class="line">i = <span class="number">0x0</span></span><br><span class="line">i = <span class="number">1</span>x0</span><br><span class="line">i = <span class="number">2</span>x0</span><br><span class="line">i = <span class="number">3</span>x0</span><br><span class="line">i = <span class="number">4</span>x0......</span><br><span class="line"><span class="comment">//在这里x是局部变量，每次调用f() x每次都会初始化，x永远都会是0；</span></span><br><span class="line">解决办法：将x提升为全局变量。</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i = "</span>+ i + <span class="string">"x"</span> +f());</span><br><span class="line">&#125;</span><br><span class="line">打印结果是</span><br><span class="line">i = <span class="number">0x0</span></span><br><span class="line">i = <span class="number">1</span>x1</span><br><span class="line">i = <span class="number">2</span>x2</span><br><span class="line">i = <span class="number">3</span>x3</span><br><span class="line">i = <span class="number">4</span>x4</span><br><span class="line">i = <span class="number">5</span>x5.......</span><br><span class="line"><span class="comment">//上述写法可以打印出值。</span></span><br><span class="line"></span><br><span class="line">但是在全局变量容易被修改。</span><br><span class="line"></span><br><span class="line">所以使用对象的形式创建就可以解决这个问题</span><br><span class="line">f.x=<span class="number">0</span>；</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f.x++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i="</span> +i +<span class="string">"x"</span> +f());</span><br><span class="line">&#125;</span><br><span class="line">如果把对象放在里面，就要</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(f.x == <span class="literal">undefined</span>)&#123;<span class="comment">//只进来一次</span></span><br><span class="line">        f.x= <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f.x++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i="</span> +i +<span class="string">"x"</span> +f());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-4-自定义求和函数"><a href="#2-4-自定义求和函数" class="headerlink" title="2.4 自定义求和函数"></a>2.4 自定义求和函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">要求</span><br><span class="line">1.函数传入的参数不确定</span><br><span class="line">2.参数可以是任意的数据类型</span><br><span class="line">3.实现下面的结果</span><br><span class="line"></span><br><span class="line">sum(1,2,3) = 6</span><br><span class="line">sum(1,null，-3) = -2</span><br><span class="line">sum(‘1.0’, false , true, 1,‘A’,‘B’) = 2</span><br><span class="line">sum(0.1,0.2) = 0.3</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sum =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="built_in">arguments</span>.length; i++)&#123;</span><br><span class="line">    sum += <span class="built_in">parseInt</span>(<span class="built_in">arguments</span>[i]) || <span class="number">0</span> || <span class="built_in">parseFloat</span>(<span class="built_in">arguments</span>[i]); <span class="comment">//0是考虑了null会直接变成NaN</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum = sum.toFixed(<span class="number">3</span>)*<span class="number">1000</span>/<span class="number">1000</span>;</span><br><span class="line">    <span class="comment">//对浮点数使用 toFixed四舍五入为指定小数位数的数字,</span></span><br><span class="line">    <span class="comment">//sum = sum.toFixed(3) 如果只到这一步，得出是字符串，所以使用后面的隐士转化，转换为数字。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-5-函数的call、apply"><a href="#2-5-函数的call、apply" class="headerlink" title="2.5 函数的call、apply"></a>2.5 函数的call、apply</h2><p>定义：把函数临时赋值到对象上面并执行</p>
<h3 id="2-5-1-call的使用"><a href="#2-5-1-call的使用" class="headerlink" title="2.5.1 call的使用"></a>2.5.1 call的使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>.<span class="title">call</span>(<span class="params">obj,args1,args2</span>)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">f.call(obj,<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> function f(age,name)&#123;</span><br><span class="line">   this.name = name;</span><br><span class="line">   this.age = age;</span><br><span class="line">   console.log(this.name+this.age);</span><br><span class="line">&#125;</span><br><span class="line">var per =&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">f.call(per,20,30);</span><br></pre></td></tr></table></figure>
<h3 id="2-5-2-apply的使用"><a href="#2-5-2-apply的使用" class="headerlink" title="2.5.2 apply的使用"></a>2.5.2 apply的使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function.apply(obj,args)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function f(a,b)&#123;</span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br><span class="line">var obj = &#123;&#125;;</span><br><span class="line">f.call(obj,[2,3]);</span><br></pre></td></tr></table></figure>
<h3 id="2-5-3-总结"><a href="#2-5-3-总结" class="headerlink" title="2.5.3 总结"></a>2.5.3 总结</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"结果是："</span>+(x+y)+<span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  f1(<span class="number">10</span>,<span class="number">20</span>);<span class="comment">//结果是：30[object Window]</span></span><br><span class="line">  f1.apply();<span class="comment">//结果是：NaN[object Window]</span></span><br><span class="line">  f1.call();<span class="comment">//结果是：NaN[object Window]</span></span><br><span class="line">  f1.call(<span class="literal">null</span>);<span class="comment">//结果是：NaN[object Window]</span></span><br><span class="line">  f1.apply(<span class="literal">null</span>);<span class="comment">//结果是：NaN[object Window]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">sex,age</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.sex+<span class="string">"你吃饭了 吗"</span>+<span class="keyword">this</span>.age);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Person.prototype.eat = function(sex,age)&#123;</span></span><br><span class="line">           </span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">sex,age</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.sex = sex;</span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> stu = <span class="keyword">new</span> Student(<span class="string">"男"</span>,<span class="number">180</span>);</span><br><span class="line">        Person.call(stu,<span class="string">"女"</span>,<span class="number">20</span>);</span><br><span class="line"><span class="comment">//结果是 男你吃饭了 吗180 </span></span><br><span class="line">解释：实例对象中有的，就直接使用实例对象中的。女，<span class="number">20</span>是给函数的值。在上一层。</span><br></pre></td></tr></table></figure>
<p>给的参数是函数中需要的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    Foo.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">"吃的多"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> par = <span class="keyword">new</span> Foo(<span class="string">"小米"</span>,<span class="number">20</span>);</span><br><span class="line">    par.eat();<span class="comment">//第一次打印</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Stu</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> stu1 = <span class="keyword">new</span> Stu(<span class="string">"花话"</span>);</span><br><span class="line">    par.eat.apply(stu1,[<span class="number">10</span>,<span class="number">10</span>]);</span><br><span class="line">    par.eat.call(stu1,<span class="number">20</span>,<span class="number">10</span>);</span><br><span class="line">打印出：小米吃的多</span><br><span class="line">       花话吃的多（打印两次)</span><br><span class="line"><span class="comment">//注意：使用apply和call方法的一定对象，而不是函数，也就是括号里面的stu1</span></span><br><span class="line"><span class="comment">//其实就是改变了指针的方向，可以调用另外一个函数中的属性和方法。</span></span><br></pre></td></tr></table></figure>
<h2 id="2-6-Bind-方法"><a href="#2-6-Bind-方法" class="headerlink" title="2.6 Bind 方法"></a>2.6 Bind 方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">定义：把函数拷贝一份，并插入到对象作用域上面</span><br><span class="line">语法：obj.e = function.bind(obj,argus1,argus2)</span><br></pre></td></tr></table></figure>
<p>注：两个undefined加起来等于NaN</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var x = 3,</span><br><span class="line"> y = 2;</span><br><span class="line">function add(a,b)&#123;</span><br><span class="line">    return this.x*a + this.y*b;</span><br><span class="line">&#125;</span><br><span class="line">var obj1 = &#123;</span><br><span class="line">    x:1,</span><br><span class="line">    y:1,</span><br><span class="line">&#125;</span><br><span class="line">console.log(obj1);</span><br><span class="line">obj1.e = add.bind(obj1);</span><br><span class="line">console.log(obj1);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">var</span> x = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">var</span> y = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.x*a + <span class="keyword">this</span>.y*b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">            x:<span class="number">1</span>,</span><br><span class="line">            y:<span class="number">1</span>,</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">            x:<span class="number">2</span>,</span><br><span class="line">            y:<span class="number">2</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(obj1);<span class="comment">//这个很奇怪  始终实现不了？此时也绑定了add函数</span></span><br><span class="line">        obj1.e = add.bind(obj1,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        obj2.e = add.bind(obj2,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(obj1);</span><br><span class="line">        <span class="built_in">console</span>.log(obj2);</span><br><span class="line">        <span class="built_in">console</span>.log(obj1.e());<span class="comment">//2</span></span><br><span class="line">        <span class="built_in">console</span>.log(obj2.e());<span class="comment">//10</span></span><br><span class="line">注：add.bind(obj1,<span class="number">1</span>,<span class="number">1</span>)与obj1.e()</span><br><span class="line">前者可以给一个参数，此时后者给另外一个，前后两者可跟据实际情况给参数。</span><br></pre></td></tr></table></figure>
<img src="/2018/11/08/js1/js5.jpg">
<p>结果是：300    40    280    280</p>
<h2 id="2-7-函数this指针"><a href="#2-7-函数this指针" class="headerlink" title="2.7 函数this指针"></a>2.7 函数this指针</h2><h3 id="2-7-1-定义"><a href="#2-7-1-定义" class="headerlink" title="2.7.1  定义"></a>2.7.1  定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this是函数体内自带的一个对象指针</span><br><span class="line">简单理解：哪个对象拥有函数，this就是谁 -&gt;相当于 我</span><br><span class="line">看谁在使用，谁使用的就是谁</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>普通对象使用函数</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    x: <span class="number">3</span>,</span><br><span class="line">    e:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">obj.e();</span><br><span class="line"><span class="comment">//这里面的this指的就是obj这个对象</span></span><br><span class="line"><span class="comment">//这里注意对象里的值不能使用等于号，会报错。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>直接使用函数的<span class="keyword">this</span>指向</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);<span class="comment">//window对象</span></span><br><span class="line">        &#125;</span><br><span class="line">f();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>函数对象使用函数</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    f.x = <span class="number">100</span>;</span><br><span class="line">    f.e = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);<span class="comment">//100</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//此时的this就是f这个函数，会把整个函数打印出来。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line">f.e();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>函数中使用函数</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x =<span class="number">3</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">e2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</span><br><span class="line">    &#125;</span><br><span class="line">    e2();<span class="comment">//相当于window.e2()，可以省略。</span></span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line"><span class="comment">//结果为1；</span></span><br></pre></td></tr></table></figure>
<h3 id="2-7-2-this总结"><a href="#2-7-2-this总结" class="headerlink" title="2.7.2   this总结"></a>2.7.2   this总结</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"w10"</span>;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">         a:<span class="number">3</span>,</span><br><span class="line">         f:f,<span class="comment">//赋值的是个指针</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">         a:<span class="number">4</span>,</span><br><span class="line">         f:f,</span><br><span class="line">     &#125;</span><br><span class="line">     f();<span class="comment">//w10   this是window</span></span><br><span class="line">     obj1.f();<span class="comment">//3  this是obj1</span></span><br><span class="line">     <span class="built_in">console</span>.log(obj1.f)<span class="comment">//打印出来的是一个函数 </span></span><br><span class="line">     obj2.f();<span class="comment">//4  this是obj2</span></span><br></pre></td></tr></table></figure>
<p>存储方式：函数本身就是特殊对象，内容是存在堆里面，栈里面存储的是指针。通过小括号的形式把函数执行。对象里有f的指针。指向的是同一个对象。地址相当于钥匙，那么就可以去使用这个func。所以一个函数是可以被多个对象应用的。</p>
<p>注：如果赋值的不是 f:f，而是</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"w10"</span>;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">            a:<span class="number">3</span>,</span><br><span class="line">            <span class="comment">//f:f, 赋值的是个指针</span></span><br><span class="line">             f:f();<span class="comment">//运行了f函数（调用的是window的f）,并把值给了f；所以打印出来的是w10，这里如果什么都没有设定的话，打印出来的应该是undefined</span></span><br><span class="line">        &#125;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">        &#125;</span><br><span class="line">f();<span class="comment">//打印结果是w10</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1.f)<span class="comment">//执行的过程中会输出w10（执行了window的f(）函数)  打印的东西obj1.f 此时的f已经是window的f函数执行完的。没有设定的话就是undefined。</span></span><br><span class="line">obj1.f();<span class="comment">//所以在这f已经不是一个函数，运行f()会报错。（不是函数，是不可以加（）运行的）</span></span><br></pre></td></tr></table></figure>
<p>变形</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"w10"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">    <span class="keyword">return</span> f;<span class="comment">//运行完之后返回的是f的指针。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    a:<span class="number">3</span>,</span><br><span class="line">    f:f(),<span class="comment">//运行完之后获取的是函数本身的指针。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    a:<span class="number">4</span>,</span><br><span class="line">    f:f,</span><br><span class="line">&#125;</span><br><span class="line">f();<span class="comment">//w10</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1.f)<span class="comment">//执行过程中打印一次w10,执行完后，得到函数return的结果 f的指针。所以 此处打印的的f函数。</span></span><br><span class="line">obj1.f();<span class="comment">//打印的结果是3.</span></span><br></pre></td></tr></table></figure>
<h3 id="2-7-3-函数类使用函数"><a href="#2-7-3-函数类使用函数" class="headerlink" title="2.7.3 函数类使用函数"></a>2.7.3 函数类使用函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">"lkn"</span>;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.e = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"lcm"</span>;</span><br><span class="line">f();<span class="comment">//运行这个方法  打印出  lkn</span></span><br><span class="line">f.e();<span class="comment">//会报错，f.e不是个函数，此时e并不是f的对象，this指向的是window。this不是f。</span></span><br><span class="line">=================================================</span><br><span class="line">要想使用f的函数，必须要实例话对象。</span><br><span class="line"><span class="keyword">var</span> f1 = <span class="keyword">new</span> f();</span><br><span class="line"><span class="built_in">console</span>.log(f1.e())</span><br><span class="line">=================================================</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.e = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f1 = <span class="keyword">new</span> f(<span class="string">"cimei"</span>,<span class="number">18</span>);<span class="comment">//实例化对象</span></span><br><span class="line">f1.e();<span class="comment">//调用f中的e方法并执行，打印出  cimei</span></span><br><span class="line"><span class="built_in">console</span>.log(f1);<span class="comment">//打印的是个对象  包含 name：cimei; age:18; e:f 对象</span></span><br></pre></td></tr></table></figure>
<p>函数类使用call  apply 、bind改变this指向。</p>
<h3 id="2-7-4-事件函数-定时器函数"><a href="#2-7-4-事件函数-定时器函数" class="headerlink" title="2.7.4 事件函数  定时器函数"></a>2.7.4 事件函数  定时器函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oBtn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">oBtn.onclick = f;</span><br><span class="line">setTimeout(f,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<h2 id="2-8-自定义全类型读取"><a href="#2-8-自定义全类型读取" class="headerlink" title="2.8 自定义全类型读取"></a>2.8 自定义全类型读取</h2><p>要求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">给一个变量打印出他的具体类型：</span><br><span class="line">1.如果是基本类型，打印效果类似</span><br><span class="line">    undefined number boolean string</span><br><span class="line">2.如果是对象，就打印对象的类型</span><br><span class="line">    js提供的对象类型</span><br><span class="line">    自定义类型</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Istype</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">var</span> type = <span class="keyword">typeof</span> a; </span><br><span class="line">           <span class="keyword">if</span>(type == <span class="string">"object"</span>)&#123;</span><br><span class="line">              type = <span class="built_in">Object</span>.prototype.toString.call(a);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(type ==<span class="string">"[object Object]"</span>)&#123;</span><br><span class="line">               type = <span class="string">"[Object"</span>+typename.constructor.name + <span class="string">"]"</span>;            </span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(type ==<span class="string">"[object Null]"</span>)&#123;</span><br><span class="line">                   type = <span class="string">"null"</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           <span class="keyword">return</span> type;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/08/js1/" data-id="cjshkauaa001pmgggei8v9w1n" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/08/js2/" class="article-date">
  <time datetime="2018-11-08T08:28:39.000Z" itemprop="datePublished">2018-11-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/js/">js</a>►<a class="article-category-link" href="/categories/js/js进阶2/">js进阶2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/08/js2/">js进阶知识点总结2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/08/js2/" data-id="cjshkatrv0007mggglyk8lsji" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-css3_3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/31/css3_3/" class="article-date">
  <time datetime="2018-10-31T08:28:39.000Z" itemprop="datePublished">2018-10-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CSS3/">CSS3</a>►<a class="article-category-link" href="/categories/CSS3/CSS3知识总结3/">CSS3知识总结3</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/31/css3_3/">CSS3笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-Bootstrap快速使用"><a href="#1-Bootstrap快速使用" class="headerlink" title="1.Bootstrap快速使用"></a>1.Bootstrap快速使用</h2><p>(1)、什么是Bootstrap<br>Bootstrap 是最受欢迎的 HTML、CSS 和 JS 框架，用于开发响应式布局、移动设备优先的 WEB 项目。<br>(2)、特点<br> 虽然可以直接使用 Bootstrap 提供的 CSS 样式表，但Bootstrap 的源码是基于最流行的 CSS 预处理脚本 Less和 Sass 开发的。你可以采用预编译的 CSS 文件快速开发，也可以从源码定制自己需要的样式。<br> 你的网站和应用能在 Bootstrap 的帮助下通过同一份代码快速、有效适配手机、平板、PC 设备，这一切都是 CSS 媒体查询（Media Query）的功劳。<br> Bootstrap 提供了全面、美观的文档。你能在这里找到关于 HTML 元素、HTML 和 CSS 组件、jQuery 插件方面的所有详细文档。</p>
<h2 id="2-transform形状变换"><a href="#2-transform形状变换" class="headerlink" title="2.transform形状变换"></a>2.transform形状变换</h2><p>transform属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行移动、缩放、旋转或倾斜。</p>
<h3 id="1-移动-translate"><a href="#1-移动-translate" class="headerlink" title="(1).移动:translate"></a>(1).移动:translate</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">translate</span>() 括号里可以是像素值也可以是百分比(相对自身而言的，挪动自己宽度的百分比，<span class="selector-tag">x</span>轴相对于宽，<span class="selector-tag">y</span>轴相对于高度) 如果图形是1：1的可设置其中一个即可达到两个都设置的效果。不仅是等比的，所有的图形，设置其中一个，另一个也会等比的缩放，但是不可以两个分开设置，会覆盖。</span><br><span class="line">要写在一起<span class="selector-tag">transform</span>：<span class="selector-tag">translateX</span>() <span class="selector-tag">translateY</span>();</span><br><span class="line">之前写的居中，要知道盒子的大写，才能写挪动自己的一半。不知道盒子的高和宽，依旧可以挪到自身的一半。</span><br><span class="line">而使用<span class="selector-tag">transform</span>：<span class="selector-tag">translateX</span>(50%) <span class="selector-tag">translateY</span>(50%);</span><br><span class="line">1<span class="selector-class">.translateX</span>()</span><br><span class="line">2<span class="selector-class">.translateY</span>()</span><br><span class="line">3<span class="selector-class">.translateZ</span>()垂直于屏幕的角度，也就是离我们的距离的远近。正为前（变大）负为后（变小）</span><br><span class="line">4<span class="selector-class">.translate3d</span>(<span class="selector-tag">x</span>,<span class="selector-tag">y</span>,<span class="selector-tag">z</span>)</span><br><span class="line">简写：<span class="selector-tag">translate</span>()<span class="selector-tag">translate</span>(<span class="selector-tag">x</span>,<span class="selector-tag">y</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-缩放"><a href="#2-缩放" class="headerlink" title="(2).缩放"></a>(2).缩放</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">scaleX</span>()</span><br><span class="line"><span class="selector-tag">scaleY</span>()</span><br><span class="line"><span class="selector-tag">scaleZ</span>()</span><br><span class="line"><span class="selector-tag">scale3d</span>(<span class="selector-tag">x</span>,<span class="selector-tag">y</span>,<span class="selector-tag">z</span>)</span><br><span class="line">简写：scale(x,y) | scale(n)scale(n,n)</span><br></pre></td></tr></table></figure>
<h3 id="3-旋转"><a href="#3-旋转" class="headerlink" title="(3).旋转"></a>(3).旋转</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">rotateY</span>()</span><br><span class="line"><span class="selector-tag">rotateZ</span>()</span><br><span class="line"><span class="selector-tag">rotate3d</span>(<span class="selector-tag">x</span>,<span class="selector-tag">y</span>,<span class="selector-tag">z</span>)</span><br><span class="line">简写：<span class="selector-tag">rotate</span>() <span class="selector-tag">-</span>&gt; <span class="selector-tag">rotateZ</span>()</span><br></pre></td></tr></table></figure>
<h3 id="4-倾斜"><a href="#4-倾斜" class="headerlink" title="(4).倾斜"></a>(4).倾斜</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">skewX</span>(<span class="selector-tag">ndeg</span>)</span><br><span class="line"><span class="selector-tag">skewY</span>(<span class="selector-tag">ndeg</span>)</span><br><span class="line"><span class="selector-tag">scale3d</span>(<span class="selector-tag">x</span>,<span class="selector-tag">y</span>)</span><br><span class="line">简写：<span class="selector-tag">skew</span>(<span class="selector-tag">x</span>, <span class="selector-tag">y</span>)</span><br></pre></td></tr></table></figure>
<h3 id="5-transform-origin"><a href="#5-transform-origin" class="headerlink" title="(5).transform-origin"></a>(5).transform-origin</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform-origin</span>设置元素原点位置</span><br><span class="line"><span class="selector-tag">transform-origin</span>: 50% 50% 0;默认值</span><br><span class="line">X轴方向：left | center | right | length | %</span><br><span class="line">Y轴方向：top | center | bottom | length | %</span><br><span class="line"><span class="selector-tag">Z</span>轴方向：<span class="selector-tag">length</span></span><br></pre></td></tr></table></figure>
<h3 id="6-perspective属性（给父级设置的）"><a href="#6-perspective属性（给父级设置的）" class="headerlink" title="(6).perspective属性（给父级设置的）"></a>(6).perspective属性（给父级设置的）</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">定义 3<span class="selector-tag">D</span> 元素距视图的距离，以像素计。当为元素定义 <span class="selector-tag">perspective</span> 属性时，其子元素会获得透视效果，而不是元素本身。</span><br><span class="line">&lt;div class="box"&gt;</span><br><span class="line">    &lt;div class="item one"&gt;one&lt;/div&gt;</span><br><span class="line">    &lt;div class="item two"&gt;two&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">1.空间距离（从视觉感知方面，对应的值小，图相对小一些，对应的值大，图相对大一些。）</span><br><span class="line">2.是否保留空间的3<span class="selector-tag">d</span>效果</span><br><span class="line">设置景深后，虽然看起来有视觉效果，但是在默认的情况下是保留2<span class="selector-tag">d</span>平面的位置，若要3<span class="selector-tag">d</span>图形的位置，需要对父级元素也就是上面的<span class="selector-tag">box</span>添加<span class="selector-tag">transform-style</span>：<span class="selector-tag">preserve-3d</span>；指定嵌套的元素（也就是被设置这个性质元素的子元素）的效果，如果子元素保留了3<span class="selector-tag">d</span>的空间，那么子元素就会超出父元素（<span class="selector-tag">z</span>轴），此时就不可以设置<span class="selector-tag">overflow</span>：<span class="selector-tag">hidden</span>；</span><br><span class="line">3.想让两个子元素旋转，使<span class="selector-tag">box</span>旋转即可，就可以不一一设置子元素的旋转。</span><br><span class="line"> 那么是使用<span class="selector-tag">animation</span>（可以设置次数），还是<span class="selector-tag">transition</span>（只是一个过渡，从某个值到某个值，无法设置次数），所以选择<span class="selector-tag">animation</span>。</span><br><span class="line">设置好关键帧，将这个关键帧给要旋转的元素添加<span class="selector-tag">animation</span>：关键帧名字 运动时间 运动方式 次数；等这些性质。</span><br></pre></td></tr></table></figure>
<p><strong>问题：为什么有的面大，有的面小呢？</strong><br>在当前的景深条件下，前面的就是大，后面的就是小,只给box设置了景深，那么即只有box里面的元素有空间感觉，box以外的元素是没有的。而box就是一个平面图形，只有它里面的元素有空间效果（距离近的大，距离远的小）。<br><strong>如何解决：</strong><br>给box的父级添加景深，使box也有景深效果。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=“wrapper"&gt;</span><br><span class="line">    &lt;div class="box"&gt;</span><br><span class="line">        &lt;div class="item one"&gt;one&lt;/div&gt;</span><br><span class="line">        &lt;div class="item two"&gt;two&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>即使这样添加也无法解决视觉上的前面打后面小的问题。<br><strong>真正导致的原因</strong>：在这里box设置了景深，其父级也设置了景深，当给一个元素设置景深的时候，就是使其变成梯形。从而导致离近的大，离远的小。所以这里既是给box的父级设置了景深，而box本身就是一个梯形，它具有前面大后面小的性质，无论如何旋转也无法改变这个大小问题。<br><strong>真正的解决办法</strong>：将box元素的景深取消，只给其父级设置景深。<br><strong>总结</strong>：若想给规则的box旋转，一定不能让你变成梯形，那么就给其父级添加景深。以确保自己依旧是个规则的图形。<br><strong>问题：不给设置景深的元素设置宽度，从视觉效果看就会时倾斜的。</strong><br><strong>原因：</strong>默认从中间看图<br><strong>解决办法</strong>：调整视点的位置 perspective-origin：100px 100px ；默认是50% 50% 如右图所示，所以会倾斜。</p>
<h3 id="7-perspective-origin属性"><a href="#7-perspective-origin属性" class="headerlink" title="(7).perspective-origin属性"></a>(7).perspective-origin属性</h3><img src="/2018/10/31/css3_3/transform1.png">
<p>如上图所示，红点的位置就是默认的原始观察点。</p>
<h3 id="8-translate3d-x-y-z-n"><a href="#8-translate3d-x-y-z-n" class="headerlink" title="(8).translate3d(x,y,z,n)"></a>(8).translate3d(x,y,z,n)</h3><img src="/2018/10/31/css3_3/transform2.png">
<p>其实就是合力的方向作为旋转轴。</p>
<h3 id="9-transform-style-被嵌套的元素"><a href="#9-transform-style-被嵌套的元素" class="headerlink" title="(9).transform-style (被嵌套的元素)"></a>(9).transform-style (被嵌套的元素)</h3><p>指定嵌套元素是怎样在三维空间中呈现<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">transform-style: flat|preserve-3d;</span><br><span class="line">注：设置了<span class="selector-tag">transfrom-style</span><span class="selector-pseudo">:preserve-3d</span>的元素，不能防止子元素溢出，即不能设置<span class="selector-tag">overflow</span><span class="selector-pseudo">:hidden</span>；否则<span class="selector-tag">persever-3d</span>失效；</span><br></pre></td></tr></table></figure></p>
<h3 id="10-backface-visibility"><a href="#10-backface-visibility" class="headerlink" title="(10).backface-visibility"></a>(10).backface-visibility</h3><p> 属性定义当元素背面是否可见。 </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">backface-visibility: visible | hidden;</span><br></pre></td></tr></table></figure>
<h2 id="2-transition过渡动画"><a href="#2-transition过渡动画" class="headerlink" title="2.transition过渡动画"></a>2.transition过渡动画</h2><h3 id="1-transition"><a href="#1-transition" class="headerlink" title="(1).transition"></a>(1).transition</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">property</span> <span class="selector-tag">duration</span> <span class="selector-tag">timing-function</span> <span class="selector-tag">delay</span>;</span><br><span class="line"><span class="selector-tag">transition-property</span> 规定设置过渡效果的 <span class="selector-tag">CSS</span> 属性的名称。</span><br><span class="line"><span class="selector-tag">transition-duration</span> 规定完成过渡效果需要多少秒或毫秒。</span><br><span class="line"><span class="selector-tag">transition-timing-function</span> 规定速度效果的速度曲线。</span><br><span class="line"><span class="selector-tag">transition-delay</span> 定义过渡效果何时开始。</span><br></pre></td></tr></table></figure>
<h3 id="2-transition-property"><a href="#2-transition-property" class="headerlink" title="(2).transition-property"></a>(2).transition-property</h3><p> 规定设置过渡效果的 CSS 属性的名称。<br> <img src="/2018/10/31/css3_3/transition1.png"></p>
<p>只有具有值的属性才可以设置这个属性，color是可以的。display：none等是没有的。</p>
<h3 id="3-transition-timing-function"><a href="#3-transition-timing-function" class="headerlink" title="(3).transition-timing-function"></a>(3).transition-timing-function</h3><p> 规定设置过渡效果的CSS 属性的名称</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">transition-timing-function: linear | ease | ease-in | ease-out | ease-in-out | cubic-</span><br><span class="line"><span class="selector-tag">bezier</span>(<span class="selector-tag">n</span>,<span class="selector-tag">n</span>,<span class="selector-tag">n</span>,<span class="selector-tag">n</span>);</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">linear</span> 匀速, <span class="selector-tag">cubic-bezier</span>(0,0,1,1) </span><br><span class="line"><span class="selector-tag">ease</span> 慢快慢， <span class="selector-tag">cubic-bezier</span>(0<span class="selector-class">.25</span>,0<span class="selector-class">.1</span>,0<span class="selector-class">.25</span>,1) </span><br><span class="line"><span class="selector-tag">ease-in</span> 慢速开始的过渡， <span class="selector-tag">cubic-bezier</span>(0<span class="selector-class">.42</span>,0,1,1) </span><br><span class="line"><span class="selector-tag">ease-out</span> 慢速结束的过渡， <span class="selector-tag">cubic-bezier</span>(0,0,0<span class="selector-class">.58</span>,1) </span><br><span class="line"><span class="selector-tag">ease-in-out</span> 慢速开始和结束的过渡， <span class="selector-tag">cubic-bezier</span>(0<span class="selector-class">.42</span>,0,0<span class="selector-class">.58</span>,1) </span><br><span class="line"><span class="selector-tag">cubic-bezier</span>(<span class="selector-tag">n</span>,<span class="selector-tag">n</span>,<span class="selector-tag">n</span>,<span class="selector-tag">n</span>) 在 <span class="selector-tag">cubic-bezier</span> 函数中定义自己的值。可能的值是 0 ~1 之间的数值</span><br></pre></td></tr></table></figure>
<h2 id="3-animation属性"><a href="#3-animation属性" class="headerlink" title="3.animation属性"></a>3.animation属性</h2><p>animation 属性是一个简写属性，用于设置动画属性</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">1<span class="selector-class">.animation-name</span> 规定需要绑定到选择器的 <span class="selector-tag">keyframe</span> 名称。</span><br><span class="line">2<span class="selector-class">.animation-duration</span> 规定完成动画所花费的时间，以秒或毫秒计。</span><br><span class="line">3<span class="selector-class">.animation-timing-function</span> 规定动画的速度曲线。</span><br><span class="line">4<span class="selector-class">.animation-delay</span> 规定在动画开始之前的延迟。</span><br><span class="line">5<span class="selector-class">.animation-iteration-count</span> 规定动画应该播放的次数。</span><br><span class="line">6<span class="selector-class">.animation-direction</span> 规定是否应该轮流反向播放动画。</span><br><span class="line">7<span class="selector-class">.animation-fill-mode</span> 属性规定动画在播放之前或之后，其动画效果是否可见。</span><br><span class="line">8<span class="selector-class">.animation-play-state</span> 属性规定动画正在运行还是暂停。</span><br><span class="line"></span><br><span class="line">注：设置完关键帧后，想让那个元素运动就在哪个元素下设置<span class="selector-tag">animation</span>,并设置以上属性</span><br><span class="line">@<span class="keyword">keyframes</span> move&#123;</span><br><span class="line">  0%&#123;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">100px</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  100%&#123;</span><br><span class="line">     <span class="attribute">left</span>: <span class="number">600px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">中间也可以添加百分数，那样就会前一半的时间运动到添加百分数设置的位置，后一半的时间运动到终点。</span><br><span class="line">如果只有0%<span class="selector-tag">-100</span>%两个关键帧可以使用<span class="selector-tag">from</span> <span class="selector-tag">to</span>分别代替 0%和100%</span><br><span class="line">注：如果开始的位置时元素默认的位置，是可以不用写0%。若默认为100<span class="selector-tag">px</span>，而我设置0%的时候为300<span class="selector-tag">px</span>就会在300<span class="selector-tag">px</span>开始运动，运动完就回到初始的位置了。如果不想回到初始位置可以使用<span class="selector-tag">animation-fill-mode</span>中的<span class="selector-tag">forward</span>属性等来控制。</span><br><span class="line">9<span class="selector-class">.animation-iteration-count</span> 规定动画应该播放的次数<span class="selector-tag">n</span> 播放<span class="selector-tag">n</span> <span class="selector-tag">infinite</span> 无限次</span><br><span class="line">10<span class="selector-class">.animation-direction</span> 规定是否应该轮流反向播放动画。</span><br><span class="line">   <span class="selector-tag">normal</span> 默认值，按照顺序正常播放</span><br><span class="line">   <span class="selector-tag">reverse</span> 动画反向播放</span><br><span class="line">   <span class="selector-tag">alternate</span> 动画在奇数次正向，偶数次反向播放</span><br><span class="line">   <span class="selector-tag">alternate-reverse</span> 动画在奇数次反向，偶数次正向播放</span><br><span class="line">11<span class="selector-class">.animation-fill-mode</span> 规定动画在播放之前或之后，其动画效果是否可见。</span><br><span class="line">  <span class="selector-tag">none</span>不改变默认行为。</span><br><span class="line">  <span class="selector-tag">forwards</span>当动画完成后，保持最后一个属性值（在最后一个关键帧中定义）。</span><br><span class="line">  <span class="selector-tag">backwards</span>在 <span class="selector-tag">animation-delay</span> 所指定的一段时间内，在动画显示之前，应用开始属性值（在第一个关键帧中定义）。</span><br><span class="line">  <span class="selector-tag">both</span>向前和向后填充模式都被应用。</span><br><span class="line">12<span class="selector-class">.animation-play-state</span> 属性规定动画正在运行还是暂停。</span><br><span class="line">  <span class="selector-tag">paused</span> 规定动画已暂停。</span><br><span class="line">  <span class="selector-tag">running</span> 规定动画正在播放。</span><br></pre></td></tr></table></figure>
<h2 id="4-感知鼠标滑过方向图片遮罩效果"><a href="#4-感知鼠标滑过方向图片遮罩效果" class="headerlink" title="4.感知鼠标滑过方向图片遮罩效果"></a>4.感知鼠标滑过方向图片遮罩效果</h2><img src="/2018/10/31/css3_3/math.png">
<h1 id="二-快速搭建bootstrap网页要注意的问题"><a href="#二-快速搭建bootstrap网页要注意的问题" class="headerlink" title="二.快速搭建bootstrap网页要注意的问题"></a>二.快速搭建bootstrap网页要注意的问题</h1><h2 id="问题一"><a href="#问题一" class="headerlink" title="问题一"></a>问题一</h2><p>请注意，<strong>Bootstrap 的所有 JavaScript 插件都依赖 jQuery，</strong>因此 jQuery 必须在 Bootstrap 之前引入Bootstrap 。</p>
<h2 id="问题二"><a href="#问题二" class="headerlink" title="问题二"></a>问题二</h2><p>引入jquery文件的时候必须命名为 jquery.js</p>
<h1 id="三-动画练习项目笔记"><a href="#三-动画练习项目笔记" class="headerlink" title="三.动画练习项目笔记"></a>三.动画练习项目笔记</h1><h2 id="问题一-1"><a href="#问题一-1" class="headerlink" title="问题一"></a>问题一</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">起初我使用的是</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">span</span>&gt;</span>发现我左右下移除的时候没有什么问题，但是向上移除的时候，是可以看到文本内容的。所以需要嵌套一个div，使用其overflow：hidden；这个属性，那么当content区域超过父级div的范围后就不显示了。</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"textbox"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="问题二-1"><a href="#问题二-1" class="headerlink" title="问题二"></a>问题二</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oLi = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'li'</span>);</span><br><span class="line"><span class="keyword">var</span> len = oLi.length;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">    oLi[i].onmouseenter = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> dir = getDirection(e,<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">var</span> oTxt = <span class="keyword">this</span>.getElementsByClassName(<span class="string">'content'</span>)[<span class="number">0</span>];</span><br><span class="line">        oTxt.className = <span class="string">'content'</span>;</span><br><span class="line">        <span class="keyword">switch</span>(dir)&#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="number">0</span>: oTxt.classList.add(<span class="string">'inup'</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="number">1</span>: oTxt.classList.add(<span class="string">'inright'</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="number">2</span>: oTxt.classList.add(<span class="string">'inbottom'</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="number">3</span>: oTxt.classList.add(<span class="string">'inleft'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">    &#125;</span><br><span class="line">注：function里面的i打印出来始终是6 ，但是其外面的i还是一一遍历的，是从0开始，所以可以使用 oLi[i].onmouseenter。但是在function函数里面的i一直都是6，因为在绑定事件的时候是从0一个一个绑定的，绑定完成之后i已经变成6了。然后才能去实现触发事件，所以在function里面的不能使用oLi[i],而只能使用this去指触发事件的这个oLi[i]。</span><br><span class="line">后面要注意的是添加<span class="class"><span class="keyword">class</span>类名的时候，记得将前面的<span class="title">class</span>清楚一下，避免叠加。</span></span><br></pre></td></tr></table></figure>
<h2 id="问题三"><a href="#问题三" class="headerlink" title="问题三"></a>问题三</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDirection</span>(<span class="params">e,ele</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> w = ele.offsetWidth;</span><br><span class="line">    <span class="keyword">var</span> h = ele.offsetHeight;</span><br><span class="line">    <span class="keyword">var</span> x = (e.offsetX - w/<span class="number">2</span>)*(w &gt; h ? h/w : <span class="number">1</span>);<span class="comment">//前部分是使这个图形的中心移动到坐标轴的中心位点，这样才得以使用公式。判断宽是否大于高，若大于就乘以宽高之比。压缩成正方形</span></span><br><span class="line">    <span class="keyword">var</span> y = (e.offsetY - h/<span class="number">2</span>)*(h &gt; w ? w/h : <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> d = (<span class="built_in">Math</span>.round((<span class="built_in">Math</span>.atan2(y,x)*(<span class="number">180</span>/<span class="built_in">Math</span>.PI)+<span class="number">180</span>)/<span class="number">90</span> + <span class="number">3</span>))%<span class="number">4</span>;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>1.获取位置的时候，初始默认的不在坐标轴的正中心，所以要讲获取到的位置减去自身高度或宽度的一半才可以运用公式去判断进入/出去的方向。如下图所示<br><img src="/2018/10/31/css3_3/animation1.jpg"><br>2.对于长方形而言，需要将其压缩成正方形，对其较长的宽或高进行压缩。也就是上述代码中的x,y等式的后面部分。对于宽较长的长方形使其宽乘以高宽比。对于高较长的长方形使其高乘以宽高比。这样就可以实现压缩，成为我们想要的正方形。</p>
<h2 id="问题四"><a href="#问题四" class="headerlink" title="问题四"></a>问题四</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span> <span class="selector-class">.textbox</span> <span class="selector-class">.inbottom</span>,<span class="selector-tag">li</span> <span class="selector-class">.textbox</span> <span class="selector-class">.outbottom</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(0,100%);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span> <span class="selector-class">.textbox</span> <span class="selector-class">.inup</span>,<span class="selector-tag">li</span> <span class="selector-class">.textbox</span> <span class="selector-class">.outup</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(0,-100%);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span> <span class="selector-class">.textbox</span> <span class="selector-class">.inleft</span>,<span class="selector-tag">li</span> <span class="selector-class">.textbox</span> <span class="selector-class">.outleft</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-100%,0);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span> <span class="selector-class">.textbox</span> <span class="selector-class">.inright</span>,<span class="selector-tag">li</span> <span class="selector-class">.textbox</span> <span class="selector-class">.outright</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(100%,0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2018/10/31/css3_3/animation2.jpg">
<p>注：上图下部分文本区域的值就相当于原始位置（0,0）。那么结合上面的代码可知，向上移出区域为-100%，下为正的100%，左面为负的100%，右面为正的100%。</p>
<h2 id="问题五"><a href="#问题五" class="headerlink" title="问题五"></a>问题五</h2><p>dom元素样式变化的时候，最好是以添加class类名的方式来实现，新的class定义好要变化的样式，使用js更改class名就可以。</p>
<h1 id="四-旋转图片项目笔记"><a href="#四-旋转图片项目笔记" class="headerlink" title="四.旋转图片项目笔记"></a>四.旋转图片项目笔记</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.图形旋转，坐标轴也跟着旋转，<span class="selector-tag">z</span>轴始终跟着图片垂直，无论怎么变，坐标轴一直跟着变化，相对的位置是不会 变化的。</span><br><span class="line">沿着<span class="selector-tag">y</span>旋转，逆时针旋转。60度 120度。。。</span><br><span class="line">2. @<span class="keyword">keyframes</span> move&#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">         <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(0) <span class="built_in">rotateX</span>(-20deg);</span><br><span class="line">      &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(360deg) <span class="built_in">rotateX</span>(-20deg);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">上面是沿着<span class="selector-tag">Y</span>轴每旋转完一次，<span class="selector-tag">X</span>轴旋转<span class="selector-tag">-20</span>度。(自己理解的)</span><br><span class="line">@<span class="keyword">keyframes</span> move&#123;</span><br><span class="line">     0%&#123;</span><br><span class="line">           transform：rotateX(-20deg) : rotateY(0) ;</span><br><span class="line">       &#125;</span><br><span class="line">     100%&#123;</span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">rotateX</span>(-20deg) <span class="built_in">rotateY</span>(360deg) ;</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="selector-tag">X</span>旋转完<span class="selector-tag">-20</span>度，角度固定，然后是图形绕着<span class="selector-tag">Y</span>轴旋转360度。</span><br></pre></td></tr></table></figure>
<h1 id="五-3D炫酷动画项目笔记"><a href="#五-3D炫酷动画项目笔记" class="headerlink" title="五.3D炫酷动画项目笔记"></a>五.3D炫酷动画项目笔记</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.旋转立方体</span><br><span class="line">前后面需要移动的是Z轴，前面向屏幕外走（垂直屏幕向外），后面的面起初也是垂直屏幕向外的，但是其要向后走，所以将其旋转180度，改变其方向垂直屏幕向内。这样前后面都沿着Z轴向自己的前方进行位移。</span><br><span class="line">上下两个面，上面的面沿着x旋转90度，向上走（旋转后，坐标轴是不变的，还是z轴垂直于面，所以依旧是沿着z轴的方向），下面的面旋转-90度向下走。</span><br><span class="line">左右面，沿着y轴旋转90度，</span><br><span class="line">先旋转后平移。</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/31/css3_3/" data-id="cjshkatxc000tmggghbhq46u9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-css3_2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/24/css3_2/" class="article-date">
  <time datetime="2018-10-24T08:28:39.000Z" itemprop="datePublished">2018-10-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CSS3/">CSS3</a>►<a class="article-category-link" href="/categories/CSS3/CSS3知识总结2/">CSS3知识总结2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/24/css3_2/">CSS3笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Media-媒体查询"><a href="#Media-媒体查询" class="headerlink" title="Media 媒体查询"></a>Media 媒体查询</h1><h2 id="常见页面布局"><a href="#常见页面布局" class="headerlink" title="常见页面布局"></a>常见页面布局</h2><p><strong>静态布局</strong><br>元素都是固定的宽度。不会随着显示区域的变化而变化。<br><strong>流式布局 </strong><br>使用百分比设置dom元素。当浏览器大小发生变化时，整体页面布局没有发生变化，但dom元素大小发生变化，这是因为它没有用一个固定的像素值来设置dom元素的宽度，而是用了一个百分比。<br><strong>自适应布局</strong></p>
<p><strong>响应式布局</strong></p>
<p>以上几种布局都有可能用到</p>
<h2 id="媒体查询的使用"><a href="#媒体查询的使用" class="headerlink" title="媒体查询的使用"></a>媒体查询的使用</h2><img src="/2018/10/24/css3_2/media.jpg">
<p><img src="./笔记图片/media.jpg" alt></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1<span class="selector-class">.link</span>元素中的<span class="selector-tag">css</span>媒体查询</span><br><span class="line">&lt;link rel="stylesheet" href="demo.css" media="screen and (max-width: 800px)"&gt;</span><br><span class="line"></span><br><span class="line">2.样式表中的<span class="selector-tag">css</span>媒体查询</span><br><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">600px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.demo</span>&#123;</span><br><span class="line">        <span class="attribute">background</span>: pink;</span><br><span class="line">        <span class="attribute">color</span>: deeppink;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="媒体查询的逻辑操作符"><a href="#媒体查询的逻辑操作符" class="headerlink" title="媒体查询的逻辑操作符"></a>媒体查询的逻辑操作符</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1<span class="selector-class">.and</span>操作符</span><br><span class="line">	关键字用于合并多个媒体属性或合并媒体属性与媒体类型。</span><br><span class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">500px</span>) and (max-width: <span class="number">800px</span>) </span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.逗号分隔列表</span><br><span class="line">    媒体查询中使用逗号分隔效果等同于or逻辑操作符。当使用逗号分隔的媒体查询时，如果任何一个媒体查询返回真，样式就是有效的。</span><br><span class="line">@media (max-width: <span class="number">300px</span>), screen and (orientation: landscape)</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.not操作符</span><br><span class="line">	not 关键字应用于整个媒体查询，在媒体查询为假时返回真</span><br><span class="line">@media not screen and (min-width: <span class="number">500px</span>) and (max-width: <span class="number">800px</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>.only操作符</span><br><span class="line">	only关键字防止老旧的浏览器不支持带媒体属性的查询而应用到给定的样式</span><br><span class="line"> @media only screen and (min-width: <span class="number">500px</span>) and (max-width: <span class="number">800px</span>)</span><br></pre></td></tr></table></figure>
<h1 id="移动端布局"><a href="#移动端布局" class="headerlink" title="移动端布局"></a>移动端布局</h1><h2 id="等比缩放"><a href="#等比缩放" class="headerlink" title="等比缩放"></a>等比缩放</h2><p><strong>百分比布局</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">百分比是可以等比布局，但是如果嵌套层级太多，计算就比较麻烦</span><br></pre></td></tr></table></figure>
<p><strong>flex布局</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flex布局，对容器使用display：flex；对容器里的元素使用flex-grow和flex-shrink来控制大小，元素是依据了容器的大小，但是还要计算容器相对整个屏幕的大小。</span><br><span class="line">所以以上两种更适合局部的布局。整体不推荐</span><br></pre></td></tr></table></figure>
<p><strong>单位rem</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1rem是一个单位值，根据html的font-size设定，比如html的值是30px，若给子元素设置 font-size:2rem;那么子元素的字体大小就是60px</span><br><span class="line">可以给高度，宽度都使用rem来设置，其值都是由html中的font-size来决定。</span><br><span class="line">注：em 1em是根据父级的font-size来决定的，找最近的那个父级元素设置的font-size，如果父级都没写，会继承body的，而body没设置会有个默认的。</span><br><span class="line">那么就可以根据rem来设置了，屏幕大的时候，font-size设置大，小屏幕上，设置小的，子元素全用rem来设置，只需要改一个html的font-size的大小，就可以控制整个页面的大小。</span><br><span class="line"></span><br><span class="line">那么如何实现等比的缩放呢？</span><br><span class="line">Html的大小每次设置多少呢？用等比的想，font-size 取屏幕的一个百分比。那么子元素也会跟着取成倍的百分比。（1em就表示一份百分比，2em就表示两份百分比），不管屏幕取的是多大，我要的百分比都是固定的。（你大我也大，你小我也小）</span><br><span class="line">问题：如何动态的控制html的font-size的大小</span><br><span class="line">使用js动态的设置</span><br></pre></td></tr></table></figure>
<p><strong>单位vw vh</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">单位vw vh  也是单位值， vw将屏幕分为100份，1vw就表示一份的宽度（屏幕的百分之一），1vh就表示一份的高度。就不用去计算font-size的值了。</span><br><span class="line">和rem很相似</span><br><span class="line">推荐使用vw</span><br></pre></td></tr></table></figure>
<h2 id="Viewport"><a href="#Viewport" class="headerlink" title="Viewport"></a>Viewport</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.物理像素：物理像素又被称为设备像素，他是显示设备中一个最小的物理部件。每个像素可以根据操作系统设置自己的颜色和亮度。</span><br><span class="line">2.逻辑像素：一个可以由程序使用的虚拟像素(比如说CSS像素)，然后由相关系统转换为物理像素。</span><br><span class="line">3.设备像素比(dpr) = 物理像素/逻辑像素</span><br><span class="line">Apple有兼容的写法</span><br><span class="line">Android没有兼容的写法</span><br><span class="line">如下图，当dpr是2的时候，想找一个单独的物理像素 注：并不是所有的浏览器都识别0.5px；有些会把0.5直接看成0。如何解决这个问题呢？</span><br></pre></td></tr></table></figure>
<img src="/2018/10/24/css3_2/viewport.jpg">
<img src="/2018/10/24/css3_2/viewport2.jpg">
<h2 id="Viewport视窗"><a href="#Viewport视窗" class="headerlink" title="Viewport视窗"></a>Viewport视窗</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">viewport是严格等于浏览器的窗口。在桌面浏览器中，viewport就是浏览器窗口的宽度高度。但在移动端设备上就有点复杂。（并不是设备多大，宽度就多大）默认的情况下。不设置的话会有个980px的默认像素，不推荐使用默认。</span><br><span class="line">后面的initial-scale=1 表示是不是缩放</span><br><span class="line">为了避免使用0.5px；</span><br><span class="line">解决办法：使用缩放的方法</span><br><span class="line">当dpr=2时，将initial-scale=0.5；这样就可以一个物理像素对应一个逻辑像素</span><br><span class="line">当dpr=2时，将initial-scale=0.33333；</span><br><span class="line">设备不同时，同一个页面如果设置这个缩放呢？</span><br><span class="line">解决办法：去判断dpr的多少，使用js动态生成。</span><br><span class="line">不能使用固定的宽度高度，因为body的宽度在变化，</span><br><span class="line">我们设置的东西大小固定了，不能等比缩放。</span><br><span class="line">想实现等比缩放：结合rem使用即可实现。</span><br></pre></td></tr></table></figure>
<p><em>属性</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">viewport就是浏览器上，用来显示网页的那一部分的区域。Ios及新版本浏览器默认viewport为980px。</span><br><span class="line">viewport默认有6个属性：</span><br><span class="line">width: 设置viewport宽度，可以为一个整数，或字符串&quot;device-width&quot;</span><br><span class="line">initial-scale: 页面初始的缩放值，为数字，可以是小数</span><br><span class="line">minimum-scale: 允许用户的最小缩放值，为数字，可以是小数</span><br><span class="line">maximum-scale: 允许用户的最大缩放值，为数字，可以是小数</span><br><span class="line">height: 设置viewport的高度（我们一般而言并不能用到）</span><br><span class="line">user-scalable: 是否允许用户进行缩放，&apos;no&apos;为不允许，&apos;yes’为允许</span><br></pre></td></tr></table></figure>
<h2 id="如何根据dpr的值来修改viewport实现1px的线？"><a href="#如何根据dpr的值来修改viewport实现1px的线？" class="headerlink" title="如何根据dpr的值来修改viewport实现1px的线？"></a>如何根据dpr的值来修改viewport实现1px的线？</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">解决方案：</span><br><span class="line">1、动态生成<span class="selector-tag">mate</span>标签</span><br><span class="line">&lt;meta name="viewport" content="width=device-width, initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no"&gt;</span><br><span class="line">2、<span class="selector-tag">css3</span> <span class="selector-tag">transform</span><span class="selector-pseudo">:scale</span>缩放（可以对盒子进行放大和缩小，浏览器只是不认识0<span class="selector-class">.5</span>的写法，并不是找不到0<span class="selector-class">.5</span>的物理像素。）</span><br><span class="line">@<span class="keyword">media</span></span><br><span class="line"><span class="keyword">only</span> screen and (-webkit-min-device-pixel-ratio: <span class="number">2</span>),</span><br><span class="line">only screen and ( min--moz-device-pixel-ratio: <span class="number">2</span>),</span><br><span class="line">only screen and ( -o-min-device-pixel-ratio: <span class="number">2</span>/<span class="number">1</span>),</span><br><span class="line">only screen and ( min-device-pixel-ratio: <span class="number">2</span>),</span><br><span class="line">only screen and ( min-resolution: <span class="number">192dpi</span>),</span><br><span class="line">only screen and ( min-resolution: <span class="number">2dppx</span>)&#123; </span><br><span class="line">      <span class="selector-tag">div</span>&#123;</span><br><span class="line">                ……</span><br><span class="line">                <span class="selector-tag">transform</span>: <span class="selector-tag">scale</span>(0<span class="selector-class">.5</span>, 0<span class="selector-class">.5</span>);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>综合解决方案</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">方案一：手淘解决方案 flexbile</span><br><span class="line">http://g.tbcdn.cn/mtb/lib-flexible/0.3.4/??flexible_css.js,flexible.js</span><br><span class="line">1、根据屏幕大小动态改变html的fontSize，达到等比缩放问题</span><br><span class="line">2、给body设置fontSize，字体大小可以直接继承body的font-size</span><br><span class="line">3、给html标签添加data-dpr属性，可以通过查找该属性，给不同dpr元素设置个性化属性</span><br><span class="line">[data-dpr=&apos;2&apos;] div&#123;</span><br><span class="line">     font-size:  26px;</span><br><span class="line">&#125;</span><br><span class="line">方案二： Vw+postcss(插件) （推荐）不缩放</span><br><span class="line">根据设置稿（如宽度750px的设计稿），以px为单位写大小，转换成vw。解决等比缩放问题。</span><br><span class="line">至于小于等于1px的线，以px为单位不专成vw。 postcss-write-svg插件主要用来处理移动端1px的解决方案。该插件主要使用的是border-image和background来做1px的相关处理，编译出来是border-image或者background</span><br></pre></td></tr></table></figure>
<h1 id="项目-响应式布局"><a href="#项目-响应式布局" class="headerlink" title="项目: 响应式布局"></a>项目: 响应式布局</h1><p>问题一：由于给盒子设置了margin，所以必须给盒子设置宽度，不然不好使。</p>
<p>问题二：出现了横向滚动条（父级宽度不够了，将li向中间挤了）</p>
<p>解决办法：设置max-width：</p>
<p>当屏幕大于这个尺寸的时候，就将屏幕设置为980px</p>
<p>当屏幕小于980px的时候，其值就是父级的宽度，只要最大值不超过980px，你多大就多大；<br><img src="/2018/10/24/css3_2/viewport3.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/24/css3_2/" data-id="cjshkatnv0000mggglla90kn5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-css3_1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/16/css3_1/" class="article-date">
  <time datetime="2018-10-16T08:28:39.000Z" itemprop="datePublished">2018-10-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CSS3/">CSS3</a>►<a class="article-category-link" href="/categories/CSS3/CSS3知识总结1/">CSS3知识总结1</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/16/css3_1/">CSS3笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-CSS3基础"><a href="#一-CSS3基础" class="headerlink" title="一.CSS3基础"></a>一.CSS3基础</h1><h2 id="1-css的3种引入样式"><a href="#1-css的3种引入样式" class="headerlink" title="1.css的3种引入样式"></a>1.css的3种引入样式</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(1).行间引入</span><br><span class="line">(2).使用<span class="selector-tag">link</span>引用外部<span class="selector-tag">CSS</span>文件</span><br><span class="line">(3)<span class="selector-class">.html</span>中使用<span class="selector-tag">style</span>自带式</span><br><span class="line">注：行间引入的权重比较高</span><br><span class="line">  <span class="selector-tag">link</span>和<span class="selector-tag">style</span>两个同时用的话（后面的会把前面的覆盖掉，主要看加载的顺序)</span><br></pre></td></tr></table></figure>
<h2 id="2-权重问题"><a href="#2-权重问题" class="headerlink" title="2.权重问题"></a>2.权重问题</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">import</span>&gt;行间样式&gt;<span class="selector-tag">id</span>&gt;</span><br><span class="line">import!（不建议使用）&gt;id&gt;class||属性选择器||伪类选择器&gt;标签选择器&gt;通配符选择器。</span><br></pre></td></tr></table></figure>
<h2 id="3-文档流"><a href="#3-文档流" class="headerlink" title="3.文档流"></a>3.文档流</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">自伤而下的布局，从左到右，就称为文档流</span><br><span class="line">块级元素会占一整行，行级块元素不占一整行，只占自己的位置。</span><br><span class="line">脱离文档流：文档流量的限制。而且自己之前的位置也不会保留。（脱离文档流的三种方式 ：<span class="selector-tag">position</span><span class="selector-pseudo">:absolute</span>, <span class="selector-tag">position</span><span class="selector-pseudo">:fixed</span> 是相对整个窗口位置定位的，<span class="selector-tag">float</span>）</span><br></pre></td></tr></table></figure>
<h2 id="4-css属性前缀"><a href="#4-css属性前缀" class="headerlink" title="4.css属性前缀"></a>4.css属性前缀</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">只在草案中有，还没有成为标准前。加一个内核进行区分，来解决兼容浏览器兼容问题。</span><br><span class="line">对于老的浏览器也会做一些兼容处理。</span><br><span class="line"><span class="selector-tag">-webkit-</span>属性：<span class="selector-tag">Safari</span>, 谷歌浏览器等使用<span class="selector-tag">Webkit</span>引擎的浏览器</span><br><span class="line"><span class="selector-tag">-moz-</span>属性：火狐等使用<span class="selector-tag">Mozilla</span>浏览器引擎的浏览器</span><br><span class="line"><span class="selector-tag">-o-</span><span class="selector-pseudo">:Opera</span>浏览器(早期)</span><br><span class="line"><span class="selector-tag">-ms-</span><span class="selector-pseudo">:Internet</span> <span class="selector-tag">Explorer</span></span><br></pre></td></tr></table></figure>
<h2 id="5-css3常用选择器"><a href="#5-css3常用选择器" class="headerlink" title="5.css3常用选择器"></a>5.css3常用选择器</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">目的：可以减少<span class="selector-tag">class</span>，<span class="selector-tag">id</span>的使用</span><br><span class="line">（1）.属性选择器</span><br><span class="line">	<span class="selector-tag">E</span><span class="selector-attr">[att]</span> 属性</span><br><span class="line">	<span class="selector-tag">E</span><span class="selector-attr">[att='val']</span> 属性<span class="selector-tag">att</span>的值为"<span class="selector-tag">val</span>"的元素</span><br><span class="line">	<span class="selector-tag">E</span><span class="selector-attr">[att~='val']</span> 属性<span class="selector-tag">att</span>有多个值，<span class="selector-tag">val</span>为其中一个</span><br><span class="line">	<span class="selector-tag">E</span><span class="selector-attr">[att^='val']</span> 属性<span class="selector-tag">att</span>的值以"<span class="selector-tag">val</span>"开头的元素</span><br><span class="line">	<span class="selector-tag">E</span><span class="selector-attr">[att$='val']</span> 属性<span class="selector-tag">att</span>的值以"<span class="selector-tag">val</span>"结尾的元素</span><br><span class="line">	<span class="selector-tag">E</span><span class="selector-attr">[att*='val']</span> 属性<span class="selector-tag">att</span>的值包含"<span class="selector-tag">val</span>"的元素</span><br><span class="line">例如：&lt;input class='name first input' type='text'&gt;</span><br><span class="line">	 <span class="selector-tag">input</span><span class="selector-attr">[type='text']</span>&#123;&#125;</span><br><span class="line">	 <span class="selector-tag">input</span><span class="selector-attr">[class~='first']</span>表示要找的<span class="selector-tag">class</span>类名中只要有<span class="selector-tag">first</span>就可以。</span><br><span class="line">	 <span class="selector-tag">input</span><span class="selector-attr">[class='name first input']</span>这样的话是必须完全匹配。</span><br><span class="line">（2）.同级选择器</span><br><span class="line">	<span class="selector-tag">E</span> + <span class="selector-tag">F</span> 毗邻元素选择器，匹配所有紧随<span class="selector-tag">E</span>元素之后的同级元素<span class="selector-tag">F</span></span><br><span class="line">	<span class="selector-tag">E</span> ~ <span class="selector-tag">F</span> 匹配任何在<span class="selector-tag">E</span>元素之后的同级<span class="selector-tag">F</span>元素,兄弟选择器</span><br><span class="line">（3）.伪类选择器</span><br><span class="line">	<span class="selector-pseudo">:not(s)</span>不含有<span class="selector-tag">s</span>选择符的元素<span class="selector-tag">E</span></span><br><span class="line">	<span class="selector-pseudo">:first-child</span> 匹配父元素的第一个子元素</span><br><span class="line">	<span class="selector-pseudo">:last</span>——<span class="selector-tag">child</span> 匹配父元素的最后一个子元素</span><br><span class="line">	<span class="selector-pseudo">:nth-child(n)</span>匹配父元素的第<span class="selector-tag">n</span>个元素</span><br><span class="line">	<span class="selector-pseudo">:nth-last-child</span> (<span class="selector-tag">n</span>)匹配父元素的第<span class="selector-tag">n</span>个元素（从后像前数）</span><br><span class="line">	<span class="selector-pseudo">:first-of-type</span> 区别：在同一类型中找第几个元素。</span><br><span class="line">	<span class="selector-pseudo">:last-of-type</span> </span><br><span class="line">	<span class="selector-pseudo">:nth-of-type</span></span><br><span class="line">	<span class="selector-pseudo">:nth-last-of-type</span></span><br><span class="line">	<span class="selector-pseudo">:empty(</span>只看标签里有没有内容)</span><br><span class="line">	<span class="selector-pseudo">:enable</span> 匹配表单中激活的元素</span><br><span class="line">	<span class="selector-pseudo">:disable</span>匹配表单中禁用的元素(不能获取焦点，也不能输入)</span><br><span class="line">	<span class="selector-pseudo">:checked</span> 匹配表单中被选中的<span class="selector-tag">radio</span>（单选按钮）或<span class="selector-tag">checkbox</span>（复选		框）元素</span><br><span class="line">	<span class="selector-pseudo">:target</span> </span><br><span class="line">    注：保证<span class="selector-tag">href</span>后面的值和<span class="selector-tag">id</span>的值一样</span><br><span class="line">	<span class="selector-pseudo">:root</span> 根元素</span><br><span class="line">（4）伪元素选择器</span><br><span class="line">    <span class="selector-pseudo">:first-letter</span> 设置对象内的第一个字符的样式</span><br><span class="line">    <span class="selector-pseudo">:first-line</span> 设置对象内的第一行的样式</span><br><span class="line">    <span class="selector-pseudo">:before</span> </span><br><span class="line">    <span class="selector-pseudo">:after</span></span><br><span class="line">    <span class="selector-pseudo">::selection</span> 设置对象被选择时的元素的样式</span><br><span class="line">注意：伪元素选择器可以添加内容。</span><br></pre></td></tr></table></figure>
<h1 id="二-CSS3选项卡练习笔记"><a href="#二-CSS3选项卡练习笔记" class="headerlink" title="二.CSS3选项卡练习笔记"></a>二.CSS3选项卡练习笔记</h1><p><strong>1.</strong>如果想实现单选框必须使name相同，如果想提交表单元素则要设置value值。</p>
<p><strong>2.</strong>对于脱离文档流的理解</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">checked</span> <span class="attr">name</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"news"</span>&gt;</span>你好啊<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sports"</span>&gt;</span>恭喜你<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fashion"</span>&gt;</span>大家好<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>方法一：对于input脱离文档流 </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">（1）相对<span class="selector-tag">wrappe</span>进行定位，使用<span class="selector-tag">position</span>：<span class="selector-tag">absolute</span>；<span class="selector-tag">input</span>框全部叠加在了一起。使用<span class="selector-tag">left</span>不好控制。</span><br><span class="line">（2）对<span class="selector-tag">input</span>使用<span class="selector-tag">float</span><span class="selector-pseudo">:left</span> 也会导致叠加。</span><br></pre></td></tr></table></figure>
<p>方法二：对div脱离文档流</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">position</span><span class="selector-pseudo">:absolute</span>:直接三个盒子叠加在一起，不占空间</span><br></pre></td></tr></table></figure>
<p>同时，input是行级块元素，所以自然排成了一排</p>
<p><strong>3.</strong>text-align:center;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对于行级块元素起作用。可对行级元素的父级元素使用<span class="selector-tag">text-align</span>：<span class="selector-tag">center</span>。</span><br></pre></td></tr></table></figure>
<p><strong>4.</strong> a标签中的href，如果是空的话，在点击的时候，会自动刷新页面（不想刷新页面就添加#或者 Javascript:;）</p>
<p><strong>5.</strong> 换行会产生占位符，可以对其父元素设置 font-size:0；对于父级元素中的其他子元素可设置自己字体的大小，这样就不会继承上一级的字体大小。<br>总结：文字大小继承，自己又的话就不继承。</p>
<p><strong>6.</strong> 对于lable标签的使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"tabs"</span> <span class="attr">value</span>=<span class="string">"a"</span> <span class="attr">id</span>=<span class="string">"new"</span> <span class="attr">checked</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"tabs"</span> <span class="attr">value</span>=<span class="string">"b"</span> <span class="attr">id</span>=<span class="string">"sport"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"tabs"</span> <span class="attr">value</span>=<span class="string">"c"</span> <span class="attr">id</span>=<span class="string">"fash"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"new"</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"new"</span>&gt;</span>新闻<span class="tag">&lt;/<span class="name">label</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sport"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"sport"</span>&gt;</span>体育<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"fash"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"fash"</span>&gt;</span>时尚<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="三-CSS3常用属性"><a href="#三-CSS3常用属性" class="headerlink" title="三.CSS3常用属性"></a>三.CSS3常用属性</h1><h2 id="常用属性一："><a href="#常用属性一：" class="headerlink" title="常用属性一："></a>常用属性一：</h2><p><strong>border-radius 圆角</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  一个值/四个值/每个值拆分成两个方向值(四个顶点分别又可以拆成两个)</span><br><span class="line"><span class="selector-tag">border-radius</span><span class="selector-pseudo">:50px</span>;</span><br><span class="line"><span class="selector-tag">border-radius</span><span class="selector-pseudo">:50px</span> 50<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">border-radius</span><span class="selector-pseudo">:50px</span> 50<span class="selector-tag">px</span> 50<span class="selector-tag">px</span> 50<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">border-top-left-radius</span>: 50<span class="selector-tag">px</span>;</span><br><span class="line">   <span class="selector-tag">border-top-right-radius</span>: 50<span class="selector-tag">px</span>;</span><br><span class="line">   <span class="selector-tag">border-bottom-left-radius</span>: 50<span class="selector-tag">px</span>;</span><br><span class="line">   <span class="selector-tag">border-bottom-right-radius</span>: 50<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">border-bottom-right-radius</span>: 50<span class="selector-tag">px</span> 50<span class="selector-tag">px</span>;</span><br></pre></td></tr></table></figure>
<p><strong>box-shadow 盒子阴影</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">box-shadow</span>: <span class="selector-tag">x</span> <span class="selector-tag">y</span> <span class="selector-attr">[模糊半径]</span><span class="selector-attr">[阴影拓展半径]</span> <span class="selector-attr">[阴影颜色]</span><span class="selector-attr">[投影方式]</span>默认投影是向外的。</span><br></pre></td></tr></table></figure>
<p><strong>text-shadow 文字阴影</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">text-shadow</span>: <span class="selector-tag">x</span> <span class="selector-tag">y</span> <span class="selector-attr">[模糊半径]</span><span class="selector-attr">[阴影颜色]</span></span><br><span class="line">注：阴影不会把盒子撑开。也可以加多个投影。</span><br><span class="line"><span class="selector-tag">rgba</span>(<span class="selector-tag">r</span>, <span class="selector-tag">g</span>, <span class="selector-tag">b</span>, <span class="selector-tag">a</span>)</span><br></pre></td></tr></table></figure>
<p><strong>注意与opacity的区别</strong><br>如果不使用rgb形式去表示，使用red等，不仅外面盒子有透明度的效果，里面的盒子也会有透明度的效果。<br>使用rgb的时候就可以只使外面的有透明度的效果，里面不会有影响。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">第二张图  外面&#123;</span><br><span class="line">    		<span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">            <span class="attribute">background</span>: red;</span><br><span class="line">            <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">		&#125;</span><br><span class="line">   		里面&#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">            <span class="attribute">background</span>: black;</span><br><span class="line">    	&#125;</span><br><span class="line">第三张图  外面&#123;</span><br><span class="line">    		<span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">            <span class="attribute">background</span>: <span class="built_in">rgba</span>(255, 0, 0, 0.5);</span><br><span class="line">		 &#125;</span><br><span class="line">   		里面&#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">            <span class="attribute">background</span>: black;</span><br><span class="line">    	&#125;</span><br></pre></td></tr></table></figure>
<img src="/2018/10/16/css3_1/1539531291(1).jpg">
<h2 id="常用属性二："><a href="#常用属性二：" class="headerlink" title="常用属性二："></a>常用属性二：</h2><p><strong>线性渐变</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span><span class="selector-pseudo">:linear-gradient(direction</span>, <span class="selector-tag">color</span> <span class="selector-attr">[percent]</span>, <span class="selector-tag">color</span> <span class="selector-attr">[percent]</span>)（<span class="selector-tag">percent</span>可以表示这个颜色从什么位置变化）</span><br><span class="line"><span class="selector-tag">direction</span>: 渐变方向（方向或角度）</span><br><span class="line">	写方向：to bottom/to bottom right……</span><br><span class="line">	写角度：0deg/45deg</span><br><span class="line"><span class="selector-tag">color</span>: 渐变颜色</span><br><span class="line"><span class="selector-tag">percent</span>: 百分比</span><br><span class="line">例如<span class="selector-pseudo">:background</span><span class="selector-pseudo">:linear-gradient(90deg</span>,<span class="selector-tag">yellow</span> 50%, <span class="selector-tag">green</span> 90%,<span class="selector-tag">red</span>);</span><br><span class="line">如果只写颜色不写值的话，颜色会均分。</span><br><span class="line">90<span class="selector-tag">deg</span> 相当于<span class="selector-tag">to</span> <span class="selector-tag">right</span>渐变方向，黄色从50%的位置开始渐变，绿色从90%的地方开始渐变到红色。</span><br></pre></td></tr></table></figure>
<p><strong>径向渐变</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">以某一个点向外扩散。(中心点，渐变半径，渐变的颜色)</span><br><span class="line">background:radial-gradient(shape r/(a,b) at position, color [percent], color [percent])</span><br><span class="line"><span class="selector-tag">shape</span>: 形状</span><br><span class="line">	circle/ellipse</span><br><span class="line">r/(a,b): 半径/(长短轴)</span><br><span class="line"><span class="selector-tag">position</span>: 中心点位置</span><br><span class="line">	像素值/百分比/方向(top left)/也可以是一个值（如果只有一个值，那么第二个值默认center）</span><br><span class="line">注：可以写多个，以逗号隔开。</span><br><span class="line">例如：<span class="selector-tag">background</span>: <span class="selector-tag">radial-gradient</span>(<span class="selector-tag">circle</span> 100<span class="selector-tag">px</span> <span class="selector-tag">at</span> 200<span class="selector-tag">px</span> 200<span class="selector-tag">px</span>,<span class="selector-tag">yellow</span> 50%,<span class="selector-tag">green</span>);</span><br><span class="line">起始点为200<span class="selector-tag">px</span>，200<span class="selector-tag">px</span> 以100<span class="selector-tag">px</span>为半径的圆形向外扩散。50%以内的都是以<span class="selector-tag">yellow</span>的颜色为准，在圆内<span class="selector-tag">yellow</span>从50%开始渐变到绿色，圆外的是以绿色为准。</span><br></pre></td></tr></table></figure>
<p><strong>CSS3新增 background值</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">指定绘制背景图像时的起点</span><br><span class="line">background-origin:border-box | padding-box | content-box</span><br><span class="line">指定背景的显示范围</span><br><span class="line">默认是从<span class="selector-tag">padding</span>区域开始的，</span><br><span class="line">background-clip: border-box | padding-box | content-box</span><br><span class="line">指定背景中图像的尺寸</span><br><span class="line">background-size:auto|length|percentage|cover|contain</span><br><span class="line">	<span class="selector-tag">cover</span>: 用一张图片铺满盒子（横图，只要高度达到100%宽度会出去，竖图，只要宽度达到100% 高度就会出去，）</span><br><span class="line">	如下图所示，第三张图片，可以使用<span class="selector-tag">background-position</span>进行居中调整。</span><br><span class="line">	<span class="selector-tag">contain</span>: 让盒子保留一张完整背景图片（会有空白区域）</span><br><span class="line">精灵图：引入图片，通过定位去显示自己想要的图片。<span class="selector-tag">Background-position</span></span><br></pre></td></tr></table></figure>
<img src="/2018/10/16/css3_1/4.jpg">
<p><strong>CSS3新增 border值</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">可单独设置每边的<span class="selector-tag">border</span></span><br><span class="line"><span class="selector-tag">border</span>: <span class="selector-tag">border-width</span>  <span class="selector-tag">border-style</span> <span class="selector-tag">b</span> <span class="selector-tag">order-color</span>;</span><br><span class="line">给<span class="selector-tag">border</span>添加背景图片</span><br><span class="line"><span class="selector-tag">border-image</span>：<span class="selector-tag">url</span> <span class="selector-tag">number</span> <span class="selector-tag">style</span>;（可以写<span class="selector-tag">repeat</span>，这样就会重复，平铺到哪里算哪里，不到的地方就裁剪，不写就会平铺开，<span class="selector-tag">round</span>的话，会以完整的图形呈现）</span><br><span class="line">    <span class="selector-tag">url</span>: 图片地址</span><br><span class="line">    <span class="selector-tag">number</span>: 图片裁剪的值（取裁剪的外围8个部分）</span><br><span class="line">    <span class="selector-tag">style</span>: 图片添加的方式</span><br><span class="line">例如：花边效果</span><br><span class="line">注：复合属性最好是拆开写，如果不拆开写就把复合的写在上面，单独写的放在下面</span><br></pre></td></tr></table></figure>
<p><strong>文字属性：文本溢出</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1.text-overflow: clip|ellipsis|ellipsis-word</span><br><span class="line">    <span class="selector-tag">clip</span>:不显示省略标记(…),而是简单裁切（需要结合<span class="selector-tag">overflow</span><span class="selector-pseudo">:hidden</span>;使用）为什么汉子没有裁剪掉呢？汉子超出部分就直接换行了，英文连在一起就是一个单词，在这里一个单词超出部分才会截断。而中文的一个字就是一个单词，想要被截断，就需要强制其不换行使用<span class="selector-tag">white-space</span><span class="selector-pseudo">:nowrap</span>;</span><br><span class="line">    <span class="selector-tag">ellipsis</span>：当对象文本一出时显示省略标记(…)，省略标记插入的位置是最后一个字符</span><br><span class="line">2<span class="selector-class">.white-space</span><span class="selector-pseudo">:nowrap</span> 文本不会换行，直到遇到 &lt;<span class="selector-tag">br</span>&gt; 标签为止。(<span class="selector-tag">css2</span><span class="selector-class">.1</span>)</span><br><span class="line">结合上面两个属性实现单行打点</span><br><span class="line">3.单行打点：</span><br><span class="line"><span class="selector-tag">text-overflow</span><span class="selector-pseudo">:ellipsis</span>;</span><br><span class="line"><span class="selector-tag">white-space</span><span class="selector-pseudo">:nowrap</span>; 强制文本在一行内显示</span><br><span class="line"><span class="selector-tag">overflow</span><span class="selector-pseudo">:hidden</span>; 溢出内容为隐藏</span><br><span class="line">4.多行打点：</span><br><span class="line"><span class="selector-tag">-webkit-line-clamp</span>: 2;</span><br><span class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</span><br><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">-webkit-box</span>;</span><br><span class="line"><span class="selector-tag">-webkit-box-orient</span>: <span class="selector-tag">vertical</span>;</span><br><span class="line"><span class="selector-tag">overflow</span><span class="selector-pseudo">:hidden</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">多行打点兼容性不好，可用js操作（五行属性值三个不兼容）超过一定数量就打点，获取字符串长度去判断在哪个位置打点，截断后拼接三个点，然后插入到dom元素中。</span><br><span class="line">substr裁剪</span><br><span class="line">    <span class="keyword">var</span> oA = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"dot"</span>)[<span class="number">0</span>];</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">dot</span>(<span class="params">dom, num</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> str = dom.innerHTML;</span><br><span class="line">            <span class="keyword">var</span> len = str.length;</span><br><span class="line">            <span class="keyword">if</span>(len&gt;num)&#123;</span><br><span class="line">                dom.innerHTML = str.substr(<span class="number">0</span>,num) + <span class="string">'...'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    dot(oA,<span class="number">15</span>);</span><br></pre></td></tr></table></figure>
<p><strong>文字属性：文本换行</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">word-wrap: normal|break-word;</span><br><span class="line">	<span class="selector-tag">normal</span>: 连续文本换行（一个单词就不会换行）</span><br><span class="line">	<span class="selector-tag">break-word</span>: 内容将在边界内换行（强制换行）(效果如下图）</span><br><span class="line"></span><br><span class="line">对于西方文字来说浏览器会在半角空格或者在连字符的地方换行，而不会在单词中间折行的，所以中文不存在在中间拆的。链接也符合这个规则。</span><br><span class="line">4、文字属性：文字字体</span><br><span class="line">@<span class="keyword">font-face</span>&#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'ShadowsIntoLight’;</span></span><br><span class="line"><span class="string">    src: url('</span>./ShadowsIntoLight.ttf<span class="string">');/*兼容IE*/</span></span><br><span class="line"><span class="string">    src: url('</span>./ShadowsIntoLight.eot?#iefix<span class="string">') format('</span>embedded-opentype’),</span><br><span class="line">        <span class="built_in">url</span>(<span class="string">'./ShadowsIntoLight.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff’),</span></span><br><span class="line"><span class="string">        url('</span>./ShadowsIntoLight.ttf<span class="string">') format('</span>truetype’),</span><br><span class="line">        <span class="built_in">url</span>(<span class="string">'./ShadowsIntoLight.svg'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="四-Columns多列布局"><a href="#四-Columns多列布局" class="headerlink" title="四.Columns多列布局"></a>四.Columns多列布局</h1><h2 id="1-Columns多列布局"><a href="#1-Columns多列布局" class="headerlink" title="1.Columns多列布局"></a>1.Columns多列布局</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1.columns: column-width | column-count;</span><br><span class="line">	设置宽度的时候，例如宽度设置为300，那么当我缩小这个窗口的时候，其文本每列的宽度还是不小于300，如果要小于300了。其就会减少一列。足够放下几列就放几列。如果固定了列数，那么当我缩小的时候，每一个列都会变窄。</span><br><span class="line">2<span class="selector-class">.column-width</span>:每列的宽度</span><br><span class="line">3<span class="selector-class">.column-conunt</span>:显示的列数</span><br><span class="line">4<span class="selector-class">.column-gap</span>: 列宽，默认由<span class="selector-tag">font-size</span>决定。</span><br><span class="line">	列与列之间的距离。如果没写<span class="selector-tag">fontsize</span> 是会继承父级的16<span class="selector-tag">px</span>；</span><br><span class="line">4<span class="selector-class">.column-rule</span>: <span class="selector-tag">column-rule-width</span> <span class="selector-tag">column-rule-style</span> <span class="selector-tag">column-style-colro</span> 列边框样式</span><br><span class="line">	线是不占宽度的，</span><br><span class="line">5.column-span: none | all(横跨所有列)</span><br><span class="line">	将题目横跨</span><br><span class="line">注：</span><br><span class="line">    1.只设置<span class="selector-tag">column-conunt</span>，宽度会随屏幕的缩小而缩小，会一直保持设置的列数。</span><br><span class="line">	2.只设置<span class="selector-tag">column-width</span>，宽度不变，列数会变化，能有几列就有几列，不能就减少列数。（不设置盒子宽度的时候）</span><br></pre></td></tr></table></figure>
<h2 id="2-瀑布流效果小笔记"><a href="#2-瀑布流效果小笔记" class="headerlink" title="2.瀑布流效果小笔记"></a>2.瀑布流效果小笔记</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.默认情况下文字字体都是向下对其的，使用float：left；可以使其脱离文档流，这样就可以以上为准。</span><br><span class="line">3.给行级块元素或者块级元素的父级元素设置colum-width：150px;子元素一定是行元素或者是行级块元素才好使。</span><br><span class="line">2.给其设置column-gap:10px;  而margin：10 px 0；也就是margin在左右没有给。因为是行级块元素，并且给定宽了，里面是固定的内容，在往里面缩的时候就会出现下图的问题。</span><br><span class="line">解决办法，发给column和margin都设置上，就可以实现。 如果是字体的话就无所谓了。（让出column-gap的距离）</span><br></pre></td></tr></table></figure>
<img src="/2018/10/16/css3_1/pubuliu.jpg">
<h1 id="五-盒模型及使用"><a href="#五-盒模型及使用" class="headerlink" title="五.盒模型及使用"></a>五.盒模型及使用</h1><ol>
<li>IE混杂盒模型是向内部挤的。盒子的宽度是由width来决定的(盒子宽度足够的时候)</li>
<li>标准盒模型是由width+padding+border一起决定。</li>
</ol>
<p><strong>定义显示方式</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">box-sizing: content-box | border-box</span><br><span class="line">	默认<span class="selector-tag">content-box</span> 是标准盒模型</span><br><span class="line">	<span class="selector-tag">border-box</span> 是<span class="selector-tag">IE6</span>混杂盒模型。</span><br></pre></td></tr></table></figure>
<p><strong>可控大小</strong> </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">resize: nont | horizontal | vertical | both; </span><br><span class="line">结合属性<span class="selector-tag">overflow</span>: <span class="selector-tag">auto</span>;</span><br></pre></td></tr></table></figure>
<p><strong>定义轮廓</strong><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-tag">outline</span>: <span class="selector-tag">outline-width</span> <span class="selector-tag">outline-style</span> <span class="selector-tag">outline-color</span>；</span><br><span class="line">例如：<span class="selector-tag">input</span>框中的边缘不是<span class="selector-tag">border</span>，是<span class="selector-tag">outline</span>；</span><br></pre></td></tr></table></figure></p>
<h1 id="六-Flex弹性盒子（一）"><a href="#六-Flex弹性盒子（一）" class="headerlink" title="六.Flex弹性盒子（一）"></a>六.Flex弹性盒子（一）</h1><h2 id="1-定义弹性盒子"><a href="#1-定义弹性盒子" class="headerlink" title="1.定义弹性盒子"></a>1.定义弹性盒子</h2><p>flexbox，是一种一维的布局模型。它给flexbox的子元素之间提供了强大的空间分布和对齐能力。<br><img src="/2018/10/16/css3_1/flex.jpg"></p>
<p>注意：columns属性再伸缩容器上没效果，同时 float,clear和vertical-align属性再伸缩项目上页没有效果<br>flex将父级容器解析成一个块级元素，inline-flex将父级容器解析成为行级块元素。</p>
<h2 id="2-弹性盒子的一些特性"><a href="#2-弹性盒子的一些特性" class="headerlink" title="2.弹性盒子的一些特性"></a>2.弹性盒子的一些特性</h2><img src="/2018/10/16/css3_1/flex2.jpg">
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">上图所示结构</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;1&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;2&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;3&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>左侧图形是没有加flex的，右侧时加了flex的。<br><strong>第一点</strong>：子元素是div，每个div都是块级元素，要独占一行。<br>当给父级元素设置flex后，子元素就相当于转化成了行级块元素。<br><strong>第二点</strong>：如果子元素的宽度和刚好是父元素宽度，会不会超出呢？<br>答：不会，使用了flex后，不在乎div与div之间的换行造成的占位符，会按照自己的那个轴进行排序。<br><strong>第三点</strong>：弹性盒子超出部分，会被按照等比例的压缩，默认情况下是不会换行超出的。</p>
<h2 id="3-flexbox的两根轴线"><a href="#3-flexbox的两根轴线" class="headerlink" title="3.flexbox的两根轴线"></a>3.flexbox的两根轴线</h2><p>主轴和交叉轴。（交叉轴始终与主轴垂直，取决于谁是主轴）<br>方向<br>起始位置和终止位置<br><img src="/2018/10/16/css3_1/flex3.jpg"></p>
<h2 id="4-flexbox的初始效果"><a href="#4-flexbox的初始效果" class="headerlink" title="4.flexbox的初始效果"></a>4.flexbox的初始效果</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">所有CSS属性都会有一个初始值，所以 flex 容器中的所有 flex 元素都会初始默认效果：</span><br><span class="line">（1）主轴水平从左向右。元素排列为一行 (flex-direction 属性的初始值是 row)。</span><br><span class="line">（2）元素从左边起始线开始(justify-content:flex-start)。元素从主轴的起始线开始。</span><br><span class="line">（3）默认不拉伸(flex-grow:0)，但是会压缩(flex-shrink:1)不换行(flew-wrap:nowrap)。元素不会在主维度方向拉伸，但是可以缩小。</span><br><span class="line">（4）不设置高度时flex元素充满flex容器(align-items:stretch)。元素被拉伸来填充交叉轴大小。</span><br></pre></td></tr></table></figure>
<h1 id="七-Flex弹性盒子（二）"><a href="#七-Flex弹性盒子（二）" class="headerlink" title="七.Flex弹性盒子（二）"></a>七.Flex弹性盒子（二）</h1><h2 id="1-flex容器属性"><a href="#1-flex容器属性" class="headerlink" title="1.flex容器属性"></a>1.flex容器属性</h2><p><strong>(1) flex-direction</strong>设置flex容器主轴的方向（可以水平可以垂直，方向可以由这个属性来决定）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">row</span>: (默认)默认方向</span><br><span class="line"><span class="selector-tag">row-reverse</span>：默认方向 首尾互换（从右向左，右面就成了默认的起始点）</span><br><span class="line"><span class="selector-tag">column</span>: 垂直，从上到下</span><br><span class="line"><span class="selector-tag">column-reverse</span>: 垂直 从下到上</span><br></pre></td></tr></table></figure>
<img src="/2018/10/16/css3_1/flex5.jpg">
<p>注：当设置的宽度或者高度超过总宽度或者高度，会自动压缩，例如上图，总高度为400px 而我每个容器的高度是200px，这已经超出了（主轴方向超出是会压缩的）<br>不设置高度的话，会默认填充整个盒子。<br><strong>(2) flex-wrap</strong>控制flex容器是单线还是多线，以及新线的堆叠方向</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nowrap: 单行</span><br><span class="line">wrap: 多行         </span><br><span class="line">如下图左侧 所示这个多行，为什么下面的这个没有紧挨着上面的排列，是因为有个默认属性，align-content</span><br></pre></td></tr></table></figure>
<img src="/2018/10/16/css3_1/flex4.jpg">
<p>wrap-reverse: 新线上前排列    如上右侧图所示新的一行排在原来那一行的上面<br><strong>(3) flex-flow</strong>: flex-direction flex-wrap;</p>
<p><strong>(4) justify-content</strong> 项目在主轴上的对齐方式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">flex-start</span><span class="selector-pseudo">:(</span>默认) <span class="selector-tag">main-start</span>齐平</span><br><span class="line"><span class="selector-tag">flex-end</span>: <span class="selector-tag">main-end</span>齐平</span><br><span class="line"><span class="selector-tag">center</span>: 居中</span><br><span class="line"><span class="selector-tag">space-between</span>: 两端对齐，没两个<span class="selector-tag">flex</span>元素之间的空隙相等(下图左侧)</span><br><span class="line"><span class="selector-tag">space-around</span>: 每个项目两侧的距离相等（如右图所示，拉手分布）下图右侧</span><br></pre></td></tr></table></figure>
<img src="/2018/10/16/css3_1/flex6.jpg">
<p><strong>(5) align-items</strong> 项目在交叉轴上的对齐方式（因为是单行的，所以没有space-between 和space-around）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">flex-start</span>: <span class="selector-tag">cross-start</span>齐平</span><br><span class="line"><span class="selector-tag">flex-end</span>: <span class="selector-tag">cross-end</span>齐平</span><br><span class="line"><span class="selector-tag">center</span>: 居中对齐</span><br><span class="line"><span class="selector-tag">baseline</span>: <span class="selector-tag">flex</span>元素的第一行文字为基准对齐（共进退）如果一个子元素设置了<span class="selector-tag">margin</span>或者<span class="selector-tag">padding</span> <span class="selector-tag">top</span>就会以这个元素的一个文本进行对齐。</span><br><span class="line"><span class="selector-tag">stretch</span>: <span class="selector-tag">flex</span>元素未设置高度时，高度充满<span class="selector-tag">flex</span>容器高度</span><br></pre></td></tr></table></figure>
<p><strong>(6) align-content</strong> 多线的对齐方式，单线不起作用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">flex-start</span>: 打包<span class="selector-tag">cross-start</span>齐平</span><br><span class="line"><span class="selector-tag">flex-end</span>: 打包<span class="selector-tag">cross-end</span>齐平</span><br><span class="line"><span class="selector-tag">center</span>: 打包居中</span><br><span class="line"><span class="selector-tag">stretch</span>: 未设置高度时占满整个交叉轴</span><br><span class="line"><span class="selector-tag">space-between</span>: <span class="selector-tag">cross</span>两端对齐</span><br><span class="line"><span class="selector-tag">space-around</span>: 每跟轴两侧空隙相等</span><br><span class="line">有个默认：<span class="selector-tag">auto</span></span><br></pre></td></tr></table></figure>
<h2 id="2-flex容器属性"><a href="#2-flex容器属性" class="headerlink" title="2.flex容器属性"></a>2.flex容器属性</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1、<span class="selector-tag">flex-basis</span>: <span class="selector-tag">length</span>;定义该元素的<span class="selector-tag">main-size</span>。（主轴方向上的尺寸，不设置的时候也有<span class="selector-tag">main-size</span>，会按照主轴上的<span class="selector-tag">width</span>来决定，这是主轴是水平方向的时候。当主轴是垂直方向的时候，那就默认是的主轴的高度决定）</span><br><span class="line">2、<span class="selector-tag">flex-grow</span>: <span class="selector-tag">number</span>; 拉伸比例，默认值为0(就是不拉伸，设置多少就是多少)</span><br><span class="line">3、<span class="selector-tag">flex-shrink</span>: <span class="selector-tag">number</span>; 压缩比例，默认值为1</span><br><span class="line">可以计算出被砍掉的值是多少的 ，每个元素的flex-basis*fled-shrink/(每个flex-basis*fled-shrink的和)*超出宽度的部分。</span><br><span class="line">4、<span class="selector-tag">flex</span>: <span class="selector-tag">flex-grow</span> <span class="selector-tag">flex-shrink</span> <span class="selector-tag">flex-basis</span>，默认值 0 1 <span class="selector-tag">auto</span></span><br><span class="line">5、<span class="selector-tag">align-self</span>单个项目在<span class="selector-tag">cross</span>轴上的对齐方式</span><br><span class="line">    <span class="selector-tag">flex-start</span>: <span class="selector-tag">cross-start</span>齐平</span><br><span class="line">    <span class="selector-tag">flex-end</span>: <span class="selector-tag">cross-end</span>齐平</span><br><span class="line">    <span class="selector-tag">center</span>: 居中</span><br><span class="line">    <span class="selector-tag">baseline</span>: 第一行文字</span><br><span class="line">    <span class="selector-tag">stretch</span>: 为设置高度时 该元素高度为<span class="selector-tag">flex</span>容器高度 </span><br><span class="line">6、<span class="selector-tag">order</span>：<span class="selector-tag">number</span> 该项目排列的位置 值从小到大排列</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/16/css3_1/" data-id="cjshkau6y0018mgggmehoic48" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-html5_3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/11/html5_3/" class="article-date">
  <time datetime="2018-10-11T08:28:39.000Z" itemprop="datePublished">2018-10-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/HTML5/">HTML5</a>►<a class="article-category-link" href="/categories/HTML5/HTML5知识总结3/">HTML5知识总结3</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/11/html5_3/">HTML5笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="一-小米商城问题"><a href="#一-小米商城问题" class="headerlink" title="一 .小米商城问题"></a>一 .小米商城问题</h2><img src="/2018/10/11/html5_3/xiao.jpg">
<p>问题：当我向下滑动鼠标的时候，时间导航栏固定在最顶层的时候，缩小整个浏览器，就会出现这个串行的情况。</p>
<p>解决办法：在li的父级元素ul上添加overflow：hidden；</p>
<p>注意：这样也有问题，就是只要li的一点点超出ul的宽度，就会把整个li都隐藏了。<br><img src="/2018/10/11/html5_3/xiaomi4.png"><br>原因：给li的父级元素设置固定宽度就好了。（我给ul的宽度设置的是100%）所以为什么100%的时候不可以呢？（原因：fixed元素 width:100%继承的body的宽度，fixed元素 width:100%继承的body的宽度）</p>
<h2 id="二-小米商城底部footer制作"><a href="#二-小米商城底部footer制作" class="headerlink" title="二.小米商城底部footer制作"></a>二.小米商城底部footer制作</h2><img src="/2018/10/11/html5_3/xiaomi2.jpg">
<p>问题：字体图标的大小时24px，而后面字体的大小是16px，想要两个都在垂直方向上居中，也就是在其父级元素li上设置line-height = height;但是我发现在垂直方向上并没有居中对齐，后来给字体图标也同样设置了一下line-height=height;并使其vertical-align：-4px;才解决问题。</p>
<p>可能的原因：字体是16px,而字体图标时24px;即使文字部分已经垂直居中，但是于字体图标较大（也已经垂直居中了），还是会把li元素的盒子撑开，导致文字部分无法垂直居中，所以把字体图标向下手动居中-4px(恰好是大于文字大小的一半)；</p>
<p>另一个问题：对于上图的5个li，为什么使用width：20%的时候，会超出范围，看了一下小米闪购内设置的是 width：19.8%；</p>
<p>原因：li与li之间会有换行，回车换行的时候，会产生一个占位符也就相当于一个英文字母 ，5个li就会多4个字符的宽度。</p>
<p>解决办法：这个字符安的宽度大小跟字体一样 可以用font-size来控制，可以给ul字体大小设置font-size:0;然后给li字体大小设置font-size:20px;这样多出来的字体就没有宽度了，li就可以设置20%了。</p>
<h2 id="三-字体颜色继承"><a href="#三-字体颜色继承" class="headerlink" title="三.字体颜色继承"></a>三.字体颜色继承</h2><img src="/2018/10/11/html5_3/xiaomi3.jpg">
<p>问题：为dd设置颜色的时候，始终设置不上，被浏览器默认颜色覆盖掉了，最后直接给dd的父级   a{ color:} </p>
<p>原因：字体是会继承父级的，前提是这个子元素自身上面没有这个属性，而a标签是有color属性的，所以就显示自己的这个属性就不继承了。</p>
<p>总结：对于a标签里面的文字，一般设置a标签的样式</p>
<h2 id="四：js判断是否为对象"><a href="#四：js判断是否为对象" class="headerlink" title="四：js判断是否为对象"></a>四：js判断是否为对象</h2><p>var obj = {}；<br>1.toString（推荐）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object.prototype.toString.call(obj) === &apos;[Object Object]&apos;</span><br></pre></td></tr></table></figure></p>
<p>2.constructor<br>obj.constructor === Object<br>3.instanceof 需要注意的是由于数组也是对象，因此用 arr instanceof Object 也为true。<br>obj instaceof Object</p>
<p>4.typeof</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">typeof obj === Object</span><br><span class="line">// 根据typeof判断对象也不太准确</span><br><span class="line">表达式                       返回值</span><br><span class="line">typeof undefined           &apos;undefined&apos;</span><br><span class="line">typeof null                &apos;object&apos;</span><br><span class="line">typeof true                &apos;boolean&apos;</span><br><span class="line">typeof 123                 &apos;number&apos;</span><br><span class="line">typeof &quot;abc&quot;               &apos;string&apos;</span><br><span class="line">typeof function() &#123;&#125;       &apos;function&apos;</span><br><span class="line">typeof &#123;&#125;                  &apos;object&apos;</span><br><span class="line">typeof []                  &apos;object&apos;</span><br></pre></td></tr></table></figure>
<p>5.$.isPlainObject()<br>判断指定参数是否是一个纯粹的对象（所谓”纯粹的对象”，就是该对象是通过”{}”或”new Object”创建的。）<br>$.isPlainObject(obj) </p>
<h2 id="一-文件操作"><a href="#一-文件操作" class="headerlink" title="一.文件操作"></a>一.文件操作</h2><p><strong>fileList and file</strong></p>
<p>1、fileList: 表示用户选择的文件列表（数组）<br> .files 才能获得上图中的FileList<br>2、file: 表示file控件内的每一个被选择的文件对象。fileList为这些file对象的列表注：&lt;input type=”file/&gt;是可以进行文件上传的。但是只是提交了到了浏览器，但        是并没有传出去（需要读取完信息，读取完之后进行编码再传给服务器）网络请求中的数据传递，这些是看文件的类型以及文件的大小一类的东，想看文件内部信息 要使用fileReader。<br></p>
<p><strong>fileReader对象</strong><br><img src="/2018/10/11/html5_3/1539151875(1).jpg"><br>注:New出来的东西就是一个对象，这个对象就是用来读取文件的api,负责把文件读入内存，并且读取文件中的数据。<br>1、读取并显示文件<br>    readAsText()将文件中的数据 读取为文本数据 （读取文件时候需要一段时间，所以.result的时候没有东西出来，所以需要相应的事件把结果取出。）<br>    readAsBinaryString()读取为二进制字符串<br>    readAsDataURL()读取为DataURL字符串(读取图片)<br>    readAsArrayBuffer()读取为一个ArrayBuffer对象<br>    abort()中断读取操作</p>
<p>2、检测读取事件<br>    onabort：数据读取中断时触发(.about() 终止读取事件）<br>    onprogress: 数据读取中触发<br>    onerror: 数据读取出错时触发<br>    onload：数据读取完成时触发<br>    onloadstart: 数据开始读取时触发<br>    onloadend: 数据读取完成时触发，无论成功还是失败</p>
<p><strong>Blob对象</strong></p>
<p>注：可以存储一个不可变的原始数据的类文件，可以传string，arraybuffer，file就继承了blob对象上的东西，比如type类型和size<br>1、blob对象的访问<br>2、blob对象的创建<br>3、截取blob对象   blob.slice(0,2)（File也是继承了blob方法  所以其也有slice方法）。</p>
<h2 id="二-优化WEB动画"><a href="#二-优化WEB动画" class="headerlink" title="二.优化WEB动画"></a>二.优化WEB动画</h2><p>主要是针对setInterval和setTimeout存在的问题</p>
<p>1.setInterval每隔多久执行一次</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oWrapper=<span class="built_in">document</span>.getElementsByClassName(<span class="string">"wrapper"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> w = oWrapper.offsetLeft;</span><br><span class="line"><span class="keyword">var</span> timer = setInterval(move,<span class="number">200</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(w&lt;<span class="number">500</span>)&#123;</span><br><span class="line">        w +=<span class="number">10</span>;</span><br><span class="line">        oWrapper.style.left = w + <span class="string">"px"</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        clearInterval(timer);</span><br><span class="line">        oWrapper.style.left =<span class="number">500</span> + <span class="string">"px"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//注：这里通过改变left的值实现动画，所以要在css中设置position：absolute； left：0；才能实现动画。</span></span><br></pre></td></tr></table></figure>
<p>2.setTimeout 多久之后执行一次（一次性计时器）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oWrapper=<span class="built_in">document</span>.getElementsByClassName(<span class="string">"wrapper"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> w = oWrapper.offsetLeft;</span><br><span class="line">    <span class="keyword">if</span>(w&lt;<span class="number">500</span>)&#123;</span><br><span class="line">        oWrapper.style.left = w + <span class="number">10</span> + <span class="string">"px"</span>;</span><br><span class="line">        setTimeout(move,<span class="number">200</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        oWrapper.style.left =<span class="number">500</span> + <span class="string">"px"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">move();</span><br><span class="line"><span class="comment">//setTimeout()不需要清除，且其必须要执行一下move（）才能运行。</span></span><br></pre></td></tr></table></figure>
<p><strong>计时器做动画存在的问题</strong><br>1.当前窗口不在动画页面的时候，计时器仍将继续工作（占用cpu）；<br>2.回调函数好使，造成排队。<br>比如一个计时器设置每隔100ms执行一次动画，但动画执行完需要200ms，那么下一个动画又要开启的时候，会使这些堆积到一起，浏览器会崩溃，且时间也准了。</p>
<p>3.设置动画频率高，造成过度绘制，出现掉帧，浏览器屏幕刷新频率 1000/60 = 16.7ms<br><img src="/2018/10/11/html5_3/1.png"></p>
<p>假如设置10ms执行一次动画。<br>当到10ms的时候，屏幕还没刷新，位置不会有变化。<br>在20ms的时候，屏幕在16.7ms的时候刷新了，但位置时在10ms执行的那个位置。<br>在30ms的时候，屏幕没有刷新，所以位置还是在10ms那个位置。<br>直到33ms左右的时候，屏幕刷新了，位置突然就到了30ms的相应的位置。也就是瞬间移动。这就造成了掉帧的现象。</p>
<p><strong>requestAnimationFrame优势</strong><br>1、当前窗口不在动画页面时，停止工作<br>2、浏览器刷新屏幕时自动执行，无需设置时间间隔<br>3、浏览器优化<br><strong>requestAnimationFrame使用</strong><br>1、req = requestAnimationFrame(cb);屏幕每次绘制时执行回调函数cb<br>2、cancelAnimationFrame(req);</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oWrapper=<span class="built_in">document</span>.getElementsByClassName(<span class="string">"wrapper"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> req;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> w = oWrapper.offsetLeft;</span><br><span class="line">    <span class="keyword">if</span>(w&lt;<span class="number">1000</span>)&#123;</span><br><span class="line">        oWrapper.style.left = w + <span class="number">1</span> + <span class="string">"px"</span>;</span><br><span class="line">        req = requestAnimationFrame(move);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        oWrapper.style.left = <span class="number">1000</span> + <span class="string">"px"</span>;</span><br><span class="line">        <span class="comment">// cancelAnimationFrame(req);</span></span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line">oWrapper.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    cancelAnimationFrame(req);</span><br><span class="line">&#125;;</span><br><span class="line">move();</span><br></pre></td></tr></table></figure>
<p><strong>requestAnimationFrame兼容</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//兼容性问题</span></span><br><span class="line"><span class="built_in">window</span>.requestAnimationFrame = (<span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">window</span>.requestAnimationFrame||</span><br><span class="line">        <span class="built_in">window</span>.webkitRequestAnimationFrame||</span><br><span class="line">        <span class="built_in">window</span>.mozRequestAnimationFrame||</span><br><span class="line">        <span class="built_in">window</span>.oRequestAnimationFrame||</span><br><span class="line">        <span class="built_in">window</span>. msRequestAnimationFrame||</span><br><span class="line">        <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            timer = <span class="built_in">window</span>.setTimeout(callback,<span class="number">1000</span>/<span class="number">60</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">window</span>.cancelAnimationFrame = (<span class="function"><span class="keyword">function</span>(<span class="params">timer</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">window</span>.CancelAnimationFrame||</span><br><span class="line">        <span class="built_in">window</span>.webkitCancelAnimationFrame||</span><br><span class="line">        <span class="built_in">window</span>.mozCancelAnimationFrame||</span><br><span class="line">        <span class="built_in">window</span>.oCancelAnimationFrame||</span><br><span class="line">        <span class="built_in">window</span>. msCancelAnimationFrame||</span><br><span class="line">        <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            timer = <span class="built_in">window</span>.clearTimeout(callback,<span class="number">1000</span>/<span class="number">60</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<h2 id="三-Geolocation地理位置信息"><a href="#三-Geolocation地理位置信息" class="headerlink" title="三.Geolocation地理位置信息"></a>三.Geolocation地理位置信息</h2><p><strong>1、window.navigator.geolocation对象返回经纬坐标等元数据信息</strong></p>
<p>打印出navigator.geolocation会有三个对象<br><img src="/2018/10/11/html5_3/3.jpg"></p>
<p> 想调用方法必须要向里面传参数。<br>例如：navigator.geolocation.getCurrentPosition(suc,err);</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">suc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(“suc”);<span class="comment">//成功之后，会有个position对象，里面有两个属性，</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">err</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(“err”)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行后浏览器会调用底层的接口，弹出一个弹框。由于谷歌浏览器的数据是在谷歌服务器下的。所以获取不到数据。(需要翻墙)<br>使用ie浏览器看，频繁刷新，有时候报成功，有时候是错误，根据浏览器决定，HTML5只是编写了geolocation这个API，API没有办法决定底层能否拿到数据（电脑设备返回）。 </p>
<p><strong>2、获取当前地理位置</strong><br><img src="/2018/10/11/html5_3/1539160085(1).jpg"></p>
<p>上图就是position对象里面的一些属性。经度纬度以及精准度等</p>
<p>  navigator.geolocation.getCurrentPosition(suc, err, obj);</p>
<p><strong><em>参数1：suc成功回调，有参数option，属性如下：</em></strong></p>
<p>  accuracy:经纬度的精度</p>
<p>  altitude:null海拔</p>
<p>  altitudeAccuracy:null海拔的精度</p>
<p>  heading:null设备前进方向</p>
<p>  latitude:34.0653347纬度</p>
<p>  longitude:-118.24389099999999经度</p>
<p>  speed:null设备前进速度</p>
<p>  timestamp: 获取地理位置信息的时间</p>
<p>  <strong><em>参数2：err失败回调，有参数error对象，属性如下：</em></strong></p>
<pre><code>code属性：
  1 用户拒绝了位置服务

     2 获取不到位置信息

    3 获取信息超时（timeout不能随便写）

message属性：错误信息字符串
</code></pre><p><strong><em>参数3：obj 可选参数</em></strong></p>
<pre><code> enableHighAccuracy：是否要求高精度的地理位置信息
 timeout: 超时限制
maximumAge: 缓存有效时间，若为0则无条件重新获取新地理信息
</code></pre><p><strong>3、监事位置信息</strong><br>    var id = navigator.geolocation.watchPosition(suc, err, obj);<br>     getCurrentPosition 是获取一次）这个是定期持续自动的（也没有一个固定的时    间，大概几秒一次）<br>    持续定期的自动获取用户的当前地理位置信息，并同计时器一样有个位置标识。</p>
<p><strong>4、停止获取位置信息</strong><br>       navigator.geolocation.clearWatch(id);</p>
<h2 id="四-Worker多线程处理"><a href="#四-Worker多线程处理" class="headerlink" title="四.Worker多线程处理"></a>四.Worker多线程处理</h2><p><strong>注意</strong>：<br>Js单线程，响应用户的dom操作，如果是多线程的话，dom操作同时进行了，给用户展现的就混乱了，所以必须等用户操作完成dom后，再去操作下一个。.不能把dom操作执行成多线程的。（如果是多线程的dom元素设置一个显示，一个隐藏，最终听谁的呢？）Worker不能去获取dom（避免混乱），第三方,和主线程不一样。</p>
<p><strong>1.使用场景</strong></p>
<p>大型数据运算、计时器、异步请求、访问navigator部分属性、js核心对象</p>
<p><strong>2.使用Worker</strong><br><img src="/2018/10/11/html5_3/1539164838(1).jpg"></p>
<p>参数worker.js是子线程的文件，通过调用postMessage()方法将10传给worker的子线程中，在子线程onmessage用来接收数据，进行大量的计算（这个过程中不影响主线程的进度，什么时候），计算完成后会通过postMessage()返回给主线程。同时会响应onmessage事件，在这事件中可以把数据取出来。</p>
<p>注意：不支持本地文件，只支持网络文件。</p>
<p><strong>3.结束worker</strong></p>
<p>(1).close() 在worker文件中使用（子线程自己提出的断开）</p>
<p>(2).terminate() 在worker对象上调用（worker.terminate）</p>
<p><strong>4.局限性</strong></p>
<p>(1).不能跨域加载（所以我放到了服务器下）</p>
<p>(2).worker文件不能访问DOM</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/11/html5_3/" data-id="cjshkatxk000umgggobzhqcjc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-html5_2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/01/html5_2/" class="article-date">
  <time datetime="2018-10-01T08:28:39.000Z" itemprop="datePublished">2018-10-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/HTML5/">HTML5</a>►<a class="article-category-link" href="/categories/HTML5/HTML5知识总结2/">HTML5知识总结2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/01/html5_2/">HTML5笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="canvas知识点笔记"><a href="#canvas知识点笔记" class="headerlink" title="canvas知识点笔记"></a>canvas知识点笔记</h2><h4 id="1-对canvas中设定的width以及css设定的width的理解"><a href="#1-对canvas中设定的width以及css设定的width的理解" class="headerlink" title="1.对canvas中设定的width以及css设定的width的理解"></a>1.对canvas中设定的width以及css设定的width的理解</h4><p><style><br>        canvas{<br>            border: 1px solid red;<br>            width: 200px;<br>            height: 200px;<br>        }<br></style></p>
<canvas width="400" height="400"></canvas>



<p>这个属性和在css3中的属性不一样，这个属性相当于元素属性</p>
<p>可以直接获取id后  id.width获取宽度   但如果想获取css中的话 需要 id.offsetWidth</p>
<p>200px代表的是dom元素是多少像素，而400代表的是画布的宽是多少高是多少，但是单位不是像素</p>
<p>canvas 中的400代表画布的宽和高，它没有单位，是相对的单位。</p>
<p>相当于在宽度为200px像素里面 canvas的宽度是400。</p>
<p>同时有的话以css中的为准，没有css的就会以画布中的400默认为400px；</p>
<p>var mycanvas = document.getElementById(“mycanvas”);</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(mycanvas.offsetWidth);（css中的宽度）</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(mycanvas.width);（canvas的宽度）</span><br></pre></td></tr></table></figure>
<p>var ctx = myCanvas.getContent(“2d”);//相当于画笔</p>
<p>方法：moveTo();</p>
<h4 id="2-js中获取canvas"><a href="#2-js中获取canvas" class="headerlink" title="2.js中获取canvas"></a>2.js中获取canvas</h4><p><code>var canvas = document.getElementsByTagName(&#39;canvas&#39;)[0];</code><br><code>var ctx = canvas.getContext(&#39;2d’);</code><br><code>注意：Canvas 获取绘画上下文的 api 是 getContext(&quot;2d&quot;)。</code></p>
<h4 id="3-如何绘制图形"><a href="#3-如何绘制图形" class="headerlink" title="3.如何绘制图形"></a>3.如何绘制图形</h4><p>1、直线<br>moveTo(x, y):画笔挪到(x, y)点<br>lineTo(x, y):画笔划线划到(x, y)点<br>例：moveTo(100,100)<br>   lineTo(200, 100)  rec（100,100,200,200）前两个是坐标，第三个是宽，第四个是高。<br>要使用 stroke()渲染才能画出来<br>2、样式<br>stroke()描边画  （fill是填充渲染）<br>lineWidth = 20;设置线宽<br>strokeStyle = ‘red’线的颜色<br>closePath()闭合路径（可以解决缺口问题）<br>fill()填充画<br>fillStyle = ‘red’;填充颜色<br>注意：如果使用strokeStyle绘制了一个图形，想另外再绘制一个，一定要开辟新路径，因为都是子路径，后面的东西会把前面的颜色给覆盖掉。<br>3、fill和stroke方法都是作用在当前的所有子路径<br>若想开辟新的路径，需要使用beginPath()方法。<br>在绘制新路径之前使用beginPath()<br>4、矩形<br>rect(x, y, w, h);<br>strokeRect(x, y, w, h);（描边画一个矩形）<br>fillRect( x, y, w, h);<br>例如：<br>.strokeStyle=“red”;颜色为红色<br>.strokeRect(100, 100, 100, 200);<br>.fillStyle=“green”；颜色为绿色<br>.fillRect( x, y, w, h);（两个都是另外开辟新的路径，不对其他路径有影响）<br>5、圆形（圆弧）<br>Arc(x, y, r, sAngle, eAngle, c);<br>.arc（200,200,100,0，Math.PI<em>2);//画整个圆，以顺时针方向<br>.arc（200,200,100,0，Math.PI</em>0.5);//四分之一个圆<br>.arc（200,200,100,0，Math.PI*0.5,true);//默认情况下是false，后面的true代表顺时针，false代表逆时针<br>直线边可以直接使用moveTo  lineTo  closePath来画<br>6、曲线：两条切线之间的弧或者曲线<br>arcTo(x1, y1, x2, y2, r);<br>7、二次方、三次方曲线方程<br>quadraticCurveTo(cpx, cpy,x, y);<br>bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x,y);</p>
<h4 id="4-设置图形的样式"><a href="#4-设置图形的样式" class="headerlink" title="4.设置图形的样式"></a>4.设置图形的样式</h4><p>1、线样式<br>lineWidth: 线条宽度<br>lineCap:  线两头样式 butt/square/round<br> 例如：.lineCap =‘square’<br>lineJoin: 两线拐角处 miter/round/bevel<br>miterLimit: 绘制交点的方式<br>2、渐变：<br>createLinearGradient(x1, y1, x2, y2); 线性渐变</p>
<p><canvas id="mycavas" width="400" height="400"></canvas><br>例如：<br>var myCavas = document.getElementById(“mycavas”);<br>// console.log(myCavas.offsetWidth);<br>// console.log(myCavas.width);<br>var ctx = myCavas.getContext(“2d”);<br>var bg = ctx.createLinearGradient(100,100,300,300);//起始位置到结束位置<br>bg.addColorStop(0,‘red’);//起始颜色<br>bg.addColorStop(0.5,‘green’);//中间颜色<br>bg.addColorStop(1,’pink’);<br>ctx.fillStyle = bg;//改变成上述设置的颜色<br>ctx.fillRect(0,0,300,300);//填充画图<br>createRadialGradient(x1, y1, r1, x2, y2, r2); 径向渐变。<br>注：transparent透明色<br>3、绘制图案<br>createPattern(img, ‘repeat|repeat-x|repeat-y|no-repeat’);<br>img:图片、画布、视频元素</p>
<p>注意：等资源加载完</p>
<h4 id="5-操作图形"><a href="#5-操作图形" class="headerlink" title="5.操作图形"></a>5.操作图形</h4><p>1、translate(dx, dy)   重新映射画布上的 (0,0) 位置（平移）<br>2、scale(sx, sy)   缩放当前绘图<br>3、rotate(Math.PI)   旋转当前的绘图</p>
<p>注意：以上三个是把整体画布改变，要注意前后顺序，先平移后画图和先画图后平移是不一样的。<br>4、save() restore()  保存当前图像状态的一份拷贝，栈中弹出存储的图形状态并恢复<br>5、setTransform(a, b, c, d, e, f) 变换矩阵，先重置再变换<br>​      参数：水平缩放、水平倾斜、垂直倾斜、垂直缩放、水平移动、垂直移动<br>6、transform(a, b, c, d, e, f) 在之前的基础上变换<br>7、clearRect(x, y, dx, dy); 擦除当前区域<br>8、globalCompositeOperation  组合图形<br>ctx.globalCompositeOperation = ‘source-over’ ;</p>
<h4 id="6-绘制图像"><a href="#6-绘制图像" class="headerlink" title="6.绘制图像"></a>6.绘制图像</h4><p>1、 drawImage导入图片drawImage(image, x, y); 在画布上定位图像<br>drawImage(image, x, y, width, height); 在画布上定位图像,并规定图像的宽度和高度<br>drawImage(image, sx, sy, swidth, sheight, x, y, width, height); 剪切图像，并在画布上定位被剪切的部分<br>2、getImageData(x, y, dx, dy) // 同源策略<br>每四个是一组<br>3、createImageData(w, h) 创建新的空白 ImageData 对象<br>4、putImageData(imgData, x, y)  将图像数据放回画布上</p>
<h4 id="7-抽取canvas为图片"><a href="#7-抽取canvas为图片" class="headerlink" title="7.抽取canvas为图片"></a>7.抽取canvas为图片</h4><p>canvas.toDataURL() ; 将canvas的内容抽取成⼀张图片, base64编码格式（抽取整个canvas  toDataURL() 是canvas dom元素方法，不是canvas api方法）<br>注：同源策略的限制，要开启服务器，在www目录下打开<br>将canvas的内容放入img元素里</p>
<h4 id="8-模糊问题"><a href="#8-模糊问题" class="headerlink" title="8.模糊问题"></a>8.模糊问题</h4><p>1、位图像素放大会失真，canvas为位图像素。<br>2、canvas 绘图时，会从两个物理像素的中间位置开始绘制并向两边扩散 0.5 个物理像素。由于不存在 0.5 个像素，两边都取了1个像素，视觉上就造成了模糊。<br>解决方案：放大再缩小展示</p>
<h2 id="SVG知识点笔记"><a href="#SVG知识点笔记" class="headerlink" title="SVG知识点笔记"></a>SVG知识点笔记</h2><h4 id="1-svg的使用"><a href="#1-svg的使用" class="headerlink" title="1.svg的使用"></a>1.svg的使用</h4><p>Html中的应用<svg xmlns="http://www.w3.org/2000/svg" version="1.1">有闭合</svg></p>
<p>Js:<br>​    var char = “<a href="http://www.w3.org/2000/svg&quot;" target="_blank" rel="noopener">http://www.w3.org/2000/svg&quot;</a>;<br>​    var svg = document. createElementNS(char, ‘svg’);</p>
<p>注：SVG元素对象一般通过调用setAttribute()方法来设定属性值</p>
<h4 id="2-基础元素"><a href="#2-基础元素" class="headerlink" title="2.基础元素"></a>2.基础元素</h4><p>1、直线<br>​    <line x1="100" y1="100" x2="200" y2="100"></line>（属性不能随便写）<br>2、矩形<br>​    &lt;rect x=”100” y=”100” width=”100” height=”100” rx=”20”ry=”50”&gt;（rx水平位置的圆角，ry垂直位置的圆角）<br>3、圆形<br>​    <circle cx="100" cy="100" r="50"></circle>（中心点和半径）<br>​    <circle cx="100" cy="100" r="50" fill="red"></circle>红色的圆</p>
<p>4、椭圆<ellipse rx="100" ry="50" cx="250" cy="250"></ellipse>Stroke-width:10px；可以写像素，我控制的就是单独的一个像素。5、多边形&lt;polygon points=”100 100, 70 150, 130 150”</p>
<p>6、折线<polyline points="0 100, 100 35, 200 150, 300 75, 400 150, 500 20"></polyline></p>
<p>7、字体（会默认填充的）<br>​    <text x="300" y="300">蝉壳</text></p>
<h4 id="3-基础样式"><a href="#3-基础样式" class="headerlink" title="3.基础样式"></a>3.基础样式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1、fill: transparent;</span><br><span class="line">2、stroke: red;</span><br><span class="line">3、stroke-width: 10px;</span><br><span class="line">4、stroke-opacity/fill-opacity: 0.5;</span><br><span class="line">5、stroke-linecap: butt/round/square;</span><br><span class="line">6、stroke-linejoin:bevel/round/miter;（交点处的样式）</span><br></pre></td></tr></table></figure>
<h4 id="4-重要元素：路径"><a href="#4-重要元素：路径" class="headerlink" title="4.重要元素：路径"></a>4.重要元素：路径</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;path&gt;元素可以定义一个路径，属性说明如下：</span><br><span class="line">d: 定义路径指令:</span><br><span class="line">例如：&lt;path d=“M 100 100 L 400 100,400 400,100 400”&gt;&lt;/path&gt;</span><br><span class="line">M = moveto 移动到</span><br><span class="line">L = lineto 画线到</span><br><span class="line">H = horizontal lineto 水平线到</span><br><span class="line">V = vertical lineto 垂直线到</span><br><span class="line">C = curveto三次贝塞尔曲线到</span><br><span class="line">S = smooth curveto光滑三次贝塞尔曲线到</span><br><span class="line">Q = quadratic Bezier curve二次贝塞尔曲线到</span><br><span class="line">T = somooth quadratic Bezier curve 光滑二次贝塞尔曲线到</span><br><span class="line">A = elliptical Arc 椭圆弧</span><br><span class="line">&lt;path d=“M 100 100 L 70 120 0 1 1 150 200” stroke=&quot;orange&quot; stroke-width=&quot;3&quot; fill=&quot;none&quot;&gt;&lt;/path&gt;	</span><br><span class="line">注释：M 100 100是起始点  A 70（x轴半径）120（y轴半径）0(旋转角度) 1(取大圆)1(顺时针)</span><br><span class="line">Z = closepath关闭路径（z不区分大小）</span><br><span class="line">注：以上所有命令均允许小写，大写表示绝对定位，小写表示相对定位</span><br></pre></td></tr></table></figure>
<h4 id="5-路径属相"><a href="#5-路径属相" class="headerlink" title="5.路径属相"></a>5.路径属相</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、stroke-dasharray: 100px;（画多少空多少）</span><br><span class="line">stroke-dasharray: 20px 30px;  画20 空30</span><br><span class="line">stroke-dasharray: 20px 30px 40px;  画20 空30 画40 空20 画30 空40</span><br><span class="line">2、stroke-dashoffset: 15px;（向里面缩）</span><br><span class="line">注：getTotalLength获取路径长度（如果是一个圆呢，无法直接知道长度，无法判断什么时候停止）</span><br><span class="line">只支持path元素，不支持line元素，所以最好使用path来写。</span><br><span class="line">可以画很长，然后把那些缩进去，只展示部分，如果往回缩的话，就不能画太长。</span><br></pre></td></tr></table></figure>
<h4 id="6-渐变"><a href="#6-渐变" class="headerlink" title="6.渐变"></a>6.渐变</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1.线性渐变</span><br><span class="line">&lt;defs&gt;</span><br><span class="line">    &lt;linearGradient id=&quot;bg1&quot; x1=&quot;0&quot; y1=&quot;0&quot; x2=&quot;0&quot; y2=&quot;100%&quot;&gt;</span><br><span class="line">        &lt;stop offset=&quot;0%&quot; style=&quot;stop-color:rgb(255,255,0);&quot;/&gt;</span><br><span class="line">        &lt;stop offset=&quot;100%&quot; style=&quot;stop-color:rgb(255,0,0);&quot;/&gt;</span><br><span class="line">    &lt;/linearGradient&gt;</span><br><span class="line">&lt;/defs&gt;</span><br><span class="line">&lt;rect x=“0” y=“0” width=“500” height=“500” style=“fill:url(#bg1)”/&gt;（渐变写在了行间）</span><br><span class="line">2.径向渐变</span><br><span class="line">&lt;defs&gt;</span><br><span class="line">    &lt;radialGradient id=&quot;bg2&quot; cx=&quot;50%&quot; cy=&quot;50%&quot; r=&quot;50%&quot; fx=&quot;50%&quot; fy=&quot;50%&quot;&gt;</span><br><span class="line">        &lt;stop offset=&quot;0%&quot; style=&quot;stop-color:green;&quot;/&gt;</span><br><span class="line">        &lt;stop offset=&quot;100%&quot; style=&quot;stop-color:red;&quot;/&gt;</span><br><span class="line">    &lt;/radialGradient&gt;</span><br><span class="line">&lt;/defs&gt;</span><br></pre></td></tr></table></figure>
<h4 id="7-viewbox"><a href="#7-viewbox" class="headerlink" title="7.viewbox"></a>7.viewbox</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1、viewBox属性</span><br><span class="line">&lt;svg width=&quot;400&quot; height=&quot;300&quot; viewBox=&quot;0,0,40,30&quot; style=&quot;border:1px solid #cd0000;&quot;&gt;</span><br><span class="line">    &lt;rect x=&quot;10&quot; y=&quot;5&quot; width=&quot;20&quot; height=&quot;15&quot; fill=&quot;#cd0000&quot;/&gt;</span><br><span class="line">&lt;/svg&gt;</span><br><span class="line">viewBox=“0,0,40,30”如果存在的话，那么里面的元素就会以这个单位为准。</span><br><span class="line">宽40 高30</span><br><span class="line">2、preserveAspectRatio(作用的对象都是viewBox) </span><br><span class="line">	Svg 一定会按比例放置，默认情况下是居中的</span><br><span class="line">preserveAspectRatio=“xMidYMid meet”</span><br><span class="line">参数1：viewBox在svg中对齐方式</span><br><span class="line">参数2：高宽比</span><br><span class="line">meet:保持纵横比缩放viewBox适应viewport</span><br><span class="line">slice:保持纵横比同时比例小的方向放大填满viewport</span><br><span class="line">(在均匀缩放的同时保持viewbox的宽高比)</span><br><span class="line">none: 不保持自己的宽高，扭曲纵横比以充分适应viewport</span><br></pre></td></tr></table></figure>
<h2 id="Drag-Drop拖放知识点笔记"><a href="#Drag-Drop拖放知识点笔记" class="headerlink" title="Drag Drop拖放知识点笔记"></a>Drag Drop拖放知识点笔记</h2><p>一组API简化了鼠标操作</p>
<h4 id="1-拖放API基础"><a href="#1-拖放API基础" class="headerlink" title="1.拖放API基础"></a>1.拖放API基础</h4><p>1、dragstart 被拖放元素 开始被拖拽时触发<br>2、drag 被拖放元素 在拖拽的过程中触发<br>3、dragend 被拖放元素 拖拽完成时<br>​    以上三个事件是绑定在被拖拽元素上的，给被拖拽元素draggable=“true” 才可以有拖拽的效果。<br>4.dragenter 目标元素 拖放元素进入目标元素时<br>​    会以鼠标的位置为准<br>5、dragover 目标元素 拖放元素在目标元素上时<br>6、dragleave 目标元素 拖放元素在目标元素上离开<br>7、drop 目标元素 被拖放的元素在目标元素上同时鼠标放开触发的事件<br>​    注：需要阻止dragover的默认行为才会触发drop事件 （ 一般都监听drop很少监听leave事件）</p>
<h4 id="2-DataTransfer对象"><a href="#2-DataTransfer对象" class="headerlink" title="2.DataTransfer对象"></a>2.DataTransfer对象</h4><p>1、getData()从DataTransfer对象中读取数据   鼠标在目标区域松开的时候，取数据<br>2、setData()向DataTransfer对象中存放数据   当鼠标按下，元素被拖拽的时候</p>
<h2 id="刮刮乐视频学习笔记"><a href="#刮刮乐视频学习笔记" class="headerlink" title="刮刮乐视频学习笔记"></a>刮刮乐视频学习笔记</h2><p>1.使用把图片放在canvas中去？</p>
<p>绘制图案     createPattern(img, ‘repeat|repeat-x|repeat-y|no-repeat’);  img:图片、画布、视频元素</p>
<p>注意：等资源加载完</p>
<p>2.获取canvas的宽度时，是获取offsetWidth还是获取width？width</p>
<p>offsetWidth 是获取的在css中设置的只是表示在页面中展示的是多大而已。</p>
<p>在画图的时候，看的是画布的宽度。</p>
<p>3.擦出区域采用的是采用的是新旧像素合并的方法   globalCompositeOperation = ‘destination-out’ 组合图形</p>
<p>这种方法 新像素会把之前所有的像素删除。只要是在画布上画的都会删除。</p>
<p>所以上述第一步的图片引入是不可取的，我们采用背景图片的形式引入图片。</p>
<p>4.需要等背景图片加载完，如果是直接给了背景图片，那样就无法等待图片加载完。</p>
<p>所以先new一个Image  ，给图片添加src ，只要给图片添加了src属性就会发送请求这张图片，之后便可以去判断是否请求成功。img.onload</p>
<p>5.鼠标按下可以在canvas上移动删除，鼠标抬起就不能继续删除。给canvas绑定事件。</p>
<p>6.鼠标抬起的时间不能在外面写（全局），不管在什么位置只要抬起鼠标都会取消移动事件。</p>
<p>7.判断擦出的区域，当鼠标抬起时进行判断，如果放在移动的函数里面，会执行很多次判断，所以每次在鼠标抬起进行判断。只需要判断每个像素点是不是透明的。</p>
<p>8.断点，用为mousemove移动的太快，不够灵敏导致的。所以考虑把当前端点和上一个端点连接在一起，就可以实现其经过的路被擦除。</p>
<h2 id="做刮刮乐出现的相关问题"><a href="#做刮刮乐出现的相关问题" class="headerlink" title="做刮刮乐出现的相关问题"></a>做刮刮乐出现的相关问题</h2><h3 id="问题一："><a href="#问题一：" class="headerlink" title="问题一："></a>问题一：</h3><p>在css中引用image时候：需要退出当前css文件，例如background-image: url(“../images/2.jpg”);</p>
<p>当我在js中去改变背景的时候  是相对于html 因为你这个元素在HTML中，所以是</p>
<p> myCanvas.style.backgroundImage = “url(images/1.jpg)”;                       </p>
<h3 id="问题二："><a href="#问题二：" class="headerlink" title="问题二："></a>问题二：</h3><p>当鼠标在canvas区域按下的时候就应该有个小圆出现。在鼠标按下后，鼠标移动也是在画圆，需要开辟新路径，且其鼠标的值也要重新更新。否则会出现下图<img src="F:./笔记图片\微信图片_20180927211509.png" alt></p>
<h3 id="问题三：答疑课程强调的"><a href="#问题三：答疑课程强调的" class="headerlink" title="问题三：答疑课程强调的"></a>问题三：答疑课程强调的</h3><p>鼠标抬起事件如果绑定在canvas上，那么如果鼠标在body中抬起了鼠标，无法触发mouseup事件，相应的就无法取消mouseover事件，那么当鼠标再次移动回到canvas的时候，就会继续mouseover事件。</p>
<p>另外，如果body固定宽度且设置太小的话，那么我移出了body区域的时候松开鼠标，也是不会触发mouseup事件，相应的也无法取消mouseover事件。</p>
<h2 id="SVG动画制作相关问题"><a href="#SVG动画制作相关问题" class="headerlink" title="SVG动画制作相关问题"></a>SVG动画制作相关问题</h2><h3 id="问题一"><a href="#问题一" class="headerlink" title="问题一"></a>问题一</h3><p><img src=".\笔记图片\svg图.jpg" alt></p>
<h4 id="使用animate标签"><a href="#使用animate标签" class="headerlink" title="使用animate标签"></a>使用animate标签</h4><animate attributename="opacity" from="0" to="1" begin="0s" dur="0.6s" repeatcount="indefinite"></animate>

<p> repeatCount=“indefinite“ 表示这个动画会一直执行</p>
<p>attributeName  动画的属性是什么  向右走动画的是x坐标  from从什么地方到to什么地方  begin开始时间  dur运动总时长   </p>
<p>1.第四个图画，不仅要改变height还要改变y的值，观察黄色图案距离上端的距离为黑盒子的一半减去黄盒子的一半，得到y初始位置</p>
<p>第二图   里面的黄盒子要运动到的y值为0；</p>
<p>所以其反复运动的范围为 values1=（7；0；7）</p>
<p>2.另一个问题就是其高度问题</p>
<p>起初高度设置为6，再观察黄色盒子最大为充满黑色盒子20  所以最大为20 再到7  values=（6；20；6）</p>
<h2 id="拖拽删除案例时遇到的问题"><a href="#拖拽删除案例时遇到的问题" class="headerlink" title="拖拽删除案例时遇到的问题"></a>拖拽删除案例时遇到的问题</h2><h3 id="问题一：-1"><a href="#问题一：-1" class="headerlink" title="问题一："></a>问题一：</h3><p>var drag = document.getElementsByClassName(“drag”)[0];<br>​        var dragLi = drag.getElementsByTagName(“li”);<br>​        var target = document.getElementsByClassName(“target”)[0];<br>​        for(var i = 0; i &lt; dragLi.length; i++){<br>​            console.log(i);<br>​            dragLi[i].addEventListener(“dragstart”,function(e){<br>​                var dt = e.dataTransfer;<br>​                dt.setData(“name”,this.className);<br>​                console.log(“hh”);<br>​            });<br>​        }<br>​       target.addEventListener(“dragover”,function(e){<br>​           e.preventDefault();<br>​       });</p>
<p>其中在dt.setData(“name”,this.className);  出了问题，我其实也不太明白是啥原因</p>
<p>起初我使用的是dt.setData(“name”,dragLi[i].className);出错，console.log(dragLi[i].className)也是说没有这个className属性  </p>
<p>原因：在for循环的时候，我还没有去触发事件所以里面的函数不会执行，当去执行函数的时候，for循环已经结束，且此时的i=5已经大于li的索引值，所以即使我去使用dragLi[i].className也是没有对应的第六个值给我取。</p>
<p>当我使用this.className时候，this直接指向的是调用函数的那个对象。</p>
<p>解决方法：在for循环中使用立即执行函数(function(){})(i);  </p>
<p>立即函数每次传的都是最初的索引值，固定了的，不能及时更新。所以每次在插入元素之前要重新遍历一下。</p>
<h2 id="问题二：-1"><a href="#问题二：-1" class="headerlink" title="问题二："></a>问题二：</h2><p>在使用封装函数的时候，必须调用才可以执行。</p>
<p> function bindEvent(){<br>​            for(var i = 0; i &lt; dragLi.length; i++){<br>​                (function(j){<br>​                    dragLi[j].addEventListener(“dragstart”,function(e){<br>​                            var dt = e.dataTransfer;<br>​                            dt.setData(“index”, j);<br>​                         });<br>​                    })(i);<br>​              }<br>​    }</p>
<p>bindEvent();</p>
<h2 id="问题三"><a href="#问题三" class="headerlink" title="问题三"></a>问题三</h2><p>实现功能：在移动li的时候，使被拖动的li移动到目标li之前</p>
<p>逻辑思路：被拖动的是li，目标也是li，难点在如何把当前拖动的li放在目标li之前</p>
<p>使用insertBefore(this,li);每次移动li的index都需要更新一下，所以不能使用立即函数。</p>
<p>每次执行前先遍历一次li，相当于更新一下index</p>
<p>function finIndex(dom,list){<br>​            for(var i = 0; i &lt; dragLi.length; i++){<br>​                    if(dragLi[i]==dom){<br>​                            return i;<br>​                    }<br>​            }<br>  }</p>
<p>此时在dragstart事件调用这个函数。</p>
<p>dragLi[i].addEventListener(“dragstart”,function(e){<br>​                    var dt = e.dataTransfer;<br>​                    var index = finIndex(this,dragLi);<br>​                    dt.setData(“data”, index);<br>});</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/01/html5_2/" data-id="cjshkau730019mggge8fgfqsl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-html5_1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/26/html5_1/" class="article-date">
  <time datetime="2018-09-26T08:28:39.000Z" itemprop="datePublished">2018-09-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/HTML5/">HTML5</a>►<a class="article-category-link" href="/categories/HTML5/HTML5知识总结1/">HTML5知识总结1</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/09/26/html5_1/">HTML5笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="HTML5基础"><a href="#HTML5基础" class="headerlink" title="HTML5基础"></a>HTML5基础</h2><h5 id="标准模式和怪异模式"><a href="#标准模式和怪异模式" class="headerlink" title="标准模式和怪异模式"></a>标准模式和怪异模式</h5><p>如何验证：</p>
<p>document.compatMode</p>
<p>BackCompat 表示怪异模式</p>
<p>CSS1Compat 表示标准模式</p>
<p>如果是正确的写法，返回CSS1Compat表示是标准模式</p>
<p>如果DOCTYPE 写法不正确就返回  BackCompat  表示是怪异模式</p>
<p>不同模式下浏览器的解析不同，标准模式是按照规范来解析的。</p>
<p>怪异情况下，按照各个浏览器方式来解析的。</p>
<p>区别：</p>
<p>①标准盒模型(content不包含其他，所以盒子宽度=width+padding+border)和ie6混杂模式盒模型(content中包含padding和border,所以盒子宽度=width)</p>
<p>②table字体在标准模式下继承body, 怪异模式不继承body</p>
<p>③ie6以下版本中可以给span等行级元素这是宽高</p>
<p>④即使父级没有高度，也可以这是百分比高度</p>
<p>⑤ie6以下margin: 0 auto不能左右居中</p>
<p>⑥ie6以下图片的padding失效</p>
<h2 id="HTML5结构元素"><a href="#HTML5结构元素" class="headerlink" title="HTML5结构元素"></a>HTML5结构元素</h2><ul>
<li><p>header整个页面的头部，某块区域的标题、页眉。</p>
</li>
<li><p>footer文档或者某一块的底部、页脚</p>
</li>
<li><p>main主要内容区域</p>
</li>
<li><p>nav 导航链接部分</p>
</li>
<li><p>section 页面中一个内容区域</p>
</li>
<li><p>article 它代表一个独立的、完整的相关内容块。</p>
</li>
<li><p>aside元素表示一个页面的一部分， 它的内容跟这个页面的其它内容的关联性不强，或者是没有关联，单独存在。</p>
</li>
<li><p>figure 标签规定独立的流内容（图像、图表、照片、代码等等）</p>
</li>
</ul>
<h2 id="HTML5功能元素"><a href="#HTML5功能元素" class="headerlink" title="HTML5功能元素"></a>HTML5功能元素</h2><ul>
<li>video视频</li>
<li>audio音频</li>
<li>source资源</li>
<li>figcaption标签定义 figure元素的标题</li>
<li>canvas画布</li>
<li>progress进程</li>
</ul>
<h2 id="以下是在做播放器的时候遇到的相关问题"><a href="#以下是在做播放器的时候遇到的相关问题" class="headerlink" title="以下是在做播放器的时候遇到的相关问题"></a>以下是在做播放器的时候遇到的相关问题</h2><p>问题一：<br>function getcurrenttime (time){<br>   return minute = parseInt(time/60);//return后就不再执行下面的语句了<br>   console.log(minute);<br>   return sec = parseInt(time%60);<br>   console.log(sec);<br>}<br>getcurrenttime(300);<br>//应给把return去掉</p>
<h2 id="问题二："><a href="#问题二：" class="headerlink" title="问题二："></a>问题二：</h2><p>在设置进度条时 ,不知道在哪里设置计数器，应该在播放函数中调用<br>原因：没有找到根本的事件源。</p>
<h2 id="问题三："><a href="#问题三：" class="headerlink" title="问题三："></a>问题三：</h2><p>若是固定的值，最好在全局下获取，避免在函数中多次去获取。</p>
<p>若是固定的值，最好在全局下获取，避免在函数中多次去获取。</p>
<h2 id="问题四："><a href="#问题四：" class="headerlink" title="问题四："></a>问题四：</h2><p>function promove(){<br>var pw = oProActive.offsetWidth,<br>c = oAudio.currentTime;<br>console.log(c);<br>console.log(pw);<br>oProActive.style.width = c/duration<em>182+’px’;<br>oRadiobox.style.left = c/duration</em>182+’px’;<br>}</p>
<p>上述代码相关问题：为什么我只设置oProActive的宽度  无法使小圆点一起运动呢</p>
<p>另外一个问题：oProActive.style.width = c/duration*182+w+’px’;</p>
<p>原因：这里的w是oProActive.offesetWidth ，所以起初出现的错误是进度条总是特别快，呈一定倍数的增长</p>
<h2 id="问题五："><a href="#问题五：" class="headerlink" title="问题五："></a>问题五：</h2><p>在使用 var oboxleft = oProBox.getBoundingClientRect().left;</p>
<p>getBoundingClientRect  这是一个方法，我使用成了属性。</p>
<h2 id="问题六："><a href="#问题六：" class="headerlink" title="问题六："></a>问题六：</h2><p>在设置拖拽条件下的  当前时间 </p>
<p> var currtime=parseFloat((oProActive.style.width-8)/bgwidth*duration);<br>这里我使用的是oProActive.style.width  最终得到的currtime  返回的是NaN<br>但是在这里我输出console.log(oProActive.style.width);是有值的<br>那为什么不能直接用这个呢<br>可能的原因：在公式里面oProActive.style.width是一个后面加了“px”的字符串;</p>
<h2 id="问题七：在鼠标抬起对应的事件"><a href="#问题七：在鼠标抬起对应的事件" class="headerlink" title="问题七：在鼠标抬起对应的事件"></a>问题七：在鼠标抬起对应的事件</h2><p>我把鼠标抬起事件绑定给了oProBox.onmouseup  而不是body 。如果想使用另一个函数中的变量，必须将变量做个提升，类似于全局，都可以使用。</p>
<h2 id="问题八："><a href="#问题八：" class="headerlink" title="问题八："></a>问题八：</h2><p>document.body.onmouseup = function(){<br>            document.body.onmousemove = null;<br>            document.body.onmouseup = null;<br>            musicplay();<br>            oAudio.currentTime = currtime;<br>            oCurrentTime.innerHTML =getcurrenttime(currtime);<br>        }<br>在这里面的 musicplay();   我不知道加这个和不加这个区别在哪里？<br>我不加的时候  如果音乐在播放那么还是会自动播放  但是如果加了的话 即使我在不播放的情况下拖拽进度条，当鼠标抬起，音乐就会自动播放。</p>
<h2 id="答疑课程笔记"><a href="#答疑课程笔记" class="headerlink" title="答疑课程笔记"></a>答疑课程笔记</h2><h3 id="两列布局："><a href="#两列布局：" class="headerlink" title="两列布局："></a>两列布局：</h3><p>第一种方法：左边固定，右边自适应。左侧使用浮动 float：left； 右侧直接给margin-left:左边宽度；（如果在这里给inline-block是可以成行，但是不给宽度就会被内容撑开）</p>
<p>第二种方法：左侧给position:absolute; left:0;   右侧给position:absolute; left:左侧宽度值；right:0;（类似行级快元素，必须给宽度，但是给宽度又写死啦）</p>
<p>.classList.add(‘active’)给某个元素添加样式</p>
<p>.classList.remove(‘active’)给某个元素移除样式</p>
<p><img src="C:\Users\YUESHU~1\AppData\Local\Temp\1537886886542.png" alt></p>
<p>先把所有的active样式删除 ，再给被触发的那个添加这个样式</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/09/26/html5_1/" data-id="cjshkatp50001mgggikzvj0i0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/git使用总结/"> git使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/">CSS3</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结1/">CSS3知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结2/">CSS3知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结3/">CSS3知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/">ES6</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记1/">ES6基础知识笔记1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记2/">ES6基础知识笔记2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/">HTML5</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结1/">HTML5知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结2/">HTML5知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结3/">HTML5知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/">jQuery知识点笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结1/">jQuery知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结2/">jQuery知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结3/">jQuery知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/js/js进阶1/">js进阶1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/js进阶2/">js进阶2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/sass/">sass</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/this指向知识点总结/">this指向知识点总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack使用总结/">webpack使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/">网络知识点总结</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结1/"> 网络基础总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结2/"> 网络基础总结2</a></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/02/23/i/">i</a>
          </li>
        
          <li>
            <a href="/2019/01/20/sass语法总结/">sass语法总结笔记</a>
          </li>
        
          <li>
            <a href="/2019/01/15/git使用总结/">git使用总结</a>
          </li>
        
          <li>
            <a href="/2019/01/10/webpack工程化/">webpack使用总结</a>
          </li>
        
          <li>
            <a href="/2018/12/31/网络基础_1/">网络基础总结1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 罗此梅（老小孩）<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>