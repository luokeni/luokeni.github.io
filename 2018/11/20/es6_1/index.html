<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>ES6笔记1 | 此梅的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一 ES6简介二 let和const块级作用域2.1 作用域的理解12只要不是在function中声明的变量（var），就是全局变量。会污染全局变量 12345678      var x =1;        if(1)&amp;#123;            var x = 4;            console.log(x)        &amp;#125;else&amp;#123;">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6笔记1">
<meta property="og:url" content="https://luokeni.github.io/2018/11/20/es6_1/index.html">
<meta property="og:site_name" content="此梅的博客">
<meta property="og:description" content="一 ES6简介二 let和const块级作用域2.1 作用域的理解12只要不是在function中声明的变量（var），就是全局变量。会污染全局变量 12345678      var x =1;        if(1)&amp;#123;            var x = 4;            console.log(x)        &amp;#125;else&amp;#123;">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-02-23T12:25:52.519Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6笔记1">
<meta name="twitter:description" content="一 ES6简介二 let和const块级作用域2.1 作用域的理解12只要不是在function中声明的变量（var），就是全局变量。会污染全局变量 12345678      var x =1;        if(1)&amp;#123;            var x = 4;            console.log(x)        &amp;#125;else&amp;#123;">
  
    <link rel="alternate" href="/atom.xml" title="此梅的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">此梅的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">不忘初心</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="https://luokeni.github.io/luocimei/">项目主页</a>
        
          <a class="main-nav-link" href="https://github.com/luokeni/luocimei">gitHub</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://luokeni.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-es6_1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/20/es6_1/" class="article-date">
  <time datetime="2018-11-20T08:28:39.000Z" itemprop="datePublished">2018-11-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ES6/">ES6</a>►<a class="article-category-link" href="/categories/ES6/ES6基础知识笔记1/">ES6基础知识笔记1</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ES6笔记1
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-ES6简介"><a href="#一-ES6简介" class="headerlink" title="一 ES6简介"></a>一 ES6简介</h1><h1 id="二-let和const块级作用域"><a href="#二-let和const块级作用域" class="headerlink" title="二 let和const块级作用域"></a>二 let和const块级作用域</h1><h2 id="2-1-作用域的理解"><a href="#2-1-作用域的理解" class="headerlink" title="2.1 作用域的理解"></a>2.1 作用域的理解</h2><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">只要不是在<span class="function"><span class="keyword">function</span></span>中声明的变量（var），就是全局变量。</span><br><span class="line">会污染全局变量</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">var</span> x =<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> x = <span class="number">4</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(x)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> x = <span class="number">5</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//输出的就是4，所以在if中声明的是全局变量。</span></span><br></pre></td></tr></table></figure>
<h2 id="2-2-循环变量的问题"><a href="#2-2-循环变量的问题" class="headerlink" title="2.2 循环变量的问题"></a>2.2 循环变量的问题</h2><p><strong>forEach的使用</strong></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach</a></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">forEach</span><span class="params">()</span></span> 方法对数组的每个元素执行一次提供的函数。</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">var</span> arr = [];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">            arr.push(</span><br><span class="line">                <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(i);</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">        arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">            item();</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">//输出的是10个10</span></span><br><span class="line">i是全局变量，每次执行  <span class="built_in">console</span>.log(i);自己的作用域没有，只能去上一层查找，找到的是全局变量i，所以每次执行打印都是<span class="number">10</span>。</span><br></pre></td></tr></table></figure>
<p><strong>如何解决</strong></p>
<p>问题一：var arr=[];限定在一个区域</p>
<p>问题二：var i;限定在一个区域</p>
<h2 id="2-3-什么是块级作用域"><a href="#2-3-什么是块级作用域" class="headerlink" title="2.3 什么是块级作用域"></a>2.3 什么是块级作用域</h2><pre><code>{块级作用域}
</code></pre><h3 id="2-3-1-let的使用"><a href="#2-3-1-let的使用" class="headerlink" title="2.3.1 let的使用"></a>2.3.1 let的使用</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let <span class="built_in">s1</span> = <span class="number">10</span><span class="comment">;</span></span><br><span class="line">&#123;</span><br><span class="line">    let <span class="built_in">s2</span> = <span class="number">20</span><span class="comment">;</span></span><br><span class="line">    var <span class="built_in">s3</span> = <span class="number">2</span><span class="comment">;</span></span><br><span class="line">&#125;</span><br><span class="line">console.log(<span class="built_in">s2</span>)<span class="comment">;</span></span><br><span class="line">console.log(<span class="built_in">s3</span>)<span class="comment">;</span></span><br><span class="line">结果会报错，访问不到<span class="built_in">s2</span></span><br><span class="line">而<span class="built_in">s3</span>是可以打印出来的，这里定义的是全局变量。所以可以打印处理（var仅遵循函数作用域）</span><br><span class="line">说明let定义限制在代码块内。</span><br></pre></td></tr></table></figure>
<p><strong>不能变量声明提升</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量的时候，会有变量提升</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br><span class="line"><span class="keyword">let</span> i=<span class="number">12</span>;</span><br><span class="line">会报错，在哪里写的就在哪里声明，不会变量声明提升。</span><br></pre></td></tr></table></figure>
<p><strong>不能重复声明变量</strong></p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">age</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">age</span> = <span class="number">10</span>;</span><br><span class="line">会报错，不能重复声明，可以防止污染变量。</span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-const的使用"><a href="#2-3-2-const的使用" class="headerlink" title="2.3.2 const的使用"></a>2.3.2 const的使用</h3><p><strong>定义的时候要有初始化</strong></p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">因为是常量，所以必须要有值。</span><br><span class="line">const s = <span class="number">10</span><span class="comment">;</span></span><br><span class="line">且 因为是常量，不能更改。</span><br></pre></td></tr></table></figure>
<p>不能更改的原因：不能更改的是内存地址，就是那个绑定的地址。</p>
<p><strong>初始化值不能改变（绑定不能改变）</strong></p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const person = &#123;</span><br><span class="line">    name : <span class="string">"hh"</span>,</span><br><span class="line"><span class="symbol">    age:</span> <span class="number">10</span></span><br><span class="line">&#125;<span class="comment">;</span></span><br><span class="line">person.sex = <span class="string">"nan"</span><span class="comment">;</span></span><br><span class="line">没有报错，对象的内存地址一直都没有改变。绑定没有变。</span><br></pre></td></tr></table></figure>
<h3 id="2-3-3-块级作用域的奇特概念"><a href="#2-3-3-块级作用域的奇特概念" class="headerlink" title="2.3.3 块级作用域的奇特概念"></a>2.3.3 块级作用域的奇特概念</h3><p><strong>暂时性死区(TDZ)</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="number">10</span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(s);</span><br><span class="line">    <span class="keyword">let</span> s = <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line">会报错，在代码块中，都是<span class="keyword">let</span> s = <span class="number">20</span>。的区域，无论其上面还是下面只要在代码块内就是<span class="keyword">let</span> s = <span class="number">20</span> 的统治范围。</span><br><span class="line"><span class="keyword">var</span> s = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(s);</span><br><span class="line">    <span class="keyword">var</span> s = <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line">输出的结果是 <span class="literal">undefined</span> </span><br><span class="line">原因：在函数作用域里，也是<span class="keyword">var</span> s = <span class="number">20</span> 的统治范围，有变量声明提升，但是赋值在下面， 所以最后是<span class="literal">undefined</span></span><br></pre></td></tr></table></figure>
<p><strong>循环中使用块级作用域</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">j</span>)</span>&#123;</span><br><span class="line">            arr.push(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(j);</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">        &#125; (i))</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">        item();</span><br><span class="line">    &#125;)</span><br><span class="line">打印出 <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line">打印j的时候，在函数作用域中是没有j的，向上去找，找到每次循环的j  第一次循环是<span class="number">0</span> 最后一次是<span class="number">9</span>，所以会打印<span class="number">0</span><span class="number">-9</span>，使用立即执行函数相当于将j限定在块级作用域中。</span><br><span class="line">        <span class="keyword">let</span> arr = [];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line"></span><br><span class="line">                arr.push(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(i);</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line">        arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">            item();</span><br><span class="line">        &#125;)</span><br><span class="line">每次循环都会执行一次。</span><br></pre></td></tr></table></figure>
<h1 id="三-字符串的扩展"><a href="#三-字符串的扩展" class="headerlink" title="三 字符串的扩展"></a>三 字符串的扩展</h1><h2 id="3-1-传统字符串的问题"><a href="#3-1-传统字符串的问题" class="headerlink" title="3.1 传统字符串的问题"></a>3.1 传统字符串的问题</h2><h3 id="3-1-1-多行字符串问题"><a href="#3-1-1-多行字符串问题" class="headerlink" title="3.1.1 多行字符串问题"></a>3.1.1 多行字符串问题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">"hhhhhkskiosdic\</span></span><br><span class="line"><span class="string">sjcucuccjccdioj"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//这样打印出来的不是换行的，而是中间打印成了空格。是两个字符的拼接。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s = <span class="string">"hhhhhkskiosdic\n\sjcucuccjccdioj"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line">这样是传统字符串的换行。</span><br><span class="line">+号拼接字符串</span><br><span class="line"><span class="keyword">let</span> s = <span class="string">"hhhhhkskiosdic\n"</span>+<span class="string">"sjcucuccjccdioj"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"></span><br><span class="line">以上方式都很麻烦</span><br></pre></td></tr></table></figure>
<h3 id="3-1-2-字符串中使用变量"><a href="#3-1-2-字符串中使用变量" class="headerlink" title="3.1.2 字符串中使用变量"></a>3.1.2 字符串中使用变量</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">引号拼接法。</span><br><span class="line">html+=<span class="string">"&lt;li&gt;"</span>+</span><br><span class="line"><span class="string">"&lt;h3&gt;"</span>+item.name + <span class="string">"&lt;/h3&gt;"</span></span><br><span class="line">+ <span class="string">"&lt;p&gt;"</span> + item.age + <span class="string">"&lt;/p&gt;"</span></span><br><span class="line"><span class="string">"&lt;/li&gt;"</span></span><br></pre></td></tr></table></figure>
<h2 id="3-2-模板字符串基本语法"><a href="#3-2-模板字符串基本语法" class="headerlink" title="3.2 模板字符串基本语法"></a>3.2 模板字符串基本语法</h2><h3 id="3-2-1-反引号-‘字符串’"><a href="#3-2-1-反引号-‘字符串’" class="headerlink" title="3.2.1 反引号 ‘字符串’"></a>3.2.1 反引号 ‘字符串’</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">使用反引号（左上方的按键）</span><br><span class="line">            <span class="keyword">let</span> s = <span class="string">`hello</span></span><br><span class="line"><span class="string">            he </span></span><br><span class="line"><span class="string">            hh`</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(s);<span class="comment">//可以实现换行，需要将换行前面的空格删除。</span></span><br></pre></td></tr></table></figure>
<h3 id="3-2-2-替换位的使用"><a href="#3-2-2-替换位的使用" class="headerlink" title="3.2.2 替换位的使用 ${}"></a>3.2.2 替换位的使用 ${}</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">  let obj = [</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">            name: "liuxiu",</span></span><br><span class="line"><span class="regexp">            age:28</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">            name: "xiedjiao",</span></span><br><span class="line"><span class="regexp">            age:30</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">            name: "luojk",</span></span><br><span class="line"><span class="regexp">            age:22</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">            name: "luomeil",</span></span><br><span class="line"><span class="regexp">            age:21</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    ];</span></span><br><span class="line"><span class="regexp">    let  oLi = document.getElementsByTagName('ul')[0];</span></span><br><span class="line"><span class="regexp">    let html = "";</span></span><br><span class="line"><span class="regexp">    console.log(obj[1].name);</span></span><br><span class="line"><span class="regexp">    obj.forEach(function(item)&#123;</span></span><br><span class="line"><span class="regexp">        html+=`&lt;li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;h3&gt;$&#123;item.name&#125;&lt;/</span>h3&gt;<span class="comment">//注意这里面的item.name,不要写长了obj.name</span></span><br><span class="line">        &lt;p&gt;$&#123;item.age&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>li&gt;<span class="string">`//使用的是反引号。</span></span><br><span class="line"><span class="string">    &#125;)  </span></span><br><span class="line"><span class="string">    oLi.innerHTML = html;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-3-字符串拓展方法"><a href="#3-3-字符串拓展方法" class="headerlink" title="3.3 字符串拓展方法"></a>3.3 字符串拓展方法</h2><h3 id="3-3-1-String-prototype-startsWith"><a href="#3-3-1-String-prototype-startsWith" class="headerlink" title="3.3.1 String.prototype.startsWith"></a>3.3.1 String.prototype.startsWith</h3><p>以某个字母开始，从前向后查找。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">"nihaihaobu"</span>;</span><br><span class="line"><span class="keyword">let</span> b = s.startsWith(<span class="string">"i"</span>,<span class="number">1</span>);<span class="comment">//从数组的1开始查找</span></span><br><span class="line"> <span class="built_in">console</span>.log(b);<span class="comment">//打印出的是true</span></span><br></pre></td></tr></table></figure>
<p>3.3.2 String.prototype.endsWith</p>
<p>3.3.2 String.prototype.endsWith</p>
<p>兼容性写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-3-2-String-prototype-endsWith"><a href="#3-3-2-String-prototype-endsWith" class="headerlink" title="3.3.2 String.prototype.endsWith"></a>3.3.2 String.prototype.endsWith</h3><p>以某个字母结束，从后向前查找，开区间，不包括设置的位。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">"nihaihaobu"</span>;</span><br><span class="line"><span class="keyword">let</span> b = s.endsWith(<span class="string">"o"</span>,<span class="number">8</span>);<span class="comment">//从数组的8向前找，不包括数组中的8位。</span></span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure>
<p>兼容性写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-3-3-String-prototype-includes"><a href="#3-3-3-String-prototype-includes" class="headerlink" title="3.3.3 String.prototype.includes"></a>3.3.3 String.prototype.includes</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">"nihaihaobu"</span>;</span><br><span class="line"><span class="keyword">let</span> a = s.includes(<span class="string">"a"</span>,<span class="number">3</span>);<span class="comment">//返回的是个true</span></span><br></pre></td></tr></table></figure>
<p>兼容性的写法（浏览器不支持includes的方法）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="built_in">String</span>.prototype.includes)&#123;</span><br><span class="line">        <span class="comment">//增加includes方法</span></span><br><span class="line">        <span class="built_in">String</span>.prototype.includes = <span class="function"><span class="keyword">function</span>(<span class="params">search,start</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">typeof</span> start != <span class="string">"number"</span>)&#123;</span><br><span class="line">                start = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//判断查找的字符串长度是不是大于字符串的长度</span></span><br><span class="line">            <span class="keyword">if</span>(start + search.length &gt;<span class="keyword">this</span>.length)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.indexOf(search,start) !== <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-3-4-String-prototype-repeat"><a href="#3-3-4-String-prototype-repeat" class="headerlink" title="3.3.4 String.prototype.repeat"></a>3.3.4 String.prototype.repeat</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">"nihaihaobu"</span>;</span><br><span class="line"><span class="keyword">let</span> c = s.repeat(<span class="number">3</span>);<span class="comment">//将s重复3遍</span></span><br><span class="line">   <span class="built_in">console</span>.log(c);<span class="comment">//  nihaihaobunihaihaobunihaihaobu</span></span><br></pre></td></tr></table></figure>
<p>兼容性写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="四-数组解构赋值与对象解构赋值"><a href="#四-数组解构赋值与对象解构赋值" class="headerlink" title="四 数组解构赋值与对象解构赋值"></a>四 数组解构赋值与对象解构赋值</h1><h2 id="4-1-数组解构赋值"><a href="#4-1-数组解构赋值" class="headerlink" title="4.1 数组解构赋值"></a>4.1 数组解构赋值</h2><p>[ variable1, variable2, …, variableN ] = array;</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">let [a,b,c] = arr;</span><br><span class="line">console.log(a,b,c);</span><br><span class="line">输出的是 <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>
<h3 id="4-1-1-使用"><a href="#4-1-1-使用" class="headerlink" title="4.1.1 使用"></a>4.1.1 使用</h3><p><strong>必须要进行初始化</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">赋值操作必须要赋值的。</span><br></pre></td></tr></table></figure>
<p><strong>可以在解构中忽略一些项</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> [,b,] = arr;</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure>
<p><strong>互换两个变量的值</strong></p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//互换两个变量</span><br><span class="line">   let x = <span class="number">1</span><span class="comment">;</span></span><br><span class="line">   let y = <span class="number">2</span><span class="comment">;</span></span><br><span class="line">   let temp <span class="comment">;</span></span><br><span class="line">   temp = x<span class="comment">;</span></span><br><span class="line">    x = y <span class="comment">;</span></span><br><span class="line">   y = temp <span class="comment">;</span></span><br><span class="line">   console.log(x)<span class="comment">;</span></span><br><span class="line">   console.log(y)<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line">[x,y] = [y,x]<span class="comment">//上面已经声明过变量了，不需要再去声明。</span></span><br></pre></td></tr></table></figure>
<h3 id="4-1-2-默认值"><a href="#4-1-2-默认值" class="headerlink" title="4.1.2 默认值"></a>4.1.2 默认值</h3><p><strong>当指定位置的项不存在</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [x,y] = [];<span class="comment">//等同于let [x,y] = [undefined，undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p><strong>指定位置的值为undefined</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">当x,y值默认严格等于<span class="literal">undefined</span>的时候，就可以使用默认值</span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">2</span>,y = <span class="number">3</span>] = [];</span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//输出的是 2 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">2</span>,y = <span class="number">3</span>] = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//输出的是 1 </span></span><br><span class="line"></span><br><span class="line">注意一定要严格等于<span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">2</span>,y = <span class="number">3</span>] = [<span class="literal">null</span>,<span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//输出的是 null</span></span><br><span class="line"><span class="built_in">console</span>.log(y);<span class="comment">//输出的是 3</span></span><br></pre></td></tr></table></figure>
<h2 id="4-2-对象解构赋值"><a href="#4-2-对象解构赋值" class="headerlink" title="4.2 对象解构赋值"></a>4.2 对象解构赋值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">"hhh"</span>;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name : name <span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name)</span><br></pre></td></tr></table></figure>
<h3 id="4-2-1-基本语法"><a href="#4-2-1-基本语法" class="headerlink" title="4.2.1 基本语法 :"></a>4.2.1 基本语法 :</h3><p>字面量对象 = 字面量对象(字面量是键值对的形式)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>:name,<span class="attr">age</span>:age&#125; = &#123;<span class="attr">name</span>:<span class="string">"hhh"</span>,<span class="attr">age</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name,age);</span><br><span class="line">可以简写</span><br><span class="line"><span class="keyword">let</span> &#123;name,age&#125; = &#123;<span class="attr">name</span>:<span class="string">"hhh"</span>,<span class="attr">age</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name,age);<span class="comment">//输出的是“hhh”, 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">age</span>:name1,<span class="attr">name</span>:age1&#125; = &#123;<span class="attr">name</span>:<span class="string">"hhh"</span>,<span class="attr">age</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name1,age1);<span class="comment">//输出的是 1，“hhh”</span></span><br><span class="line">在这里要去匹配右边的属性，有的话就把属性值给左边的。</span><br></pre></td></tr></table></figure>
<h3 id="4-2-2-注意"><a href="#4-2-2-注意" class="headerlink" title="4.2.2 注意"></a>4.2.2 注意</h3><p><strong>必须要进行初始化</strong></p>
<p>赋值的操作必须要有值</p>
<p><strong>在赋值的时候使用解构赋值</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;name,age&#125; = &#123;<span class="attr">name</span>:<span class="string">"hhh"</span>,<span class="attr">age</span>:<span class="number">1</span>&#125;;<span class="comment">//这种方式是一步到位的</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> age,name;</span><br><span class="line">&#123;age,name&#125; = &#123;<span class="attr">age</span>:<span class="number">19</span>; name:lcm&#125; ;</span><br><span class="line"><span class="comment">//会报错，js引擎识别问题，这里认为&#123;&#125;是代码块而不是对象，代码块不允许 + 的出现，所以会报错</span></span><br><span class="line">解决办法加（） 告诉js引擎 其不是代码块</span><br><span class="line"><span class="keyword">let</span> age,name;</span><br><span class="line">(&#123;age,name&#125; = &#123;<span class="attr">age</span>:<span class="number">19</span>, <span class="attr">name</span>:lcm&#125;) ;</span><br></pre></td></tr></table></figure>
<p><strong>解构赋值表达式的值是表达式右侧的值</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">       <span class="keyword">let</span> obj = &#123;<span class="attr">sex</span>:<span class="string">"man"</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(value);</span><br><span class="line">        &#125;</span><br><span class="line">        f(obj);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//传入解构值的时候，和上面的值是一样的</span></span><br><span class="line">        <span class="keyword">let</span> obj = &#123;<span class="attr">sex</span>:<span class="string">"man"</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(value);</span><br><span class="line">        &#125;</span><br><span class="line">        f(&#123;&#125; = obj);<span class="comment">//&#123;&#125; = obj  整体的值就是obj的值</span></span><br><span class="line"></span><br><span class="line">不需要再去声明了，可以在传进去的同时使用这个变量。</span><br></pre></td></tr></table></figure>
<h2 id="4-3-对象解构赋值默认值"><a href="#4-3-对象解构赋值默认值" class="headerlink" title="4.3  对象解构赋值默认值"></a>4.3  对象解构赋值默认值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;name = <span class="string">"kk"</span>,age = <span class="number">34</span>&#125; = &#123;&#125;;<span class="comment">//右边等同于&#123;undefined，undefined&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(name,age);<span class="comment">//打印的值为kk 34</span></span><br><span class="line">当右边的值严格等于<span class="literal">undefined</span>的时候，左边才会使用默认值。</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;name = <span class="string">"kk"</span>,age = <span class="number">34</span>&#125; = &#123;<span class="attr">name</span> :<span class="string">"hhk"</span>,<span class="attr">age</span> : <span class="number">3</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name,age);</span><br><span class="line"><span class="comment">//输出的是 hhk 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;name = <span class="string">"kk"</span>,age = <span class="number">34</span>&#125; = &#123;<span class="attr">name</span> :<span class="literal">null</span>,<span class="attr">age</span> : <span class="number">3</span>&#125;;<span class="comment">//注意右边的对象的值要使用键值对的方式。</span></span><br><span class="line"><span class="built_in">console</span>.log(name,age);</span><br><span class="line"><span class="comment">//输出的是 null 3</span></span><br></pre></td></tr></table></figure>
<h2 id="4-4-混合解构：对象和数组组合使用"><a href="#4-4-混合解构：对象和数组组合使用" class="headerlink" title="4.4 混合解构：对象和数组组合使用"></a>4.4 混合解构：对象和数组组合使用</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">数组：</span><br><span class="line"><span class="keyword">let</span> [a,b,[c,d]] = [<span class="number">1</span>,<span class="number">2</span>,[]];<span class="comment">//let [a,b,[a,b]] = [1,2,[]]是错误的a,b 已经声明过了，不可以重复声明。</span></span><br><span class="line"><span class="built_in">console</span>.log(a,b,[c,d]);</span><br><span class="line">输出结果是：</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> </span><br><span class="line"><span class="built_in">Array</span>(<span class="number">2</span>)</span><br><span class="line"><span class="number">0</span>: <span class="literal">undefined</span></span><br><span class="line"><span class="number">1</span>: <span class="literal">undefined</span></span><br><span class="line">length: <span class="number">2</span></span><br><span class="line">注意：左边的模式和右边的模式要匹配，不匹配的话就会报错。</span><br><span class="line"></span><br><span class="line">对象：</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>:[a,b,c]&#125; = &#123;<span class="attr">name</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a,b,c);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>:[a,b,c]&#125; = &#123;<span class="attr">name</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name)；<span class="comment">//打印不出啥 。</span></span><br><span class="line"><span class="comment">//打印出来的是 1,2,3</span></span><br></pre></td></tr></table></figure>
<h1 id="五-ES6参数的处理"><a href="#五-ES6参数的处理" class="headerlink" title="五 ES6参数的处理"></a>五 ES6参数的处理</h1><h2 id="5-1-参数默认值问题"><a href="#5-1-参数默认值问题" class="headerlink" title="5.1 参数默认值问题"></a>5.1 参数默认值问题</h2><h3 id="5-1-1-基本使用方法"><a href="#5-1-1-基本使用方法" class="headerlink" title="5.1.1 基本使用方法"></a>5.1.1 基本使用方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b,c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line"><span class="comment">//输出的是 undefined undefined undefined</span></span><br><span class="line">  f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//输出的是 1,2,3</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a=<span class="number">3</span>,b=<span class="number">2</span>,c=<span class="number">3</span></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//输出的是 1,2,3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a=<span class="number">3</span>,b=<span class="number">2</span>,c=<span class="number">3</span></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line"><span class="comment">//输出的是 3,2,1</span></span><br><span class="line">注意：当a,b，c严格等于<span class="literal">undefined</span>的时候，才会使用默认赋值。</span><br></pre></td></tr></table></figure>
<p>除了传值还可以传个函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">value</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a=value(</span>),<span class="title">b</span>=2,<span class="title">c</span>=3)</span>&#123; <span class="comment">//惰性求值</span></span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line"><span class="comment">//输出的是 2,2,1</span></span><br><span class="line">注意：惰性赋值只有在其值严格等于<span class="literal">undefined</span>的时候才会执行。可以提高性能</span><br></pre></td></tr></table></figure>
<h3 id="5-1-2-在默认值中使用其他变量"><a href="#5-1-2-在默认值中使用其他变量" class="headerlink" title="5.1.2 在默认值中使用其他变量"></a>5.1.2 在默认值中使用其他变量</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a = <span class="number">1</span>,b = a</span>)</span>&#123;<span class="comment">//从左到右执行，先给a=1,再给b=a; 如果换成 b=a,a=1;的形式就会报错，因为从左到右执行a的值还没有传。</span></span><br><span class="line">    <span class="built_in">console</span>.log(a,b);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在默认值中使用其他变量</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="number">3</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a = c</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a,c);</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line">结果输出的是  <span class="number">3</span>,<span class="number">2</span></span><br><span class="line">原因:函数参数作用域，因为a值严格等于<span class="literal">undefined</span>，所以会走默认赋值，函数参数作用域是介于外面作用域和里面作用域之间的，可以访问到外面的作用域，但是不可以里面作用域的值。</span><br></pre></td></tr></table></figure>
<h2 id="5-2-剩余运算符（Rest）"><a href="#5-2-剩余运算符（Rest）" class="headerlink" title="5.2 剩余运算符（Rest）"></a>5.2 剩余运算符（Rest）</h2><p>作用：将散列的元素汇成集合</p>
<h3 id="5-2-1-在函数中的使用（写在最后）"><a href="#5-2-1-在函数中的使用（写在最后）" class="headerlink" title="5.2.1 在函数中的使用（写在最后）"></a>5.2.1 在函数中的使用（写在最后）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arguments 可以获取有多少个参数，但是获取的是类数组，类数组使用的时候需要遍历。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">输出的是一个数组</span><br><span class="line"><span class="built_in">Array</span>(<span class="number">2</span>)</span><br><span class="line"><span class="number">0</span>: <span class="number">1</span></span><br><span class="line"><span class="number">1</span>: <span class="number">2</span></span><br><span class="line">length: <span class="number">2</span></span><br><span class="line">__proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">...arr</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">输出的是一个数组</span><br><span class="line"><span class="built_in">Array</span>(<span class="number">2</span>)</span><br><span class="line"><span class="number">0</span>: <span class="number">1</span></span><br><span class="line"><span class="number">1</span>: <span class="number">2</span></span><br><span class="line">length: <span class="number">2</span></span><br><span class="line">__proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">注意使用：剩余运算符只能写在最后一项。</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,...arr</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>，<span class="number">3</span>,<span class="number">4</span>);<span class="comment">//将1给了a，剩余的值组成数组。</span></span><br><span class="line">打印出的结果是：</span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>)</span><br><span class="line"><span class="number">0</span>: <span class="number">2</span></span><br><span class="line"><span class="number">1</span>: <span class="number">3</span></span><br><span class="line"><span class="number">2</span>: <span class="number">4</span></span><br><span class="line">length: <span class="number">3</span></span><br><span class="line">__proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h3 id="5-2-2-在解构中使用"><a href="#5-2-2-在解构中使用" class="headerlink" title="5.2.2 在解构中使用"></a>5.2.2 在解构中使用</h3><p><strong>在数组</strong>(在最后写)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a,b,c] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a,b,c) <span class="comment">//输出的结果是1,2,3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [a,...arr] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a,arr) <span class="comment">//输出的结果是1 Array(2)</span></span><br></pre></td></tr></table></figure>
<p><strong>在对象</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;a,b,c&#125; = &#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>,<span class="attr">c</span>:<span class="number">3</span>,<span class="attr">d</span>:<span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a,b,c)<span class="comment">//输出的结果是1,2,3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;a,b,...c&#125; = &#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>,<span class="attr">c</span>:<span class="number">3</span>,<span class="attr">d</span>:<span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a,b,c)</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<h2 id="5-3-扩展运算符"><a href="#5-3-扩展运算符" class="headerlink" title="5.3 扩展运算符"></a>5.3 扩展运算符</h2><p> 把一个集合变成散元素</p>
<h3 id="5-3-1-函数参数传递"><a href="#5-3-1-函数参数传递" class="headerlink" title="5.3.1 函数参数传递"></a>5.3.1 函数参数传递</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b,c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line">f([<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>])</span><br><span class="line"><span class="comment">//输出的结果是Array(3) undefined undefined</span></span><br></pre></td></tr></table></figure>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">(a,b,c)</span><span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">    console.log(a,b,c);</span></span></span><br><span class="line"><span class="function"><span class="comment">&#125;</span></span></span><br><span class="line"><span class="function"><span class="title">f</span><span class="params">(...[1,2,4])</span></span></span><br><span class="line"><span class="function"><span class="comment">//输出的结果是 1,2,4</span></span></span><br></pre></td></tr></table></figure>
<h3 id="5-3-2-数组和对象的复制"><a href="#5-3-2-数组和对象的复制" class="headerlink" title="5.3.2 数组和对象的复制"></a>5.3.2 数组和对象的复制</h3><p><strong>数组的复制</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr1;</span><br><span class="line">arr2.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line">输出的是<span class="built_in">Array</span>(<span class="number">4</span>) arr2的改变 导致arr1也改变了。</span><br><span class="line">arr1和 arr2指向的是同一个地址。所以其中一个改变另一个也会改变</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr1.concat();</span><br><span class="line">arr2.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line">输出的是<span class="built_in">Array</span>(<span class="number">3</span>),这样就不会改变。属于浅拷贝</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [...arr1]</span><br><span class="line">arr2.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line">输出的是<span class="built_in">Array</span>(<span class="number">3</span>),这样就不会改变。</span><br></pre></td></tr></table></figure>
<p><strong>对象的复制</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对象的复制</span></span><br><span class="line">     <span class="keyword">let</span> obj1=&#123;</span><br><span class="line">         a: <span class="number">1</span>,</span><br><span class="line">         b: <span class="number">2</span>,</span><br><span class="line">         c : <span class="number">3</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">         ...obj1,</span><br><span class="line">     &#125;</span><br><span class="line">     obj2.name = <span class="string">"hh"</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(obj1);<span class="comment">//a: 1 b: 2 c: 3</span></span><br><span class="line">     <span class="built_in">console</span>.log(obj2);<span class="comment">//a: 1 b: 2 c: 3 name: "hh"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">..<span class="number">.1</span>,<span class="number">2</span>,<span class="number">3</span> -&gt; [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">...[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]-&gt; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br></pre></td></tr></table></figure>
<h2 id="5-4-模拟命名参数"><a href="#5-4-模拟命名参数" class="headerlink" title="5.4 模拟命名参数"></a>5.4 模拟命名参数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">start,end</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        f(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">注：可读性低</span><br></pre></td></tr></table></figure>
<h3 id="5-4-1-使用对象的解构赋值来模拟命名参数"><a href="#5-4-1-使用对象的解构赋值来模拟命名参数" class="headerlink" title="5.4.1 使用对象的解构赋值来模拟命名参数"></a>5.4.1 使用对象的解构赋值来模拟命名参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">&#123;start = <span class="number">1</span>,end = <span class="number">2</span>&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(start,end);</span><br><span class="line">&#125;</span><br><span class="line">f(&#123;<span class="attr">start</span>:<span class="number">8</span>,<span class="attr">end</span>:<span class="number">12</span>&#125;);</span><br><span class="line">输出的结果是 <span class="number">8</span>,<span class="number">12.</span>等同于 &#123;start = <span class="number">1</span>,end = <span class="number">2</span>&#125;=&#123;<span class="attr">start</span>:<span class="number">8</span>,<span class="attr">end</span>:<span class="number">12</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">&#123;start = <span class="number">1</span>,end = <span class="number">2</span>&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(start,end);</span><br><span class="line">&#125;</span><br><span class="line">f(&#123;&#125;);<span class="comment">//此时严格等于undefined  所以走默认值，输出 1,2</span></span><br><span class="line">注意：f()中如果不传参数， 其格式也要和形参中的形式一致。</span><br><span class="line">否则就等同于&#123;start = <span class="number">1</span>,end = <span class="number">2</span>&#125; = <span class="literal">undefined</span>；左边和右边的模式就不匹配了。</span><br></pre></td></tr></table></figure>
<h1 id="六-对数字的处理"><a href="#六-对数字的处理" class="headerlink" title="六 对数字的处理"></a>六 对数字的处理</h1><h2 id="6-1-新的整形字面量"><a href="#6-1-新的整形字面量" class="headerlink" title="6.1 新的整形字面量"></a>6.1 新的整形字面量</h2><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">二进制是 <span class="number">0</span>b开头，八进制是 <span class="number">0</span>o开头的，十六进制是<span class="number">0</span>开头的</span><br></pre></td></tr></table></figure>
<h2 id="6-2-新的Number方法"><a href="#6-2-新的Number方法" class="headerlink" title="6.2  新的Number方法"></a>6.2  新的Number方法</h2><h3 id="6-2-1-以前方法的移植"><a href="#6-2-1-以前方法的移植" class="headerlink" title="6.2.1 以前方法的移植"></a>6.2.1 以前方法的移植</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">isNaN</span> 检查一个值是否为 <span class="literal">NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"111"</span>));<span class="comment">//返回的是false。进行了隐士转换，再做判断</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"&gt;"</span>));</span><br><span class="line"></span><br><span class="line">将<span class="built_in">isNaN</span>移植到<span class="built_in">Number</span>上</span><br><span class="line">传的不是一个数字的时候，直接就是<span class="literal">false</span>，只有传的是数字的时候，才会进行<span class="built_in">isNaN</span>判断</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"111"</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="string">"111"</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="number">111</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="number">9</span>/<span class="literal">NaN</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//isFinite检查一个数值是否有限的</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="string">"111"</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isFinite(<span class="string">"441"</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isFinite(<span class="number">234</span>));<span class="comment">//true</span></span><br><span class="line">传的不是一个数字的时候，直接就是<span class="literal">false</span>，只有传的是数字的时候，才会进行<span class="built_in">isFinite</span>判断</span><br></pre></td></tr></table></figure>
<p>以上方法与传统方法的区别是，传统方法先调用Number()将数值转为数值，再进行判断，而新方法只对数值有效，对于非数值一律返回false。且Number.isNaN();只有对于NaN才会返回true。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.parseFloat()<span class="comment">//</span></span><br><span class="line"><span class="built_in">Number</span>.parseInt();<span class="comment">//取整</span></span><br></pre></td></tr></table></figure>
<p>以上两种方法与传统方法行为保持不变，这样做的目的是逐步减少全局性方法，使语言逐步模块化。</p>
<h3 id="6-2-2-合理误差范围"><a href="#6-2-2-合理误差范围" class="headerlink" title="6.2.2 合理误差范围"></a>6.2.2 合理误差范围</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Number</span>.<span class="built_in">EPSILON</span>();//引入一个这么小的量，目的在于浮点数计算设置一个误差范围。实质是一个可以接受的误差范围。</span><br></pre></td></tr></table></figure>
<h3 id="6-2-3-判断是否为整型"><a href="#6-2-3-判断是否为整型" class="headerlink" title="6.2.3 判断是否为整型"></a>6.2.3 判断是否为整型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isInteger();</span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25.0</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="string">"15"</span>);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<h3 id="6-2-4-完全整数的相应方法"><a href="#6-2-4-完全整数的相应方法" class="headerlink" title="6.2.4 完全整数的相应方法"></a>6.2.4 完全整数的相应方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="string">"15"</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="number">15</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h2 id="6-3-新的Math方法"><a href="#6-3-新的Math方法" class="headerlink" title="6.3  新的Math方法"></a>6.3  新的Math方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.sign();方法用来判断一个数到底是不是正数，负数，还是零</span><br><span class="line">参数为正数，返回+<span class="number">1</span></span><br><span class="line">参数为负数，返回<span class="number">-1</span>；</span><br><span class="line">参数为<span class="number">0</span>，返回<span class="number">0</span>；</span><br><span class="line">参数为<span class="number">-0</span>，返回<span class="number">-0</span>；</span><br></pre></td></tr></table></figure>
<h1 id="七-箭头函数详解"><a href="#七-箭头函数详解" class="headerlink" title="七 箭头函数详解"></a>七 箭头函数详解</h1><h2 id="7-1-基本语法"><a href="#7-1-基本语法" class="headerlink" title="7.1 基本语法"></a>7.1 基本语法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">基本语法:  <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a+b);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">打印的是 <span class="number">3</span></span><br><span class="line"><span class="keyword">var</span> foo1 = <span class="function">(<span class="params">a,b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a+b)</span><br><span class="line">&#125;</span><br><span class="line">foo1(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">打印的是<span class="number">3</span></span><br></pre></td></tr></table></figure>
<h2 id="7-2-注意"><a href="#7-2-注意" class="headerlink" title="7.2  注意"></a>7.2  注意</h2><p><strong>参数</strong></p>
<p>如果只有一个参数的话，我们的小括号可以省略</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function">(<span class="params">a</span>) =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">可以把小括号去掉</span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="params">a</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>如果只有0个或2个及2个以上的话，我们的小括号必须有</p>
<p>如果是一条语句的话，大括号可以删除，且如果由return的话，也要将return去除。</p>
<p>如果是两条或以上的话，不可以省略大括号。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> x*x;</span><br><span class="line">&#125;)</span><br><span class="line"> 可以省略的部分都省略。</span><br><span class="line"> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.map( <span class="function"><span class="params">x</span> =&gt;</span>x*x));</span><br></pre></td></tr></table></figure>
<p>map的使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">map() 方法返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值。</span><br><span class="line"><span class="keyword">var</span> data = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Squares = data.map(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> item * item;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(Squares);</span><br><span class="line"><span class="comment">// [9, 16, 25, 36]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> users = [</span><br><span class="line">&#123;<span class="attr">name</span>: <span class="string">"张含韵"</span>, <span class="string">"email"</span>: <span class="string">"zhang@email.com"</span>&#125;,</span><br><span class="line">&#123;<span class="attr">name</span>: <span class="string">"江一燕"</span>,   <span class="string">"email"</span>: <span class="string">"jiang@email.com"</span>&#125;,</span><br><span class="line">&#123;<span class="attr">name</span>: <span class="string">"李小璐"</span>,  <span class="string">"email"</span>: <span class="string">"li@email.com"</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> emails = users.map(<span class="function"><span class="keyword">function</span> (<span class="params">user</span>) </span>&#123; <span class="keyword">return</span> user.email; &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(emails);</span><br><span class="line"><span class="comment">//["zhang@email.com", "jiang@email.com", "li@email.com"]</span></span><br></pre></td></tr></table></figure>
<h3 id="7-2-1-this指向问题"><a href="#7-2-1-this指向问题" class="headerlink" title="7.2.1 this指向问题"></a>7.2.1 this指向问题</h3><p>传统方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//很显然这里的this是window</span></span><br><span class="line">    init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//很显然这里的this是obj，因为下面是obj在调用这个函数。   </span></span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是谁调用了它，就是谁，显然是document在使用它。</span></span><br><span class="line">           <span class="keyword">this</span>.end(event.type);<span class="comment">//这里报错了，end函数是定义在obj对象中的，需要通过obj来调用，但是这里的this指向的是document而不是obj。</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    end:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line">如果想改变<span class="keyword">this</span>的指向呢?</span><br><span class="line">方法一：</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line">    	<span class="keyword">var</span> that = <span class="keyword">this</span>;<span class="comment">//此处的this是obj，将其储存在一个变量内</span></span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是谁调用了它，就是谁，显然是document在使用它。</span></span><br><span class="line">             that.end(event.type);<span class="comment">//此时就是obj在调用end函数。</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    end:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line">方法二：可以在<span class="function"><span class="keyword">function</span>是可以改变<span class="title">this</span>指向的。</span></span><br><span class="line"><span class="function">    <span class="title">var</span> <span class="title">obj</span> = </span>&#123;</span><br><span class="line">    init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是谁调用了它，就是谁，显然是document在使用它。</span></span><br><span class="line">             <span class="keyword">this</span>.end(event.type);<span class="comment">//此时就是obj在调用end函数。</span></span><br><span class="line">        &#125;.bind(<span class="keyword">this</span>))<span class="comment">//bind改变了this的指向。哪里的this不是想要的，就把bind放在哪里，这样就可以使用上一级的this。</span></span><br><span class="line">    &#125;,</span><br><span class="line">    end:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br></pre></td></tr></table></figure>
<p>注意：是在对象中定义函数，起初自己是在函数中写函数，调用的时候就没有思考直接使用了，报错了。那样不是函数。</p>
<p>箭头函数的this指向</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">箭头函数里是没有<span class="keyword">this</span>指向的，借用的其父级作用域的。</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>,event =&gt;&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是init</span></span><br><span class="line">         <span class="keyword">this</span>.end(event.type);<span class="comment">//这里的this是init</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">end:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">而且其<span class="keyword">this</span>指向是不可以被更改的。</span><br><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this是obj</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init:<span class="function"><span class="params">()</span> =&gt;</span><span class="built_in">console</span>.log(<span class="keyword">this</span>)   <span class="comment">//这里的this是window，用的是其父级的this，父级是window </span></span><br><span class="line">obj.init();</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init:<span class="function"><span class="params">()</span> =&gt;</span><span class="built_in">console</span>.log(<span class="keyword">this</span>)<span class="comment">//这里的this是window </span></span><br><span class="line">&#125;</span><br><span class="line">obj.init.call(obj);<span class="comment">//是无法改变其指向的</span></span><br></pre></td></tr></table></figure>
<h3 id="7-2-2-不能使用arguments"><a href="#7-2-2-不能使用arguments" class="headerlink" title="7.2.2 不能使用arguments"></a>7.2.2 不能使用arguments</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init: <span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);<span class="comment">//会报错的.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-2-3-不能当做构造函数"><a href="#7-2-3-不能当做构造函数" class="headerlink" title="7.2.3 不能当做构造函数"></a>7.2.3 不能当做构造函数</h3><p>建议是：没有this指向的时候使用箭头函数，有的话要注意可能会出错。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    init: <span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> obj.init.call(obj);<span class="comment">//会报错，obj.init()不是构造函数</span></span><br></pre></td></tr></table></figure>
<h3 id="7-2-4-复习this"><a href="#7-2-4-复习this" class="headerlink" title="7.2.4 复习this"></a>7.2.4 复习this</h3><p><strong>自己执行的时候this指向</strong>(默认绑定)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">   <span class="keyword">return</span> a+b;</span><br><span class="line">  &#125;</span><br><span class="line"> add(<span class="number">10</span>,<span class="number">20</span>)<span class="comment">//this===window</span></span><br></pre></td></tr></table></figure>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">隐士绑定 在一个对象的内部通过属性间接引用函数，从而把this隐士绑定到对象内部属性所指向的函数</span><br><span class="line">显示绑定 需要引用一个对象时进行强制绑定调用，js有提供<span class="keyword">call</span>()、apply()方法，ES5中也提供了内置的方法 <span class="function"><span class="keyword">Function</span>.<span class="title">prototype</span></span>.<span class="keyword">bind</span>。</span><br></pre></td></tr></table></figure>
<p><strong>隐士this指向变化</strong>  对象方法的调用模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">   name:<span class="string">'aaa'</span>,</span><br><span class="line">   age:<span class="number">20</span>,</span><br><span class="line">   said:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">obj.said();<span class="comment">//this===obj，此处this指代被调用者</span></span><br></pre></td></tr></table></figure>
<p><strong>显示this指向</strong>  call和apply调用模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.detial=a*b;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> p=&#123;&#125;;</span><br><span class="line">  change.call(p,<span class="number">4</span>,<span class="number">5</span>);<span class="comment">//此处的this===p</span></span><br><span class="line">  <span class="built_in">console</span>.log(p.detial);</span><br><span class="line">  <span class="keyword">var</span> q=[];</span><br><span class="line">  change.call(q,<span class="number">5</span>,<span class="number">10</span>)<span class="comment">//this===q</span></span><br><span class="line">  <span class="built_in">console</span>.log(q.detial);</span><br><span class="line">  <span class="comment">//apply和call一样的用法，只不过apply第二个参数用数组进行传递</span></span><br><span class="line">  <span class="keyword">var</span> arr=[];</span><br><span class="line">  change.apply(arr,[<span class="number">10</span>,<span class="number">10</span>]);<span class="comment">//this===arr</span></span><br><span class="line">  <span class="built_in">console</span>.log(arr.detial);</span><br><span class="line">  <span class="keyword">var</span> str=&#123;&#125;;</span><br><span class="line">  change.apply(str,[<span class="number">20</span>,<span class="number">20</span>]);<span class="comment">//this===str</span></span><br><span class="line">  <span class="built_in">console</span>.log(str.detial);</span><br></pre></td></tr></table></figure>
<p><strong>new指向</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">School</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.said=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">var</span> nanj=<span class="keyword">new</span> School();</span><br><span class="line">nanj.said();<span class="comment">//对象调用自己的方法，this===nanj,this在构造函数中指的是实例对象</span></span><br></pre></td></tr></table></figure>
<p><strong>箭头函数的this指向</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">箭头函数里是没有<span class="keyword">this</span>指向的，借用的其父级作用域的。</span><br></pre></td></tr></table></figure>
<p><strong>this实例</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//      一、 this指向详解</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//      this的指向在函数定义的时候是确定不了的， 只有函数执行的时候才能确定this到底指向谁， 实际上this的最终指向的是那个调用它的对象（ 这句话不那么严谨， 作为一般情况下是可以的）</span></span><br><span class="line">    <span class="comment">// 情况1：如果一个函数中有this，但是它没有被上一级的对象所调用，那么this指向的就是window，这里需要说明的是在js的严格版中this指向的不是window，但是我们这里不探讨严格版的问题(在严格版中的默认的this不再是window，而是undefined。)</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> user = <span class="string">"剃了胡子"</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.user); <span class="comment">//undefined</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//Window</span></span><br><span class="line">    &#125;</span><br><span class="line">    a(); <span class="comment">//相当于window.a();</span></span><br><span class="line">    <span class="comment">//this最终指向的是调用它的对象，这里的函数a实际是被Window对象所点出来的</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 情况2：如果一个函数中有this，这个函数有被上一级的对象所调用，那么this指向的就是上一级的对象。</span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        user: <span class="string">"剃了胡子"</span>,</span><br><span class="line">        fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.user); <span class="comment">//剃了胡子</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//&#123;user: "剃了胡子", fn: ƒ&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    o.fn(); <span class="comment">//this执行时被它的上一级对象o&#123;user: "剃了胡子", fn: ƒ&#125;调用</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 情况3：如果一个函数中有this，这个函数中包含多个对象，尽管这个函数是被最外层的对象所调用，this指向的也只是它上一级的对象</span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        a: <span class="number">10</span>,</span><br><span class="line">        b: &#123;</span><br><span class="line">            <span class="comment">//a:12,</span></span><br><span class="line">            fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//undefind  有两个对象b和o,所以此this.a指向它的上一级</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        fn1: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//10 </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    o.fn1();</span><br><span class="line">    o.b.fn();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//      另外还有两种种特殊情况：</span></span><br><span class="line">    <span class="comment">//      第一种：当this遇到return</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//剃了胡子</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//剃了胡子</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//剃了胡子</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 总结：如果返回值是一个对象，那么this指向的就是那个返回的对象，如果返回值不是一个对象那么this还是指向函数的实例。 </span></span><br><span class="line">    <span class="comment">// 还有一点就是虽然null也是对象，但是在这里this还是指向那个函数的实例，因为null比较特殊。 </span></span><br><span class="line">    <span class="comment">// 第二种：</span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        a: <span class="number">10</span>,</span><br><span class="line">        b: &#123;</span><br><span class="line">            a: <span class="number">12</span>,</span><br><span class="line">            fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//undefined</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//window</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> j = o.b.fn;</span><br><span class="line">    j();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 这里this指向的是window，是不是有些蒙了？其实是因为你没有理解一句话，这句话同样至关重要。</span></span><br><span class="line">    <span class="comment">// 　　this永远指向的是最后调用它的对象，也就是看它执行的时候是谁调用的，例子4中虽然函数fn是被对象b所引用，但是在将fn赋值给变量j的时候并没有执行所以最终指向的是window</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://luokeni.github.io/2018/11/20/es6_1/" data-id="cjsim346x001ztcggq9daxscl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/11/25/es6_2/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          ES6笔记2
        
      </div>
    </a>
  
  
    <a href="/2018/11/08/js2/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">js进阶知识点总结2</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/git使用总结/"> git使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/">CSS3</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结1/">CSS3知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结2/">CSS3知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结3/">CSS3知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/">ES6</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记1/">ES6基础知识笔记1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记2/">ES6基础知识笔记2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/">HTML5</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结1/">HTML5知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结2/">HTML5知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结3/">HTML5知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/">jQuery知识点笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结1/">jQuery知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结2/">jQuery知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结3/">jQuery知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/js知识点总结/">js知识点总结</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/js知识点总结/js按需加载时间线/">js按需加载时间线</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js知识点总结/js进阶1/">js进阶1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js知识点总结/js进阶2/">js进阶2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/sass知识点总结/">sass知识点总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/this指向知识点总结/">this指向知识点总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/typora总结/">typora总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack使用总结/">webpack使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/原型及原型链/">原型及原型链</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/">网络知识点总结</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结1/"> 网络基础总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结2/"> 网络基础总结2</a></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/20/sass语法总结/">sass语法总结笔记</a>
          </li>
        
          <li>
            <a href="/2019/01/15/git使用总结/">git使用总结</a>
          </li>
        
          <li>
            <a href="/2019/01/10/webpack工程化/">webpack使用总结</a>
          </li>
        
          <li>
            <a href="/2018/12/31/网络基础_1/">网络基础总结1</a>
          </li>
        
          <li>
            <a href="/2018/12/31/网络知识_2/">网络基础总结2</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 罗此梅（老小孩）<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="https://luokeni.github.io/luocimei/" class="mobile-nav-link">项目主页</a>
  
    <a href="https://github.com/luokeni/luocimei" class="mobile-nav-link">gitHub</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>