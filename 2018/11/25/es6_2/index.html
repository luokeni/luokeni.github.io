<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>ES6笔记2 | 此梅的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="[TOC] 一.ES6对象的扩展1.1 新的对象字面量特性1.1.1 方法的定义1234567891011121314151617var obj = &amp;#123;    a:2,    say:function()&amp;#123;        console.log(&quot;hhh&quot;);    &amp;#125;&amp;#125;obj.say();可以简写成var obj = &amp;#123;    a:2,    s">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6笔记2">
<meta property="og:url" content="https://luokeni.github.io/2018/11/25/es6_2/index.html">
<meta property="og:site_name" content="此梅的博客">
<meta property="og:description" content="[TOC] 一.ES6对象的扩展1.1 新的对象字面量特性1.1.1 方法的定义1234567891011121314151617var obj = &amp;#123;    a:2,    say:function()&amp;#123;        console.log(&quot;hhh&quot;);    &amp;#125;&amp;#125;obj.say();可以简写成var obj = &amp;#123;    a:2,    s">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://luokeni.github.io/2018/11/25/es6_2/es1.png">
<meta property="og:image" content="https://luokeni.github.io/2018/11/25/es6_2/es2.png">
<meta property="og:updated_time" content="2019-02-23T12:36:25.658Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6笔记2">
<meta name="twitter:description" content="[TOC] 一.ES6对象的扩展1.1 新的对象字面量特性1.1.1 方法的定义1234567891011121314151617var obj = &amp;#123;    a:2,    say:function()&amp;#123;        console.log(&quot;hhh&quot;);    &amp;#125;&amp;#125;obj.say();可以简写成var obj = &amp;#123;    a:2,    s">
<meta name="twitter:image" content="https://luokeni.github.io/2018/11/25/es6_2/es1.png">
  
    <link rel="alternate" href="/atom.xml" title="此梅的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">此梅的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">不忘初心</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="https://luokeni.github.io/luocimei/">项目主页</a>
        
          <a class="main-nav-link" href="https://github.com/luokeni/luocimei">gitHub</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://luokeni.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-es6_2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/25/es6_2/" class="article-date">
  <time datetime="2018-11-25T08:28:39.000Z" itemprop="datePublished">2018-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ES6/">ES6</a>►<a class="article-category-link" href="/categories/ES6/ES6基础知识笔记2/">ES6基础知识笔记2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ES6笔记2
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一-ES6对象的扩展"><a href="#一-ES6对象的扩展" class="headerlink" title="一.ES6对象的扩展"></a>一.ES6对象的扩展</h1><h2 id="1-1-新的对象字面量特性"><a href="#1-1-新的对象字面量特性" class="headerlink" title="1.1 新的对象字面量特性"></a>1.1 新的对象字面量特性</h2><h3 id="1-1-1-方法的定义"><a href="#1-1-1-方法的定义" class="headerlink" title="1.1.1 方法的定义"></a>1.1.1 方法的定义</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a:<span class="number">2</span>,</span><br><span class="line">    say:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hhh"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.say();</span><br><span class="line"></span><br><span class="line">可以简写成</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a:<span class="number">2</span>,</span><br><span class="line">    say()&#123;<span class="comment">//这里省略</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hhh"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">     eat:<span class="function"><span class="params">()</span> =&gt;</span><span class="built_in">console</span>.log(<span class="keyword">this</span>.a),<span class="comment">//箭头函数只是缺了个function，不能把 ：省略了。此时其this是window，而不是obj，window中没有a,所以结果是undefined。</span></span><br><span class="line">&#125;</span><br><span class="line">obj.say();</span><br></pre></td></tr></table></figure>
<h3 id="1-1-2-属性的简写"><a href="#1-1-2-属性的简写" class="headerlink" title="1.1.2 属性的简写"></a>1.1.2 属性的简写</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">变量名和属性名一直，就可以简写。</span><br><span class="line"><span class="keyword">let</span> name =<span class="string">"nan"</span>;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        name:name,</span><br><span class="line">        age:<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">只要形式一样就可以简写。     </span><br><span class="line"> <span class="keyword">let</span> name =<span class="string">"nan"</span>;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        name，</span><br><span class="line">        age:<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> c = <span class="number">3</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj);</span><br><span class="line">&#125;</span><br><span class="line">f(&#123;a,b,c&#125;);<span class="comment">//等价 f(&#123;a :a,b : b,c : c&#125;);</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-3-计算属性名"><a href="#1-1-3-计算属性名" class="headerlink" title="1.1.3 计算属性名"></a>1.1.3 计算属性名</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">之前访问变量的方法</span><br><span class="line"><span class="number">1.</span>对象.的形式</span><br><span class="line"><span class="number">2.</span>对象[<span class="string">""</span>]的形式</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a:<span class="number">2</span>,<span class="comment">//属性名就是一个字符串。</span></span><br><span class="line">    b()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(obj.a);</span><br><span class="line">        <span class="built_in">console</span>.log(obj[<span class="string">"a"</span>]);<span class="comment">//obj[a]这样取的是变量a，只能通过字符串去取一个属性</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">obj.b();</span><br><span class="line">输出结果：<span class="number">2</span>，<span class="number">2</span></span><br><span class="line"><span class="comment">//缺点：</span></span><br><span class="line">    <span class="keyword">let</span> a =<span class="string">"name"</span>;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        [a]:<span class="number">2</span>,<span class="comment">//这里a就是一个变量，不仅仅是个字符串，可以是个变量。也可以拼接 [a+1]:2 输出结果即使name1 :2</span></span><br><span class="line">        b()&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(obj);<span class="comment">//Objectb: ƒ b() name: 2</span></span><br><span class="line">            <span class="built_in">console</span>.log(obj[a]);<span class="comment">//2</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-2-新的对象方法"><a href="#1-2-新的对象方法" class="headerlink" title="1.2 新的对象方法"></a>1.2 新的对象方法</h2><h3 id="1-2-1-Object-is"><a href="#1-2-1-Object-is" class="headerlink" title="1.2.1 Object.is"></a>1.2.1 Object.is</h3><p>与===的不同点</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">NaN</span>的处理不一样</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === <span class="literal">NaN</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>,<span class="literal">NaN</span>));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="number">-0</span>和+<span class="number">0</span>的处理不一样</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">-0</span> === +<span class="number">0</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">-0</span>,+<span class="number">0</span>));<span class="comment">// false </span></span><br><span class="line">在处理科学计算和精确计算的时候 <span class="built_in">Object</span>.is(<span class="number">-0</span>,+<span class="number">0</span>)会起到很大的作用</span><br><span class="line">例如： <span class="built_in">console</span>.log(<span class="number">1</span>/+<span class="number">0</span>);<span class="comment">//Infinity</span></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="number">1</span>/<span class="number">-0</span>);<span class="comment">//-Infinity</span></span><br></pre></td></tr></table></figure>
<p>NaN工具方法的实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a !== a)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b !== b)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;     </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">s = f(<span class="literal">NaN</span>,<span class="literal">NaN</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s); <span class="comment">//true</span></span><br><span class="line">s = f(<span class="number">1</span>,<span class="literal">NaN</span>);<span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">可以写成</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a !== a)&#123;</span><br><span class="line">      <span class="keyword">return</span> b !== b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">s = f(<span class="literal">NaN</span>,<span class="literal">NaN</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s); <span class="comment">//true</span></span><br><span class="line">s = f(<span class="number">1</span>,<span class="literal">NaN</span>);<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br></pre></td></tr></table></figure>
<p>+0 和 -0的写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( a === b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">1</span>/a !== <span class="number">1</span>/b)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">s = f(+<span class="number">0</span>,<span class="number">-0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( a === b)&#123;</span><br><span class="line">        <span class="keyword">return</span> !(<span class="number">1</span>/a !== <span class="number">1</span>/b)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">s = f(+<span class="number">0</span>,<span class="number">-0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//false</span></span><br><span class="line">s = f(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<h3 id="1-2-2-Object-setPrototypeOf"><a href="#1-2-2-Object-setPrototypeOf" class="headerlink" title="1.2.2 Object.setPrototypeOf"></a>1.2.2 Object.setPrototypeOf</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    c : <span class="number">3</span>,</span><br><span class="line">    d : <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(obj,obj2);<span class="comment">//把obj的原型给 obj2，也就是在obj的原型上添加obj2。那obj原型上就有obj2这个对象。</span></span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//</span></span><br><span class="line">输出结果是</span><br><span class="line"><span class="built_in">Object</span></span><br><span class="line"> a: <span class="number">1</span></span><br><span class="line"> b: <span class="number">2</span></span><br><span class="line"> __proto__:</span><br><span class="line">  c: <span class="number">3</span></span><br><span class="line">  d: <span class="number">4</span></span><br><span class="line">  __proto__</span><br><span class="line">        </span><br><span class="line">之前设置原型的方法</span><br><span class="line"> obj.__proto__ =obj2;</span><br><span class="line"></span><br><span class="line">两者之间的区别</span><br><span class="line">__proto__是内置属性，为什么可以使用，制定标准的是es6，但是执行的是浏览器</span><br><span class="line">另一种方法：写在ES6标准中的，缺陷不能再次设置对象原型。</span><br><span class="line">obj = <span class="built_in">Object</span>.create(obj2);<span class="comment">//把onj2添加到obj的原型上。</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.c);<span class="comment">//也可以打印出3</span></span><br><span class="line"></span><br><span class="line">如何获取原型属性</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(obj));<span class="comment">//得到obj这个对象</span></span><br></pre></td></tr></table></figure>
<h3 id="1-2-3-Object-assign"><a href="#1-2-3-Object-assign" class="headerlink" title="1.2.3 Object.assign"></a>1.2.3 Object.assign</h3><p>合并对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign(想合并到的对象，被合并对象，被合并对象，...)可以由无数个被合并对象</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    c : <span class="number">3</span>,</span><br><span class="line">    d : <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.assign(obj,obj2);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line">打印出的结果是：<span class="built_in">Object</span></span><br><span class="line">     a: <span class="number">1</span></span><br><span class="line">     b: <span class="number">2</span></span><br><span class="line">     c: <span class="number">3</span></span><br><span class="line">     d: <span class="number">4</span></span><br><span class="line">     __proto__: <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<p>注意对象：复制对象属性（先在自身上去找，没有的话再去原型上找）</p>
<p>   要自身的可遍历的属性，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(obj2,<span class="string">"e"</span>,&#123;</span><br><span class="line">   value : <span class="number">5</span>,</span><br><span class="line">   enumerable : <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(obj2);<span class="comment">//c: 3 d: 4 e: 5 __proto__: Object</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(obj,obj2));<span class="comment">//a: 1 b: 2 c: 3 d: 4 __proto__: Object</span></span><br><span class="line">这里打印的就没有<span class="number">5</span>，因为设置的是不可以遍历的属性，必须是自身可遍历的属性才能复制到上面去。</span><br></pre></td></tr></table></figure>
<p>注意2：复制是一个对象一个对象复制的(如果是相同的属性，后面的会把前面的给覆盖了)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    c : <span class="number">3</span>,</span><br><span class="line">    d : <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj3 = &#123;</span><br><span class="line">    c: <span class="number">8</span>,</span><br><span class="line">    d:<span class="number">9</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj4 = &#123;</span><br><span class="line">    c: <span class="number">10</span>,</span><br><span class="line">    d:<span class="number">90</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(obj,obj2,obj3));<span class="comment">//</span></span><br><span class="line"><span class="built_in">Object</span> a: <span class="number">1</span> b: <span class="number">2</span> c: <span class="number">8</span> d: <span class="number">9</span> __proto__: <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<p>注意点3：复制的时候是浅拷贝</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    c : [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">    d : <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(obj,obj2));</span><br><span class="line">obj2.c.push(<span class="number">7</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line">两个输出结果都是</span><br><span class="line"><span class="comment">//Object</span></span><br><span class="line">a: <span class="number">1</span></span><br><span class="line">b: <span class="number">2</span></span><br><span class="line">c: (<span class="number">5</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>]</span><br><span class="line">d: <span class="number">4</span></span><br><span class="line">__proto__: <span class="built_in">Object</span></span><br><span class="line">发现有我们push进去的那个值，说明就是浅拷贝。说明复制的仅仅是引用值。</span><br></pre></td></tr></table></figure>
<p><strong>函数使用的场景</strong> </p>
<p>场景一：对象复制(是浅拷贝)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj =&#123;</span><br><span class="line">    a:<span class="number">2</span>,</span><br><span class="line">    b:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(&#123;&#125;,obj));</span><br><span class="line"><span class="comment">//Object a: 2 b: 3 __proto__: Object</span></span><br></pre></td></tr></table></figure>
<p>场景二： 原型方法的添加</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.assign(Person.prototype,&#123;</span><br><span class="line">    init()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hhh"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    end()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"kkk"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype);</span><br><span class="line"><span class="comment">//Object</span></span><br><span class="line">end: ƒ end()</span><br><span class="line">init: ƒ init()</span><br><span class="line"><span class="keyword">constructor</span>: ƒ Person(name,age)</span><br><span class="line">__proto__: Object</span><br></pre></td></tr></table></figure>
<p>场景三：函数默认参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> DEFA = &#123;<span class="attr">a</span>:<span class="number">2</span>,<span class="attr">b</span>:<span class="number">3</span>&#125;;<span class="comment">//默认值</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> s = <span class="built_in">Object</span>.assign(&#123;&#125;,DEFA,value);</span><br><span class="line">    <span class="built_in">console</span>.log(s);</span><br><span class="line"> &#125;</span><br><span class="line"> f(&#123;<span class="attr">a</span>:<span class="number">5</span>&#125;);<span class="comment">//如果此处严格为undefined就会使用默认值</span></span><br><span class="line">打印的值是 <span class="built_in">Object</span> a: <span class="number">5</span> b: <span class="number">3</span> __proto__: <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<h2 id="1-3-对象的遍历"><a href="#1-3-对象的遍历" class="headerlink" title="1.3 对象的遍历"></a>1.3 对象的遍历</h2><h3 id="1-3-1-Object-keys"><a href="#1-3-1-Object-keys" class="headerlink" title="1.3.1 Object.keys"></a>1.3.1 Object.keys</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">遍历出来对象的属性名</span><br><span class="line">     <span class="keyword">let</span> obj = &#123;</span><br><span class="line">            a:<span class="number">1</span>,</span><br><span class="line">            b:<span class="number">2</span>,</span><br><span class="line">            c:<span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="built_in">Object</span>.keys(obj));</span><br><span class="line"><span class="comment">//返回的是数组 Array(3)</span></span><br><span class="line">    <span class="number">0</span>: <span class="string">"a"</span></span><br><span class="line">                <span class="number">1</span>: <span class="string">"b"</span></span><br><span class="line">                <span class="number">2</span>: <span class="string">"c"</span> </span><br><span class="line">                length: <span class="number">3</span></span><br><span class="line">                __proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h3 id="1-3-2-Object-values-es2017"><a href="#1-3-2-Object-values-es2017" class="headerlink" title="1.3.2 Object.values(es2017)"></a>1.3.2 Object.values(es2017)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">遍历出来对象的属性值</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span>,</span><br><span class="line">    c:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="built_in">Object</span>.values(obj));</span><br><span class="line"><span class="comment">//Array(3) 0: 1 1: 2 2: 3 length: 3 __proto__: Array(0)</span></span><br></pre></td></tr></table></figure>
<h3 id="1-3-3-Object-entries-es2017"><a href="#1-3-3-Object-entries-es2017" class="headerlink" title="1.3.3 Object.entries(es2017)"></a>1.3.3 Object.entries(es2017)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">遍历出来键对值</span><br><span class="line">        <span class="keyword">let</span> obj = &#123;</span><br><span class="line">            a:<span class="number">1</span>,</span><br><span class="line">            b:<span class="number">2</span>,</span><br><span class="line">            c:<span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="built_in">Object</span>.entries(obj));</span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>) <span class="number">0</span>: [<span class="string">"a"</span>, <span class="number">1</span>] <span class="number">1</span>: [<span class="string">"b"</span>, <span class="number">2</span>] <span class="number">2</span>: [<span class="string">"c"</span>, <span class="number">3</span>] length: <span class="number">3</span> __proto__: <span class="built_in">Array</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h1 id="二-类的基础使用语法"><a href="#二-类的基础使用语法" class="headerlink" title="二 类的基础使用语法"></a>二 类的基础使用语法</h1><img src="/2018/11/25/es6_2/es1.png">
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">左侧两个是类，右面两个是对象。</span><br><span class="line">这是<span class="keyword">java基于类的表达：会把类里面的东西 </span>直接复制给对象</span><br><span class="line"><span class="keyword">java中类是一个真实的东西</span></span><br></pre></td></tr></table></figure>
<img src="/2018/11/25/es6_2/es2.png">
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JavaScript的核心思想是：连接，其实就是实例对象与原型直接的连接关系。只是连接的匹配。</span><br></pre></td></tr></table></figure>
<h2 id="2-1-ES6中的仿类结构"><a href="#2-1-ES6中的仿类结构" class="headerlink" title="2.1 ES6中的仿类结构"></a>2.1 ES6中的仿类结构</h2><h3 id="2-1-1-ES5中的构造器（自定义类型）"><a href="#2-1-1-ES5中的构造器（自定义类型）" class="headerlink" title="2.1.1 ES5中的构造器（自定义类型）"></a>2.1.1 ES5中的构造器（自定义类型）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.bark = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`你好，我叫<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"kkkk"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> per = <span class="keyword">new</span> Person(<span class="string">"renzhi"</span>,<span class="number">34</span>);</span><br><span class="line">    per.bark();</span><br><span class="line">    per.say();</span><br><span class="line">输出：你好，我叫renzhi</span><br><span class="line"> <span class="number">19</span> kkkk</span><br></pre></td></tr></table></figure>
<h3 id="2-1-2-ES6中"><a href="#2-1-2-ES6中" class="headerlink" title="2.1.2 ES6中"></a>2.1.2 ES6中</h3><p><strong>类的声明：基本的类声明</strong></p>
<ol>
<li>类声明以class关键字开始 然后是类的名字  </li>
<li>剩余部分像是对象字面量的简写</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">            <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">                <span class="keyword">this</span>.name = name;</span><br><span class="line">                <span class="keyword">this</span>.age = age;</span><br><span class="line">            &#125;<span class="comment">//一定记着没有逗号的</span></span><br><span class="line">            bark()&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`我叫做<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            eat()&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">"chifanla"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> per1 = <span class="keyword">new</span> Person(<span class="string">"lili"</span>,<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">const</span> per2 = <span class="keyword">new</span> Person(<span class="string">"hh"</span>,<span class="number">34</span>);</span><br><span class="line">        per1.bark();</span><br><span class="line">        per1.eat();</span><br><span class="line">        per2.bark();</span><br><span class="line">        per2.eat();</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> Person)；</span><br><span class="line">        <span class="built_in">console</span>.log(Person.prototype);</span><br><span class="line">打印的结果是： 我叫做lili</span><br><span class="line">    chifanla</span><br><span class="line">    我叫做hh</span><br><span class="line">    chifanla</span><br><span class="line">   <span class="function"><span class="keyword">function</span>//<span class="title">typeof</span> <span class="title">Person</span> 本质上还是一个函数。</span></span><br><span class="line"><span class="function">            <span class="title">Object</span></span></span><br><span class="line"><span class="function">                <span class="title">bark</span>: ƒ <span class="title">bark</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">                <span class="title">constructor</span>: <span class="title">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="function">                <span class="title">eat</span>: ƒ <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">                <span class="title">__proto__</span>: <span class="title">Object</span></span></span><br></pre></td></tr></table></figure>
<p><strong>类语法注意事项</strong></p>
<ol>
<li>类声明不会被提升</li>
<li>类声明中的代码都自动运行在严格模式下</li>
<li>调用类必须使用new                                                                                                  </li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age =age;</span><br><span class="line">    &#125;</span><br><span class="line">    bark()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`我今天很不开心<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    eat()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`我今年<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dog1 = <span class="keyword">new</span> Dog(<span class="string">"lili"</span>,<span class="number">19</span>);</span><br><span class="line">dog2 = Dog(<span class="string">"li"</span>,<span class="number">24</span>);<span class="comment">//报错，没有使用new来声明。</span></span><br><span class="line">dog.bark();</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>类中所有的方法都是不可枚举的</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">不可以被遍历出来</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> per1)&#123;<span class="comment">//例子在上面</span></span><br><span class="line">    <span class="built_in">console</span>.log(prop);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//只能打印出 name age 不可以遍历出来方法，而bark和eat方法没有打印出来。</span></span><br></pre></td></tr></table></figure>
<ol start="5">
<li><p>类中的方法是不能用new调用的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> per1.bark();<span class="comment">//这是不允许的，正常方法是可以的，但是定义在class里面的是不可以的。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在类的方法中重写类名报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在类里面，类名是个常量不可以被更改，</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>如何实现以上的特点（使用的是ES5的方法）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">首先应该是封装好的一种语法，应该立即使用立即执行函数去构建一个封闭的作用域，使外界无法访问里面的作用域。</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Dog = ( <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> Dog = <span class="function"><span class="keyword">function</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(! <span class="keyword">this</span> <span class="keyword">instanceof</span> Dog)&#123;<span class="comment">//实例对象不是Dog的时候就抛出错误</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"使用new调用"</span>);</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(Dog.prototype,<span class="string">'bark'</span>,&#123;</span><br><span class="line">        value :<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> Dog.prototype.bark)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"不能使用new调用"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`你真的叫<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        enumerable:<span class="literal">false</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> Dog;<span class="comment">//这里必须return  相当于暴露出去，否则无法外面无法调用。</span></span><br><span class="line"></span><br><span class="line">&#125; ());</span><br><span class="line"> <span class="keyword">let</span> s = <span class="keyword">new</span> Dog(<span class="string">"hh"</span>,<span class="number">18</span>);</span><br><span class="line">    s.bark();</span><br><span class="line">    <span class="keyword">new</span> s.bark();<span class="comment">//这里会报错的 不可以使用new来调用方法</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> s)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(prop);<span class="comment">//方法是不可以枚举的  所以只要name和age</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>类表达式 </strong>(就不是声明了)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  Cat = <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;   </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> xiao = <span class="keyword">new</span> Cat(<span class="number">10</span>);<span class="comment">//输出10</span></span><br></pre></td></tr></table></figure>
<p><strong>类是一等公民</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">可以作为参数传给函数</span><br><span class="line">能作为函数返回值</span><br><span class="line">能给变量赋值</span><br></pre></td></tr></table></figure>
<p><strong>静态成员</strong></p>
<p>通过构造函数点的形式调用的方法就是静态方法。<br>内置函数上都有静态方法。所有的东西都是对象<br>可以把静态方法写在当前的class里面。（static）<br>为了区分与原型方法区分。<br>使用static进行区分</p>
<p>getter 和 setter<br>setter设置属性，getter获取属性</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">例如： <span class="function"><span class="keyword">get</span> <span class="title">info</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="string">'hhh'</span>;</span><br><span class="line">   &#125;</span><br><span class="line">    <span class="function"><span class="keyword">set</span> <span class="title">hi</span>(<span class="params"><span class="keyword">value</span></span>)</span>&#123;<span class="comment">//设置属性</span></span><br><span class="line">           <span class="keyword">this</span>.name = <span class="keyword">value</span>；</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="三-类的继承"><a href="#三-类的继承" class="headerlink" title="三 类的继承"></a>三 类的继承</h1><h2 id="3-1-ES5中的仿类结构的继承"><a href="#3-1-ES5中的仿类结构的继承" class="headerlink" title="3.1 ES5中的仿类结构的继承"></a>3.1 ES5中的仿类结构的继承</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Person的构造函数</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//Person的原型对象上的方法</span></span><br><span class="line">        Person.prototype.play = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'打球'</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//Subject的构造函数</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">Subject</span>(<span class="params">age</span>)</span>&#123;</span><br><span class="line">            Person.call(<span class="keyword">this</span>,name);<span class="comment">//通过使用call调用Person构造函数中的属性</span></span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//Subject的原型，指向了Person的原型上</span></span><br><span class="line">        Subject.prototype = Person.prototype;</span><br><span class="line"><span class="comment">//Subject的原型对象上的方法</span></span><br><span class="line">         Subject.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'今天吃饺子'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> sub1 = <span class="keyword">new</span> Person(<span class="string">'cimei'</span>);</span><br><span class="line">        <span class="keyword">var</span> sub2 = <span class="keyword">new</span> Subject(<span class="string">'cimei'</span>,<span class="number">18</span>);</span><br><span class="line">        sub2.play();<span class="comment">//打球</span></span><br><span class="line">        sub2.eat();<span class="comment">//今天吃饺子啦</span></span><br><span class="line"> <span class="built_in">console</span>.log(Subject.prototype.constructor)<span class="comment">//输出的是Person，而不是Subject</span></span><br></pre></td></tr></table></figure>
<p>以上方法是可以实现继承，但是Subject在更改prototype的时候，丢失了自己的构造函数。此时指向了Person</p>
<p>解决办法：可以在更改原型的时候，设置一下</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Subject</span>.proto<span class="keyword">type</span>.constructor = <span class="type">Subject</span>;</span><br></pre></td></tr></table></figure>
<p>但是由于Subject.prototype = Person.prototype;所以导致Person的constructor也会指向Subject</p>
<p>最终的解决方案 ：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Subject的原型，指向新创建的Person的原型上，自身找不到的时候，在其原型上找，原型上是个空对象也没有，再继续向上找，就会找到Person上，所以设置一下Subject的原型，这样的话，在其原型上找不到就不会继续向上找了。</span></span><br><span class="line">        <span class="comment">// Subject.prototype = Person.prototype;</span></span><br><span class="line">        Subject.prototype = <span class="built_in">Object</span>.create(Person.prototype)</span><br><span class="line"></span><br><span class="line">        Subject.prototype.constructor = Subject;</span><br></pre></td></tr></table></figure>
<h2 id="3-2-ES6中class继承"><a href="#3-2-ES6中class继承" class="headerlink" title="3.2 ES6中class继承"></a>3.2 ES6中class继承</h2><h3 id="3-1-1-extends"><a href="#3-1-1-extends" class="headerlink" title="3.1.1 extends"></a>3.1.1 extends</h3><pre><code>复制父级的类
</code></pre><h3 id="3-1-2-super的使用"><a href="#3-1-2-super的使用" class="headerlink" title="3.1.2 super的使用"></a>3.1.2 super的使用</h3><p>子类调用父类，如果想用其构造函数中的属性，必须使用super(),才可以使用其this。并传一些参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> (name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    play()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'打球'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    eat()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'面包'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> Info()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'我是一个静态方法'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Subject</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);<span class="comment">//调用父级的东西需要传值</span></span><br><span class="line">    <span class="comment">//子类必须要借助父类才有this指向 ，首先获取父类的一些属性再加上子类的属性</span></span><br><span class="line">        <span class="keyword">this</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> sub1 = <span class="keyword">new</span> Subject(<span class="string">'cimei'</span>,<span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log( sub1.name);</span><br></pre></td></tr></table></figure>
<h2 id="3-2-静态方法的继承"><a href="#3-2-静态方法的继承" class="headerlink" title="3.2 静态方法的继承"></a>3.2 静态方法的继承</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">上述可以通过Subject.Info()调用这个方法</span><br></pre></td></tr></table></figure>
<h2 id="3-3-继承内置构造函数"><a href="#3-3-继承内置构造函数" class="headerlink" title="3.3 继承内置构造函数"></a>3.3 继承内置构造函数</h2><p>extends的常用方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">moviesAll</span> <span class="keyword">extends</span> <span class="title">Array</span></span>&#123;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">constructor</span>(name,...movies)&#123;<span class="comment">//以数组的形式传入</span></span><br><span class="line">        <span class="keyword">super</span>(...movies)<span class="comment">//拆开数组，继承每一个</span></span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    add(movie)&#123;</span><br><span class="line">        <span class="keyword">this</span>.push(movie);</span><br><span class="line">    &#125;</span><br><span class="line">    topStar(num)&#123;</span><br><span class="line">     <span class="keyword">return</span>  <span class="keyword">this</span>.sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;<span class="keyword">return</span> a.star &gt; b.star ? <span class="number">-1</span> : <span class="number">1</span>&#125;).slice(<span class="number">0</span>,num);<span class="comment">//排序后返回</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> movies = <span class="keyword">new</span> moviesAll(<span class="string">'我最喜欢看的几个电影'</span>,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'你好'</span>, <span class="attr">star</span>:<span class="number">8</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'7号病房的礼物'</span>,<span class="attr">star</span>:<span class="number">10</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'未知死亡'</span>,<span class="attr">star</span>:<span class="number">9.8</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'战狼'</span>,<span class="attr">star</span>:<span class="number">6</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'李茶的姑妈'</span>,<span class="attr">star</span>:<span class="number">7</span>&#125;,</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="四-模块化"><a href="#四-模块化" class="headerlink" title="四 模块化"></a>四 模块化</h1><h2 id="4-1-浅谈模块化"><a href="#4-1-浅谈模块化" class="headerlink" title="4.1 浅谈模块化"></a>4.1 浅谈模块化</h2><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Css</span> @<span class="keyword">import</span></span><br><span class="line"><span class="title">es5</span>标准之前是没有模块化</span><br><span class="line">自己造 蛮荒时代 百家争鸣</span><br></pre></td></tr></table></figure>
<h3 id="4-1-1-立即执行函数存在的问题"><a href="#4-1-1-立即执行函数存在的问题" class="headerlink" title="4.1.1 立即执行函数存在的问题"></a>4.1.1 立即执行函数存在的问题</h3><p><strong>第一个问题</strong>：没有完全解决全局变量污染</p>
<p>ES5中会造成污染，使用立即执行函数解决这个问题，封装在自己的作用域内。如果想让外界使用的话，就暴露出来，使用window.函数  = 函数。</p>
<p>而以上方法只是解决了一点点这个问题，另外的js文件也是可以访问被暴露出来的函数，那为什么说解决了一点点呢？因为立即执行函数中有一些内置函数是没有暴露出来的，所以，外部不可以访问。所以这种污染全局变量的问题并没有完全解决。</p>
<p><strong>第二个问题</strong>：我们需要考虑script加载顺序</p>
<p>依赖js文件的加载顺序，上面的js文件中访问不到下面js文件中的函数 。</p>
<p>举例说明：在node 中 每个js文本都是独立的作用域。</p>
<p>如何使用呢?</p>
<p>暴露出来函数：使用module.exports = {函数名//比如add}，</p>
<p>想用的话，要引入</p>
<p>var add = require(“add.js”)</p>
<h3 id="4-1-2-模块化基本语法"><a href="#4-1-2-模块化基本语法" class="headerlink" title="4.1.2 模块化基本语法"></a>4.1.2 模块化基本语法</h3><p>es6当中知道定义了语法,但是没有定义我们的加载方式。(各个浏览器可能有兼容问题)</p>
<p><strong>导出 export</strong></p>
<p><strong>导入 import</strong></p>
<h2 id="4-2-加载模块"><a href="#4-2-加载模块" class="headerlink" title="4.2 加载模块"></a>4.2 加载模块</h2><h1 id="五-ES6对数组的扩展（集合）"><a href="#五-ES6对数组的扩展（集合）" class="headerlink" title="五.ES6对数组的扩展（集合）"></a>五.ES6对数组的扩展（集合）</h1><h2 id="5-1-增强的数组功能"><a href="#5-1-增强的数组功能" class="headerlink" title="5.1 增强的数组功能"></a>5.1 增强的数组功能</h2><h3 id="5-1-1-创建数组"><a href="#5-1-1-创建数组" class="headerlink" title="5.1.1 创建数组"></a>5.1.1 创建数组</h3><p><strong>Array.of</strong></p>
<p>这个方法是定义在Array上的，所以只能通过Array点的形式来调用。</p>
<p>之前创建数组的两种方式：</p>
<p>1.字面量形式的 arr = [1,2,3,4];</p>
<p>2.通过new一个构造函数创建 arr = new Array(1,2,3,4);</p>
<p>为什么要新增创建数组的形式呢？</p>
<p> arr = new Array(10);加入这里面只传入一个参数，这个参数是长度，而不是元素。表示10个空的元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//输出是长度为10的空数组</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Array</span>.of(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//输出的是长度为1，元素为3的数组。</span></span><br></pre></td></tr></table></figure>
<p><strong>Array.from</strong>（推荐）</p>
<p>第一种用法：DOM节点操作</p>
<p>主要作用是转化类数组，主要针对 DOM节点，和arguments</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oP = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);<span class="comment">//类数组，是个集合的形式</span></span><br><span class="line"><span class="keyword">let</span> oP = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);<span class="comment">//HTMLCollection(3) [p, p, p],是个集合，是没有map方法的，想使用的话，要将其转化为数组</span></span><br><span class="line">oP.map(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item.textCont;<span class="comment">//会报错，报错信息是oP.map不是一个函数</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.from(oP);使用</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> oP = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);</span><br><span class="line">        <span class="keyword">let</span> oParr = <span class="built_in">Array</span>.from(oP);</span><br><span class="line">        <span class="keyword">let</span> s = oParr.map(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> item.textContent;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">console</span>.log(s)；<span class="comment">//打印出的是p中的内容，以数组的形式</span></span><br></pre></td></tr></table></figure>
<p>Array.from(参数一，参数二);参数一是要转为数组的目标，参数二是一个回调函数，这个回调函数对转化完的数组进行相应的操作。</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let oP = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);</span><br><span class="line">    let oParr = Array.<span class="keyword">from</span>(oP,<span class="function"><span class="params">(item)</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> item.textContent;</span><br><span class="line">    &#125;);</span><br><span class="line">在控制台，调用oParr <span class="regexp">//</span>返回(<span class="number">3</span>) [<span class="string">"hh"</span>, <span class="string">"kk"</span>, <span class="string">"ll"</span>]</span><br></pre></td></tr></table></figure>
<p><strong>reduce方法</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">reduce（）;相当于一个函数累加器，接受一个回调函数的结果，然后将前一次的函数结果再和下一次的数据再次执行此回调函数.</span><br><span class="line"></span><br><span class="line">reduce(<span class="function"><span class="keyword">function</span>(<span class="params">previousValue,currentValue,index,array</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">　　<span class="keyword">return</span> xxx  <span class="comment">//需要执行的函数结果，</span></span><br><span class="line"></span><br><span class="line">　　previousValue---------上一次的值-</span><br><span class="line"></span><br><span class="line">    currentValue---------当前值</span><br><span class="line"></span><br><span class="line">    index------当前值的索引</span><br><span class="line"></span><br><span class="line">    array-------数组</span><br><span class="line"></span><br><span class="line">&#125;)；</span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a+b;&#125;);</span><br><span class="line">例如：</span><br><span class="line"><span class="keyword">var</span> flattened = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> a.concat(b);</span><br><span class="line">&#125;, []);</span><br><span class="line"><span class="comment">// flattened == [0, 1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">pre,cur</span>)</span>&#123;<span class="keyword">return</span> pre + cur&#125;); <span class="comment">// return 10</span></span><br></pre></td></tr></table></figure>
<p>与forEach方法和map方法实现的区别</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;sum += e;&#125;); <span class="comment">// sum = 10  just for demo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line">arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;sum += obj&#125;);<span class="comment">//return undefined array. sum = 10  just for demo</span></span><br></pre></td></tr></table></figure>
<p>第二个用法：arguments的使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>).reduce(<span class="function">(<span class="params">item,sum</span>)=&gt;</span>&#123;</span><br><span class="line">         <span class="keyword">return</span> sum += item;</span><br><span class="line">     &#125;,<span class="number">0</span>)<span class="comment">//这里传入sum的初始值0。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">6</span>));<span class="comment">//输出27</span></span><br></pre></td></tr></table></figure>
<p>第三种用法：数组浅拷贝上</p>
<p>首先回忆一下浅拷贝的方法（如果这里面写的是个对象的话，会把引用值赋值给两个数组）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">let</span> arr1 = arr.concat();</span><br><span class="line">    <span class="keyword">let</span> arr2 = arr.slice();</span><br><span class="line">    arr.push(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(arr);<span class="comment">//Array(5) 0: 1 1: 2 2: 3 3: 4 4: 5 length: 5__proto__: Array(0)</span></span><br><span class="line">    <span class="built_in">console</span>.log(arr1);<span class="comment">//Array(4) 0: 1 1: 2 2: 3 3: 4 length: 4__proto__: Array(0)</span></span><br><span class="line">    <span class="built_in">console</span>.log(arr2);<span class="comment">//Array(4)0: 1 1: 2 2: 3 3: 4 length: 4__proto__: Array(0)</span></span><br><span class="line">产生的是个新数组。</span><br></pre></td></tr></table></figure>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr4 = Array.<span class="keyword">from</span>(arr);</span><br><span class="line">也是浅拷贝的一个方法</span><br></pre></td></tr></table></figure>
<h3 id="5-1-2-数组新方法"><a href="#5-1-2-数组新方法" class="headerlink" title="5.1.2 数组新方法"></a>5.1.2 数组新方法</h3><p><strong>find</strong>  查找数组有没有我们想要的东西，根据条件只找一个数据，找到后，立即返回，不会继续执行下面的代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> obj = [</span><br><span class="line">       &#123;</span><br><span class="line">           name:<span class="string">"lcm"</span>,</span><br><span class="line">           age:<span class="number">23</span></span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">           name:<span class="string">"zlk"</span>,</span><br><span class="line">           age:<span class="number">34</span></span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">           name: <span class="string">"kk"</span>,</span><br><span class="line">           age:<span class="number">13</span></span><br><span class="line">       &#125;</span><br><span class="line">   ];</span><br><span class="line">   <span class="built_in">console</span>.log(   obj.find(<span class="function">(<span class="params">item,index,obj</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(item,index,arr)//返回的是obj这个数组</span></span><br><span class="line">       <span class="keyword">return</span> item.name === <span class="string">"zlk"</span>;<span class="comment">//此处为true则返回当前数据，如果为false就继续向下执行。此处写判断条件。   如果有两个相同的值，当找到第一个的时候就不会继续向下执行。</span></span><br><span class="line">   &#125;))</span><br><span class="line">输出的是 <span class="built_in">Object</span>  age: <span class="number">34</span> name: <span class="string">"zlk"</span> __proto__: <span class="built_in">Object</span></span><br><span class="line"></span><br><span class="line">以上可以使用简写的方式</span><br><span class="line">一个语句大括号省掉，<span class="keyword">return</span>也要去掉</span><br><span class="line"><span class="built_in">console</span>.log( obj.filter(<span class="function">(<span class="params">item,index,arr</span>)=&gt;</span>item.name === <span class="string">"zlk"</span>))</span><br></pre></td></tr></table></figure>
<p>想要匹配所有的数据使用filter方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log( obj.filter(<span class="function">(<span class="params">item,index,arr</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(item,index,arr)</span></span><br><span class="line">    <span class="keyword">return</span> item.name === <span class="string">"zlk"</span>;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>
<p><strong>findIndex</strong></p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">和<span class="built_in">find</span>的用法一致，不过返回的是索引。</span><br></pre></td></tr></table></figure>
<p><strong>fill</strong>  用来填充数据的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line">arr.fill(<span class="number">1</span>);<span class="comment">//此时输出arr就是长度为10，元素都为1的数组</span></span><br></pre></td></tr></table></figure>
<p>fill(填充值，填充起始位的索引，填充的的结束位索引) 这里要注意填充位的结束位只能到其前一位，比如是 5，那么只能填充到其索引位为4的位置。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let arr = new Array(<span class="number">10</span>);</span><br><span class="line">arr.fill(<span class="number">1</span>,<span class="number">4</span>,<span class="number">8</span>);<span class="comment">//(10) [empty × 4, 1, 1, 1, 1, empty × 2]</span></span><br></pre></td></tr></table></figure>
<p><strong>copyWithin</strong></p>
<p>数组内部进行的复制，先选取一个区间，再进行平铺复制，会把之后的元素覆盖。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">copyWithin(要放到的位置，区间起始索引，区间结束索引)<span class="comment">//注意的是结束也是其前一位。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">arr.copyWithin(<span class="number">1</span>,<span class="number">4</span>,<span class="number">8</span>);<span class="comment">//(9) [1, 5, 6, 7, 8, 6, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>
<p><strong>some </strong></p>
<p>只要有一项满足条件，就会返回true</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">20</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">43</span>];</span><br><span class="line"><span class="built_in">console</span>.log(   arr.some(<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value &gt;=<span class="number">20</span>;</span><br><span class="line">&#125;))</span><br><span class="line">返回的是<span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p><strong>every</strong></p>
<p>every的使用和some的是一致的，但是必须每一项都要满足条件，才会返回true。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">20</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">43</span>];</span><br><span class="line"><span class="built_in">console</span>.log( arr.every(<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value &gt;=<span class="number">20</span>;</span><br><span class="line">&#125;))</span><br><span class="line">返回的是<span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p><strong>includes</strong>  和 String.prototype.includes<br>之前查找元素使用的是indexof ，查找某个元素，有的话返回1，没有的话返回-1</p>
<p>那么想让返回true呢？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="number">3</span>))<span class="comment">//返回的是个true</span></span><br><span class="line">使用这种方法<span class="literal">NaN</span>是相等的。</span><br><span class="line">而indexof是不相等的。</span><br><span class="line">—<span class="number">0</span>和+<span class="number">0</span>也是相等的，没有区分的。</span><br></pre></td></tr></table></figure>
<h1 id="六-迭代器-Iterator"><a href="#六-迭代器-Iterator" class="headerlink" title="六. 迭代器 Iterator"></a>六. 迭代器 Iterator</h1><p>以上方法没有关于数组循环的方法，不是因为没有这个方法。</p>
<p>而是因为新增了迭代器，是个统一的接口。</p>
<h2 id="6-1-以前for循环的缺陷"><a href="#6-1-以前for循环的缺陷" class="headerlink" title="6.1 以前for循环的缺陷"></a>6.1 以前for循环的缺陷</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">let</span> colors = [<span class="string">'yellow'</span>,<span class="string">'blue'</span>,<span class="string">'red'</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; colors.length; i++)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(colors[i]);</span><br><span class="line">            <span class="keyword">if</span>(colors[i] == <span class="string">'yellow'</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">缺点一</span><br><span class="line"><span class="comment">//1.对于初学者，理解方面比较差，为什么要循环索引呢？不通过数组直接获取元素呢</span></span><br><span class="line"><span class="comment">//2.这个i变量不好管理。里面如果再嵌套一个循环，使用j，写着写着就串了。如何解决这个问题呢?</span></span><br><span class="line">forEach  和map 方法。</span><br><span class="line"><span class="keyword">let</span> colors = [<span class="string">'yellow'</span>,<span class="string">'blue'</span>,<span class="string">'red'</span>];</span><br><span class="line">colors.forEach(<span class="function">(<span class="params">item,index,arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item);</span><br><span class="line">    <span class="keyword">if</span>(item == <span class="string">'yellow'</span>)&#123;<span class="comment">//会报错</span></span><br><span class="line">                <span class="keyword">break</span>;<span class="comment">//不可以有任何的中断。continue也不好使</span></span><br><span class="line">            &#125;</span><br><span class="line">&#125;);</span><br><span class="line">以上是可以解决循环问题了，但是还存在问题。</span><br><span class="line"></span><br><span class="line">缺点二：</span><br><span class="line">不能跳出此次循环！！！<span class="keyword">for</span>循环可以</span><br><span class="line">如果取到目标值，还要继续执行函数。</span><br><span class="line"></span><br><span class="line">缺点三：可以循环出来，不是我们当前索引的值。方法也可以索引出来。</span><br><span class="line"><span class="keyword">for</span>...in ...循环 <span class="comment">//缺陷是 会把我们不想要的新方法也遍历出来，只想要数组中的索引值遍历出来。</span></span><br><span class="line">     colors.sex = <span class="string">"male"</span>;<span class="comment">//添加的新方法</span></span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> colors)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(colors[prop]);</span><br><span class="line">        &#125;<span class="comment">//循环出来的prop是索引值。</span></span><br></pre></td></tr></table></figure>
<h2 id="6-2-迭代器的实现原理（仿写）"><a href="#6-2-迭代器的实现原理（仿写）" class="headerlink" title="6.2 迭代器的实现原理（仿写）"></a>6.2 迭代器的实现原理（仿写）</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">迭代器是什么？ 统一的接口</span><br><span class="line"></span><br><span class="line">它是一个对象</span><br><span class="line"></span><br><span class="line">对象里面有<span class="selector-tag">next</span>方法</span><br><span class="line"></span><br><span class="line">每次调用这个方法就会输出数据结构的的成员</span><br><span class="line"></span><br><span class="line">第一次输出第一个成员，第二次输出第二个，已此类推</span><br><span class="line"></span><br><span class="line">输出成员的形式为&#123;<span class="attribute">value</span>:值,done:true/false&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">'yellow'</span>,<span class="string">'blue'</span>,<span class="string">'red'</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createIterator</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        next()&#123;</span><br><span class="line">            <span class="keyword">return</span>  index &lt; arr.length ? &#123;<span class="attr">value</span>: arr[index++], <span class="attr">done</span>:<span class="literal">false</span>&#125;:&#123;<span class="attr">value</span>: <span class="literal">undefined</span>,<span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">let</span> iterator = createIterator(colors);</span><br><span class="line">在控制台输出</span><br><span class="line">iterator.next();</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"yellow"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">iterator.next();</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"blue"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">iterator.next();</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"red"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">iterator.next();</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-3-默认迭代器"><a href="#6-3-默认迭代器" class="headerlink" title="6.3 默认迭代器"></a>6.3 默认迭代器</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">'yellow'</span>,<span class="string">'blue'</span>,<span class="string">'red'</span>];</span><br><span class="line"><span class="comment">//s = colors[Symbol.iterator];//此时是个原生的函数</span></span><br><span class="line"><span class="comment">//console.log(s);//打印出来是一个函数。</span></span><br><span class="line">s = colors[<span class="built_in">Symbol</span>.iterator]();<span class="comment">//执行</span></span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//打印出来的是Array                              Iterator__proto__: Array Iterator</span></span><br><span class="line"></span><br><span class="line">控制台输出</span><br><span class="line">s.next()<span class="comment">//&#123;value: "yellow", done: false&#125;</span></span><br><span class="line">s.next()<span class="comment">//&#123;value: "blue", done: false&#125;</span></span><br><span class="line">s.next()<span class="comment">//&#123;value: "red", done: false&#125;</span></span><br><span class="line">s.next()<span class="comment">//&#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="6-3-1-通过迭代器遍历aguments"><a href="#6-3-1-通过迭代器遍历aguments" class="headerlink" title="6.3.1 通过迭代器遍历aguments"></a>6.3.1 通过迭代器遍历aguments</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        f(<span class="number">12</span>,<span class="number">2</span>,<span class="number">3</span>)；</span><br><span class="line">输出：Arguments(<span class="number">3</span>)</span><br><span class="line"><span class="number">0</span>: <span class="number">12</span></span><br><span class="line"><span class="number">1</span>: <span class="number">2</span></span><br><span class="line"><span class="number">2</span>: <span class="number">3</span></span><br><span class="line">callee: ƒ f()</span><br><span class="line">length: <span class="number">3</span></span><br><span class="line"><span class="built_in">Symbol</span>(<span class="built_in">Symbol</span>.iterator): ƒ values()</span><br><span class="line">__proto__: <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             s = <span class="built_in">arguments</span>[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line">        &#125;</span><br><span class="line">        f(<span class="number">12</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">控制台输出：s.next()</span><br><span class="line">        &#123;<span class="attr">value</span>: <span class="number">12</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">        s.next()</span><br><span class="line">        &#123;<span class="attr">value</span>: <span class="number">2</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">        s.next()</span><br><span class="line">        &#123;<span class="attr">value</span>: <span class="number">3</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">        s.next()</span><br><span class="line">        &#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-2-DOM操作"><a href="#6-3-2-DOM操作" class="headerlink" title="6.3.2 DOM操作"></a>6.3.2 DOM操作</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oP = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(oP);<span class="comment">//打印出是个集合HTMLCollection(5)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = oP[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.log(s.next())<span class="comment">//就可以把DOM节点遍历出来</span></span><br></pre></td></tr></table></figure>
<h3 id="6-3-3-字符串遍历"><a href="#6-3-3-字符串遍历" class="headerlink" title="6.3.3 字符串遍历"></a>6.3.3 字符串遍历</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let str = <span class="string">"hkl"</span>;</span><br><span class="line">let s = str[Symbol.iterator]();</span><br><span class="line"><span class="comment">//控制台运行s.next()</span></span><br><span class="line">&#123;<span class="string">value:</span> <span class="string">"h"</span>, <span class="string">done:</span> <span class="literal">false</span>&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;<span class="string">value:</span> <span class="string">"k"</span>, <span class="string">done:</span> <span class="literal">false</span>&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;<span class="string">value:</span> <span class="string">"l"</span>, <span class="string">done:</span> <span class="literal">false</span>&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;<span class="string">value:</span> undefined, <span class="string">done:</span> <span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-4-对象是没有这个内置的迭代器"><a href="#6-3-4-对象是没有这个内置的迭代器" class="headerlink" title="6.3.4 对象是没有这个内置的迭代器"></a>6.3.4 对象是没有这个内置的迭代器</h3><h2 id="6-4-迭代器的使用场景"><a href="#6-4-迭代器的使用场景" class="headerlink" title="6.4 迭代器的使用场景"></a>6.4 迭代器的使用场景</h2><h3 id="6-4-1-for-of循环-（使用的比较多）"><a href="#6-4-1-for-of循环-（使用的比较多）" class="headerlink" title="6.4.1 for of循环 （使用的比较多）"></a>6.4.1 for of循环 （使用的比较多）</h3><p>其实它的底层就是调用迭代器,这里就不用调用.next()方法（自动调出来）</p>
<p><strong>字符串的使用</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"hkl"</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> s <span class="keyword">of</span> str)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//h  k l</span></span><br><span class="line"></span><br><span class="line">解决了两个问题：</span><br><span class="line"><span class="number">1.</span>语义化比较好理解</span><br><span class="line"><span class="number">2.</span>当遍历到目标的时候，可以使用<span class="keyword">break</span></span><br><span class="line">       <span class="keyword">let</span> str = <span class="string">"hkl"</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> s <span class="keyword">of</span> str)&#123;</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">if</span>(s === <span class="string">'k'</span>)&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(s);<span class="comment">//打印出k</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">console</span>.log(s);<span class="comment">//打印出h</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p><strong>arguments的使用</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> agu <span class="keyword">of</span> <span class="built_in">arguments</span>)&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(agu);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line">输出：<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span></span><br></pre></td></tr></table></figure>
<p><strong>数组的使用</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = [<span class="string">'hhh'</span>,<span class="string">'jjj'</span>,<span class="string">'fff'</span>,<span class="string">'rrr'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> s <span class="keyword">of</span> str)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s === <span class="string">'fff'</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(s);<span class="comment">//打印出fff</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(s);<span class="comment">//打印出hhh,jjj</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-2-数组新增方法"><a href="#6-4-2-数组新增方法" class="headerlink" title="6.4.2 数组新增方法"></a>6.4.2 数组新增方法</h3><p><strong>keys</strong></p>
<p>打印出数组的索引</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = [<span class="string">'fj'</span>,<span class="string">'jsj'</span>,<span class="string">'kl'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> str <span class="keyword">of</span> s.keys())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(str);</span><br><span class="line">    &#125;</span><br><span class="line">输出：<span class="number">0</span>，<span class="number">1</span>，<span class="number">2</span></span><br></pre></td></tr></table></figure>
<p><strong>values</strong></p>
<p>数组的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = [<span class="string">'fj'</span>,<span class="string">'jsj'</span>,<span class="string">'kl'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> str <span class="keyword">of</span> s.values())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(str);</span><br><span class="line">    &#125;</span><br><span class="line">输出：fj jsj kl</span><br></pre></td></tr></table></figure>
<p><strong>entries</strong></p>
<p>打印出数组的所有的值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = [<span class="string">'fj'</span>,<span class="string">'jsj'</span>,<span class="string">'kl'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> str <span class="keyword">of</span> s.entries())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(str);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-3-解构赋值"><a href="#6-4-3-解构赋值" class="headerlink" title="6.4.3 解构赋值"></a>6.4.3 解构赋值</h3><p>数组解构赋值的本质，就是一个迭代器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = [<span class="string">'fj'</span>,<span class="string">'jsj'</span>,<span class="string">'kl'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [index,str] <span class="keyword">of</span> s.entries())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index,str);</span><br><span class="line">&#125;</span><br><span class="line">输出的是 <span class="number">0</span> <span class="string">"fj"</span></span><br><span class="line">        <span class="number">1</span> <span class="string">"jsj"</span></span><br><span class="line">        <span class="number">2</span> <span class="string">"kl"</span></span><br></pre></td></tr></table></figure>
<h3 id="6-4-4-…运算符-扩展运算符"><a href="#6-4-4-…运算符-扩展运算符" class="headerlink" title="6.4.4 …运算符:扩展运算符"></a>6.4.4 …运算符:扩展运算符</h3><p>本质上也是使用的迭代器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = [<span class="string">'fj'</span>,<span class="string">'jsj'</span>,<span class="string">'kl'</span>];</span><br><span class="line"><span class="keyword">let</span> s1 = [<span class="string">'kk'</span>,...s];</span><br><span class="line"><span class="built_in">console</span>.log(s1);</span><br><span class="line">输出的是</span><br><span class="line"><span class="built_in">Array</span>(<span class="number">4</span>)</span><br><span class="line"><span class="number">0</span>: <span class="string">"kk"</span></span><br><span class="line"><span class="number">1</span>: <span class="string">"fj"</span></span><br><span class="line"><span class="number">2</span>: <span class="string">"jsj"</span></span><br><span class="line"><span class="number">3</span>: <span class="string">"kl"</span></span><br></pre></td></tr></table></figure>
<h1 id="七-生成器-Generator"><a href="#七-生成器-Generator" class="headerlink" title="七 生成器 Generator"></a>七 生成器 Generator</h1><h2 id="7-1-基础语法"><a href="#7-1-基础语法" class="headerlink" title="7.1 基础语法"></a>7.1 基础语法</h2><p>普通函数：如果没有return语句就会从头到尾执行下来。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">fn</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">yiled<span class="comment">//相当于开关，告诉我们到哪里去暂停。只在 Generator函数中好用</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">f</span>(<span class="params"></span>)</span>&#123;<span class="comment">//指针</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'hh'</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'gg'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> s = f();<span class="comment">//刚开始执行f() 这里相当于在函数的开头就创建了指针</span></span><br><span class="line">只有在调用 .next()的时候，才会去执行这个逻辑语句。易遇到<span class="keyword">yield</span>语句就暂停，把yiled的语句后面的东西输出，再next() 指针下移</span><br><span class="line">在控制台输出 s.next()</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"hh"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="string">"gg"</span>, <span class="attr">done</span>: <span class="literal">false</span>&#125;</span><br><span class="line">s.next()</span><br><span class="line">&#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<p>写个*作为我们的Generator函数，一执行就生成我们当前的迭代器管理函数里面的语句，调用.next相当于去执行函数。从头执行，遇到yield语句时候就停止，会把yiled语句后面的值输出，如果.next()中没有传任何参数，则返回的是undefined的。</p>
<p>yield相当于关，.next()相当于开。</p>
<p>可以给.next()传入一些值，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> y = <span class="keyword">yield</span> (x + <span class="number">2</span>);<span class="comment">//遇到yield语句就暂停，将yield后面的语句给value</span></span><br><span class="line">        <span class="keyword">var</span> z = <span class="keyword">yield</span> (y + <span class="number">3</span>);<span class="comment">//从上面的yield的语句开始执行，之前的赋值语句没有完成，现在完成赋值，把整个上式子整个yield语句传给y,如果.next()中什么都没有的话就是undefined，</span></span><br><span class="line">        <span class="comment">//所以y就是undefined，继续向下执行遇到z赋值语句，遇到yield又暂停了，将yield的后面的语句给value，yield后面的是undefined+2，所以输出的是NaN</span></span><br><span class="line">        <span class="keyword">return</span> (x + y + z);<span class="comment">//第三个调用 next()时，就从第二次的赋值部分开始，将整个yield语句赋值给z，而.next()语句中啥也没传，所以z 也是undefined，继续向下执行，遇到return语句  其中为 4+undefined+undefined = NaN</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> s = fn(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(s.next());<span class="comment">//传入的x = 4 所以返回的是 4+2 = 6</span></span><br><span class="line">    <span class="built_in">console</span>.log(s.next());<span class="comment">//继续向下执行</span></span><br><span class="line">    <span class="built_in">console</span>.log(s.next());</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params">x</span>)</span>&#123;<span class="comment">//指针</span></span><br><span class="line">    <span class="keyword">var</span> y = <span class="keyword">yield</span> (x + <span class="number">2</span>);<span class="comment">//没执行完</span></span><br><span class="line">    <span class="keyword">var</span> z = <span class="keyword">yield</span> (y + <span class="number">3</span>);<span class="comment">//从上式的yield语句执行并赋值，此时next（）中的参数，决定上式的赋值</span></span><br><span class="line">    <span class="keyword">return</span> (x + y + z);<span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s = fn(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s.next());<span class="comment">//执行fn这个函数，遇到yield的语句，暂停，返回yield语句后面的值，4+2 = 6；赋值语句并没有完成。</span></span><br><span class="line"><span class="built_in">console</span>.log(s.next(<span class="number">1</span>));<span class="comment">//继续y的赋值语句，需要将整个yield的语句赋值给y，yield语句传入的是1，所以y = 1，接下来又遇到了yield语句，暂停，将yield语句后面的 y+3传给value，最后输出值为4</span></span><br><span class="line"><span class="built_in">console</span>.log(s.next(<span class="number">1</span>));<span class="comment">//继续上式未完成的赋值语句，将整个yield语句赋值给z，next()中传入的是1,所以z = 1.没有遇到yield语句， 将return后面的语句继续执行返回的是 4+1+1 = 6</span></span><br></pre></td></tr></table></figure>
<p>注意：next()中决定的是上一个yield的值。</p>
<h2 id="7-2-for-of-循环"><a href="#7-2-for-of-循环" class="headerlink" title="7.2  for  of 循环"></a>7.2  for  of 循环</h2><p>普通对象中是没有Symbol.iterator的，所以直接去循环是不好使的。</p>
<p>可以给对象手动添加一个Symbol.iterator</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Obj = &#123;</span><br><span class="line">    name:<span class="string">'jkks'</span>,</span><br><span class="line">    aeg: <span class="number">18</span>,</span><br><span class="line">    sex: <span class="string">'male'</span></span><br><span class="line">&#125;</span><br><span class="line"> Obj[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> s1 <span class="keyword">of</span> Obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(s1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'hhh'</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'jjd'</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'hhff'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> s = fn();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> f1 <span class="keyword">of</span> s)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(f1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="八-异步"><a href="#八-异步" class="headerlink" title="八 异步"></a>八 异步</h1><h2 id="8-1-Promise"><a href="#8-1-Promise" class="headerlink" title="8.1 Promise"></a>8.1 Promise</h2><p>q.js  bluebird.js jquery deferred</p>
<p>js是单线程的  js一段时间内只能做一件事情。</p>
<p>异步编程思想：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">         setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="number">34</span>)</span><br><span class="line">            &#125;,<span class="number">5000</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hhh'</span>)</span><br><span class="line">也是异步的思想。</span><br><span class="line"><span class="comment">//先打印hhh再打印34</span></span><br></pre></td></tr></table></figure>
<h3 id="8-1-1-表面坏处"><a href="#8-1-1-表面坏处" class="headerlink" title="8.1.1 表面坏处"></a>8.1.1 表面坏处</h3><p>异步编程的坏处：第二次请求的地址需要通过第一次请求才可以拿到。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'hhh'</span>)</span><br><span class="line">        &#125;,<span class="number">1000</span>);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<p>形成了回调金字塔。不好管理。</p>
<p>Promise就是用来管理这些回调函数。</p>
<h3 id="8-1-2-创建Promise对象"><a href="#8-1-2-创建Promise对象" class="headerlink" title="8.1.2 创建Promise对象"></a>8.1.2 创建Promise对象</h3><p>new出来的promise对象，需要传一个参数(函数)，且必须传。</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const p = new Promise(()=&gt;&#123;</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="string">'sk'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">console.<span class="built_in">log</span>(<span class="string">'ldj'</span>);</span><br><span class="line">console.<span class="built_in">log</span>(p);</span><br><span class="line">Promise</span><br><span class="line">__proto__: Promise</span><br><span class="line"><span class="string">[[PromiseStatus]]</span>: <span class="string">"pending"</span></span><br><span class="line"><span class="string">[[PromiseValue]]</span>: undefined</span><br></pre></td></tr></table></figure>
<h3 id="8-1-3-promise的三个状态"><a href="#8-1-3-promise的三个状态" class="headerlink" title="8.1.3 promise的三个状态"></a>8.1.3 promise的三个状态</h3><p><strong>pending</strong></p>
<p>没调用 resolved 和 rejected时候，是pending状态，且只能变成成功或者失败的状态。没有其它状态的转变</p>
<p><strong>成功</strong></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">        const p = new Promise((resolved,rejected)=&gt;&#123;</span><br><span class="line">            resolved(<span class="number">100</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        console.<span class="built_in">log</span>(p);</span><br><span class="line">输出的是：Promise</span><br><span class="line">        __proto__: Promise</span><br><span class="line">        <span class="string">[[PromiseStatus]]</span>: <span class="string">"resolved"</span></span><br><span class="line">        <span class="string">[[PromiseValue]]</span>: <span class="number">100</span></span><br></pre></td></tr></table></figure>
<p><strong>失败</strong></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">        const p = new Promise((resolved,rejected)=&gt;&#123;</span><br><span class="line">            rejected(<span class="number">100</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        console.<span class="built_in">log</span>(p);</span><br><span class="line">输出的是：Promise</span><br><span class="line">__proto__: Promise</span><br><span class="line"><span class="string">[[PromiseStatus]]</span>: <span class="string">"rejected"</span></span><br><span class="line"><span class="string">[[PromiseValue]]</span>: <span class="number">100</span></span><br></pre></td></tr></table></figure>
<p><strong>如何去做一些事情呢</strong></p>
<p>通过p.then(成功事件函数,失败事件函数)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">       <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved,rejected</span>)=&gt;</span>&#123;</span><br><span class="line">           rejected(<span class="number">100</span>);</span><br><span class="line">       &#125;)</span><br><span class="line">       p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(value);<span class="comment">//成功调用的函数</span></span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(err);<span class="comment">//失败时调用的函数</span></span><br><span class="line">       &#125;)</span><br><span class="line">输出的是：<span class="number">100</span></span><br></pre></td></tr></table></figure>
<p>异步可以直接在在new Promise中</p>
<p>占位符  对未来的值进行操作，不知道成功不成功</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved,rejected</span>)=&gt;</span>&#123;</span><br><span class="line">         setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             resolved(<span class="number">10000</span>);</span><br><span class="line">         &#125;,<span class="number">1000</span>)</span><br><span class="line">     &#125;)</span><br><span class="line">     p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(value);</span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(err);</span><br><span class="line">     &#125;)</span><br><span class="line">输出的结果是：<span class="number">10000</span></span><br><span class="line">此时p是一个pending状态， .then只是注册了事件，将成功和失败的事件注册上去，<span class="number">1</span>s之后成功了就调用成功的注册事件。失败了就调用失败的事件。</span><br></pre></td></tr></table></figure>
<h3 id="8-1-4-创建已处理的promise对象"><a href="#8-1-4-创建已处理的promise对象" class="headerlink" title="8.1.4 创建已处理的promise对象"></a>8.1.4 创建已处理的promise对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="built_in">Promise</span>.resolve();</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="built_in">Promise</span>.reject();</span><br><span class="line"><span class="built_in">console</span>.log(p1);</span><br><span class="line"><span class="built_in">console</span>.log(p2);</span><br></pre></td></tr></table></figure>
<h3 id="8-1-5-链式调用promise"><a href="#8-1-5-链式调用promise" class="headerlink" title="8.1.5 链式调用promise"></a>8.1.5 链式调用promise</h3><p>解决嵌套方式调用</p>
<p>p.then 可以返回Promise对象（p.then可以返回一个新的promise对象）</p>
<p>p.then返回的promise对象  它看回调函数的返回值</p>
<p>如果return值不是promise对象的话，就是成功状态</p>
<p><strong>不是promise对象的状态</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved,rejected</span>)=&gt;</span>&#123;</span><br><span class="line">          setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">              resolved(<span class="number">1000</span>);</span><br><span class="line">          &#125;,<span class="number">2000</span>)</span><br><span class="line">      &#125;);</span><br><span class="line">      p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(value);<span class="comment">//调用的是这个，没有写return那就是undefined的状态</span></span><br><span class="line">      &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(err,<span class="number">188</span>);</span><br><span class="line">      &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="number">123</span>);<span class="comment">//只要return不是promise对象，就是成功状态，就使用这个，这部分是相当于另一个成功和失败要调用的函数。</span></span><br><span class="line">      &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="number">455</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">     </span><br><span class="line">输出的是：<span class="number">1000</span> <span class="number">188</span></span><br><span class="line">         <span class="number">123</span></span><br></pre></td></tr></table></figure>
<p><strong>是promise对象的状态</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">        <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved,rejected</span>)=&gt;</span>&#123;</span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">                resolved(<span class="number">1000</span>);</span><br><span class="line">            &#125;,<span class="number">2000</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">        p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved,rejected</span>)=&gt;</span>&#123;</span><br><span class="line">                setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    resolved(<span class="number">11</span>);</span><br><span class="line">                &#125;,<span class="number">2000</span>)</span><br><span class="line">            &#125;)<span class="comment">//当返回是promise对象时，会跟着promise对象走，如果这个是成功的，外界p.then就是成功的，如果是失败的，那么外界的p.then也就是失败的。</span></span><br><span class="line">        &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(err,<span class="number">188</span>);</span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(value);<span class="comment">//上面成功了走这</span></span><br><span class="line">        &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">455</span>);<span class="comment">//失败了走这。</span></span><br><span class="line">        &#125;)</span><br><span class="line">输出的结果是：<span class="number">1000</span>，<span class="number">11</span></span><br></pre></td></tr></table></figure>
<p>封装上面函数，实现链式调用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> </span><br></pre></td></tr></table></figure>
<h3 id="8-1-6-响应多个promise对象"><a href="#8-1-6-响应多个promise对象" class="headerlink" title="8.1.6 响应多个promise对象"></a>8.1.6 响应多个promise对象</h3><p><strong>Promise.all</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = f(<span class="number">20</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">const</span> p2 = f(<span class="number">30</span>,<span class="number">2000</span>);</span><br><span class="line"><span class="keyword">const</span> p3 = f(<span class="number">40</span>,<span class="number">3000</span>);</span><br><span class="line"><span class="built_in">Promise</span>.all([p1,p2,p3]).then(<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value)</span><br><span class="line">&#125;,()=&gt;&#123;&#125;)</span><br></pre></td></tr></table></figure>
<p>以最慢的为基准，有一个失败，整体都失败。</p>
<p><strong>Promise.race</strong></p>
<p>看最快的那个请求，以此为基准,不管 成功或失败，如果最快的失败，整体都是失败，如果最快的成功了，整个都成功。</p>
<h3 id="8-1-7-Promise-catch"><a href="#8-1-7-Promise-catch" class="headerlink" title="8.1.7 Promise.catch"></a>8.1.7 Promise.catch</h3><p>以失败的为基准。</p>
<h1 id="九-异步编程"><a href="#九-异步编程" class="headerlink" title="九 异步编程"></a>九 异步编程</h1><p><a href="https://www.promisejs.org/implementing/" target="_blank" rel="noopener">https://www.promisejs.org/implementing/</a></p>
<p>stack overflow</p>
<h2 id="9-1-异步编程1"><a href="#9-1-异步编程1" class="headerlink" title="9.1 异步编程1"></a>9.1 异步编程1</h2><p>由于第三方库不可信</p>
<p>###JavaScript的运行<br>全局环境  调用函数的环境   调用栈的环境</p>
<p>###异步的JavaScript</p>
<p>###Promise</p>
<p>###Generator&amp;ASync/await</p>
<h2 id="9-2-异步编程2"><a href="#9-2-异步编程2" class="headerlink" title="9.2 异步编程2"></a>9.2 异步编程2</h2><h2 id="9-3-异步编程3"><a href="#9-3-异步编程3" class="headerlink" title="9.3 异步编程3"></a>9.3 异步编程3</h2><p>上述缺点：控制反转（推进去几次，就执行几次）<br>代码没有同步的好理解<br>优点： 和浏览器交互</p>
<p>promise会立即返回一个对象,也就是说我们用promise的时候</p>
<p>做了两件事</p>
<p>promise对象是一个占位符当异步完成时把值存到对象里面</p>
<p>promise对象可以存储当异步完成时的回调函数</p>
<p>当异步完成是会自动触发相应的回调函数</p>
<p>只有第一次好用 （resolved）所以就控制反转的反转了，最终还是外面控制</p>
<p>注意1：解决了控制反转，resolved和reject只看第一会的结果<br>注意2：Event Loop（浏览器的东西）会在调用栈只有golabal的情况下去执行异步的东西<br>promise 在微任务中  job tasjs（当value有值的时候，就会去调用其成功的回调函数）<br>setTimeout   callback queue 宏任务<br>先执行微任务中的，再执行宏任务</p>
<h2 id="9-4-异步编程4"><a href="#9-4-异步编程4" class="headerlink" title="9.4 异步编程4"></a>9.4 异步编程4</h2><p>Generator函数返回一个iterator对象我们有能力去暂停函数</p>
<p>有机制，存了代码执行到了哪里</p>
<p>Generator的异步</p>
<p>async await</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://luokeni.github.io/2018/11/25/es6_2/" data-id="cjsil4jjw002a88ggylw5kmk9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/12/10/this指向问题/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          this指向总结
        
      </div>
    </a>
  
  
    <a href="/2018/11/20/es6_1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">ES6笔记1</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/git使用总结/"> git使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/">CSS3</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结1/">CSS3知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结2/">CSS3知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结3/">CSS3知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/">ES6</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记1/">ES6基础知识笔记1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记2/">ES6基础知识笔记2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/">HTML5</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结1/">HTML5知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结2/">HTML5知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结3/">HTML5知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/">jQuery知识点笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结1/">jQuery知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结2/">jQuery知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结3/">jQuery知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/js知识点总结/">js知识点总结</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/js知识点总结/js按需加载时间线/">js按需加载时间线</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js知识点总结/js进阶1/">js进阶1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js知识点总结/js进阶2/">js进阶2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/sass知识点总结/">sass知识点总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/this指向知识点总结/">this指向知识点总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/typora总结/">typora总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack使用总结/">webpack使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/原型及原型链/">原型及原型链</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/">网络知识点总结</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结1/"> 网络基础总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结2/"> 网络基础总结2</a></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/20/sass语法总结/">sass语法总结笔记</a>
          </li>
        
          <li>
            <a href="/2019/01/15/git使用总结/">git使用总结</a>
          </li>
        
          <li>
            <a href="/2019/01/10/webpack工程化/">webpack使用总结</a>
          </li>
        
          <li>
            <a href="/2018/12/31/网络知识_2/">网络基础总结2</a>
          </li>
        
          <li>
            <a href="/2018/12/31/网络基础_1/">网络基础总结1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 罗此梅（老小孩）<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="https://luokeni.github.io/luocimei/" class="mobile-nav-link">项目主页</a>
  
    <a href="https://github.com/luokeni/luocimei" class="mobile-nav-link">gitHub</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>