<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>js进阶知识点总结1 | 此梅的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一.JavaScript进阶（一）1.1 JS引入及阻塞加载1.引入js的两种方式(1).嵌入代码块 (2).引入外部文件 注：可以有多个代码块，先下载，后解析，再执行（多个js代码块按照从上往下执行） 2.存在的问题为啥加载慢？为什么获取不到dom元素？ 12345678910111213&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;html lang=&quot;en&quot;&amp;gt;&amp;lt;head&amp;gt">
<meta property="og:type" content="article">
<meta property="og:title" content="js进阶知识点总结1">
<meta property="og:url" content="https://luokeni.github.io/2018/11/08/js1/index.html">
<meta property="og:site_name" content="此梅的博客">
<meta property="og:description" content="一.JavaScript进阶（一）1.1 JS引入及阻塞加载1.引入js的两种方式(1).嵌入代码块 (2).引入外部文件 注：可以有多个代码块，先下载，后解析，再执行（多个js代码块按照从上往下执行） 2.存在的问题为啥加载慢？为什么获取不到dom元素？ 12345678910111213&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;html lang=&quot;en&quot;&amp;gt;&amp;lt;head&amp;gt">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://luokeni.github.io/2018/11/08/js1/js1.png">
<meta property="og:image" content="https://luokeni.github.io/2018/11/08/js1/js2.jpg">
<meta property="og:image" content="https://luokeni.github.io/2018/11/08/js1/js4.png">
<meta property="og:image" content="https://luokeni.github.io/2018/11/08/js1/js5.png">
<meta property="og:image" content="https://luokeni.github.io/2018/11/08/js1/js5.jpg">
<meta property="og:updated_time" content="2019-02-23T11:17:39.506Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="js进阶知识点总结1">
<meta name="twitter:description" content="一.JavaScript进阶（一）1.1 JS引入及阻塞加载1.引入js的两种方式(1).嵌入代码块 (2).引入外部文件 注：可以有多个代码块，先下载，后解析，再执行（多个js代码块按照从上往下执行） 2.存在的问题为啥加载慢？为什么获取不到dom元素？ 12345678910111213&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;html lang=&quot;en&quot;&amp;gt;&amp;lt;head&amp;gt">
<meta name="twitter:image" content="https://luokeni.github.io/2018/11/08/js1/js1.png">
  
    <link rel="alternate" href="/atom.xml" title="此梅的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">此梅的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">不忘初心</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="https://luokeni.github.io/luocimei/">项目主页</a>
        
          <a class="main-nav-link" href="https://github.com/luokeni/luocimei">gitHub</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://luokeni.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-js1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/08/js1/" class="article-date">
  <time datetime="2018-11-08T08:28:39.000Z" itemprop="datePublished">2018-11-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/js/">js</a>►<a class="article-category-link" href="/categories/js/js进阶1/">js进阶1</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      js进阶知识点总结1
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-JavaScript进阶（一）"><a href="#一-JavaScript进阶（一）" class="headerlink" title="一.JavaScript进阶（一）"></a>一.JavaScript进阶（一）</h1><h2 id="1-1-JS引入及阻塞加载"><a href="#1-1-JS引入及阻塞加载" class="headerlink" title="1.1 JS引入及阻塞加载"></a>1.1 JS引入及阻塞加载</h2><h3 id="1-引入js的两种方式"><a href="#1-引入js的两种方式" class="headerlink" title="1.引入js的两种方式"></a>1.引入js的两种方式</h3><p>(1).嵌入代码块</p>
<p>(2).引入外部文件</p>
<p>注：可以有多个代码块，先下载，后解析，再执行（多个js代码块按照从上往下执行）</p>
<h3 id="2-存在的问题"><a href="#2-存在的问题" class="headerlink" title="2.存在的问题"></a>2.存在的问题</h3><p>为啥加载慢？为什么获取不到dom元素？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>js1中写的是</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(oDiv);</span><br></pre></td></tr></table></figure>
<p>返回的值是null ，为什么呢？</p>
<p>观察上述代码，js是在head中引入的，代码是从上到下执行的，当遇到js文件的时候，就会下载做解析并执行，而下面的html标签都还没有执行，所以是个空的。</p>
<p>如何解决？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>先执行完了前面的html结构，就可以打印出来div1。</p>
<p>这样做的优点：    一定能够获取想要的dom元素。</p>
<pre><code>保证页面能够尽可能快的展示给用户。
</code></pre><p>js是从上往下执行的，如果在上面引入的话，下载很快，解析也快，但是执行很浪费时间的话，会导致整个页面就停在那了。放在下面的话，基本的已经被浏览器加载完显示出来了，只是部分没有加载完而已，但是给人的感觉就是页面加载挺快的。</p>
<p>模拟花费的时间：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">new date()；//获取当前具体时间。</span><br><span class="line">Date.now();自1970年至今所经过的毫秒数。</span><br></pre></td></tr></table></figure>
<p>创建一万个div的快捷方式。 div{$}*10000</p>
<h2 id="1-2-新的加载模式"><a href="#1-2-新的加载模式" class="headerlink" title="1.2.新的加载模式"></a>1.2.新的加载模式</h2><h3 id="1-延迟加载"><a href="#1-延迟加载" class="headerlink" title="1.延迟加载"></a>1.延迟加载</h3><p>定义：表示脚本可以延迟到文档完全被解析和显示之后再执行</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">"1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  html5中可以</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> =<span class="string">"defer"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> html 中严格标准</span><br><span class="line">1.异步加载</span><br><span class="line">2.多个js，按定义的顺序执行</span><br><span class="line">3.在文档解析完，才执行</span><br><span class="line">4. 在DOMContentLoaded事件之前执行完</span><br><span class="line">5. 只支持外部引入方式，（IE7以前的除外）</span><br><span class="line">document -&gt; HTML -&gt; DOM(在这个DOM之前完成加载)</span><br><span class="line">大概的结构都出来了，等音频、照片下载完后加载出来，整个页面执行完后会调用load事件。</span><br><span class="line">其效果和将js文件写在body中的最下面是一样的。</span><br></pre></td></tr></table></figure>
<h3 id="2-异步加载"><a href="#2-异步加载" class="headerlink" title="2.异步加载"></a>2.异步加载</h3><p>定义：表示应该立即下载脚本，但不应妨碍页面中的其他操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script async src=&quot;1.js&quot;&gt;&lt;/script&gt;  html5中可以</span><br><span class="line">&lt;script async=&quot;async&quot;&gt;&lt;/script&gt; html 中严格标准</span><br><span class="line">1.异步加载</span><br><span class="line">2. 多个js，不一定按顺序执行</span><br><span class="line">3.加载完就执行，在load事件之前</span><br><span class="line">4. 在load事件之前执行完</span><br><span class="line">5. 只支持外部引入方式</span><br></pre></td></tr></table></figure>
<img src="/2018/11/08/js1/js1.png">
<h2 id="1-3-打印出1万以内所有的质数"><a href="#1-3-打印出1万以内所有的质数" class="headerlink" title="1.3.打印出1万以内所有的质数"></a>1.3.打印出1万以内所有的质数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>;j &lt;= i; j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i%j === <span class="number">0</span> &amp;&amp; j != i &amp; j !=<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(j == i)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先判断是不是一个数 -》质数</p>
<p>质数的定义：只能被1和自己整除。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">number</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(number % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; number &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(number == <span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(n &lt; number)&#123;</span><br><span class="line">        <span class="keyword">if</span>( number % n == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        n += <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(f(i))&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<h2 id="1-4-JS的数据类型"><a href="#1-4-JS的数据类型" class="headerlink" title="1.4.JS的数据类型"></a>1.4.JS的数据类型</h2><h3 id="1-6种基本类型"><a href="#1-6种基本类型" class="headerlink" title="1. 6种基本类型"></a>1. 6种基本类型</h3><p>number :所有的数字，int float</p>
<p>string ：所有的字符、字符串</p>
<p>boolean：true false</p>
<p>null：null对象是空</p>
<p>undefined ：undefined变量未定义</p>
<p>object：除了上面的，都是对象。</p>
<p>问题一：null == undefined ??</p>
<p>null == undefined ??  是相等的，这是值的比较。（这两个值都是空的，但是类型不一样）</p>
<p>=== 是值和类型的比较。此时就为false了。</p>
<p>问题二：Number  String  Boolean</p>
<p>这些是系统提供的，是对象。</p>
<h3 id="1-7-JS的获取数据类型"><a href="#1-7-JS的获取数据类型" class="headerlink" title="1.7 JS的获取数据类型"></a>1.7 JS的获取数据类型</h3><p>常用的四种方式</p>
<p><strong>1.typeof</strong></p>
<p>注意：在类型是null的时候，其返回的会是object（null是object的特殊值）</p>
<pre><code>typeof(function(){}) 返回function 方法是对象的一部分。遗留了java的一部分。
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">istype</span>(<span class="params">tt</span>)</span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(tt === <span class="literal">null</span>)&#123;<span class="comment">//因为null和undefined在==的条件下是相等的，所以要严格等于（值和类型都等于）。</span></span><br><span class="line">           <span class="keyword">return</span> <span class="string">"null"</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">typeof</span>(tt);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>其无法判断对象的具体类型</p>
<p>var a = []; typeof(a) 返回的是object</p>
<p>var date = new Date()返回的是object；</p>
<p><strong>2.Object.prototype.toString.call() 推荐使用</strong></p>
<p>Object.prototype.toString.call(a)；返回的就是 “[object Array]”</p>
<p>Object.prototype.toString.call(date)； 返回的是 “[object Date]”</p>
<p>系统的东西都可以打印出来。</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString</a></p>
<p>存在的缺点：如果是自定义的类型是获取不到的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hhh"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> f();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(x));</span><br></pre></td></tr></table></figure>
<p>如何解决：使用下面两种方式</p>
<p><strong>3.instanceof   仅对判断对象的具体类型（只适用于对象）</strong></p>
<p>使用方法： x instanceof</p>
<p>意思是： x是不是y的类型呢</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(a <span class="keyword">instanceof</span> number)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hhh"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>按照上面的写法，会报错Uncaught ReferenceError: number is not defined</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span>(a <span class="keyword">instanceof</span> number)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hhh"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>返回的是true。</p>
<p><strong>4.constructor 查看对象对应的构造函数，很方便造假？</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">function <span class="title">f1</span><span class="params">(age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> f2 = <span class="keyword">new</span> f1();</span><br><span class="line">    <span class="keyword">if</span>(f2.constructor == f1)&#123;</span><br><span class="line">        console.log(<span class="string">"hhh"</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>instanceof 不可以判断number </p>
<p>可以使用 (1).constructor    这里有个隐士转换  返回了ƒ Number() { [native code] }</p>
<p>总结：不管 给什么类型，都可以判断出来是什么类型的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">     <span class="keyword">var</span> typename = <span class="built_in">Object</span>.prototype.toString.call(x);</span><br><span class="line">     <span class="keyword">if</span>(typename == [<span class="built_in">Object</span>,<span class="built_in">Object</span>])&#123;</span><br><span class="line">         typename = <span class="string">"[Object"</span>+typename.constructor.name + <span class="string">"]"</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> typename;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-8-数字和二进制"><a href="#1-8-数字和二进制" class="headerlink" title="1.8  数字和二进制"></a>1.8  数字和二进制</h2><img src="/2018/11/08/js1/js2.jpg">
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.int  考虑安全范围，会不会有丢失精度，不要超过这个范围。</span><br><span class="line"></span><br><span class="line">2.float  1.111  考虑精度的问题。0.1+0.2 = 0.300000000004</span><br><span class="line">转化成二进制的时候会造成无限循环，不能完全表达出小数，并不能等于。所以造成精度丢失。</span><br><span class="line">以IEEE754转化的。都会有精度丢失。</span><br><span class="line">0.1+0.4 = 0.5？ 返回的是true，因为两个精度无限叠加可以将无限循环小数消除掉。</span><br><span class="line"></span><br><span class="line">如何解决这种精度问题？</span><br><span class="line">将小数转化为整数，也就是降低单位，再在其基础上除去扩大的倍数。</span><br><span class="line">Math方法</span><br><span class="line">Number方法</span><br><span class="line"></span><br><span class="line">3.科学计数法  1e+3 —&gt; 1000（中间是没有空格的）</span><br><span class="line">有个极大值和极小值</span><br><span class="line">超过极大值就会变化一个无穷大的值。</span><br><span class="line"></span><br><span class="line">4.NaN</span><br><span class="line">typeof  NaN</span><br></pre></td></tr></table></figure>
<h2 id="1-9-十进制转化为二进制"><a href="#1-9-十进制转化为二进制" class="headerlink" title="1.9 十进制转化为二进制"></a>1.9 十进制转化为二进制</h2><p><strong>1.整数</strong></p>
<p>除2取余（看除以2是否有余数），倒序。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> ary = [];</span><br><span class="line">    <span class="keyword">while</span>(a)&#123;</span><br><span class="line">        ary.push(a%<span class="number">2</span>);</span><br><span class="line">        a = <span class="built_in">parseInt</span>(a/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">var</span> len = ary.length;</span><br><span class="line">        <span class="comment">//var artt = [];</span></span><br><span class="line">        <span class="comment">//for(var i = 0; i &lt; len; i++)&#123;</span></span><br><span class="line">        <span class="comment">//    artt[i] = ary[len-1-i]; </span></span><br><span class="line">        <span class="comment">//&#125; </span></span><br><span class="line">        <span class="keyword">var</span> artt = ary.reverse();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(artt);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>数据中的方法使用：</p>
<p><strong>1、join（）方法</strong></p>
<p>Array.join()方法将数组中所以元素都转化为字符串链接在一起，返回最后生成的字符串。也可以指定可选的字符串在生成的字符串中来分隔数组的各个元素。如果不指定分隔符，默认使用逗号。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.join();<span class="comment">//=&gt; "1,2,3" 因为没有指定分隔符，默认为逗号。</span></span><br><span class="line">a.join(<span class="string">"+"</span>);<span class="comment">//=&gt; "1+2+3" 指定分隔符为+</span></span><br><span class="line">a.join(<span class="string">"-"</span>);<span class="comment">//=&gt; "1-2-3" 指定分隔符为-</span></span><br></pre></td></tr></table></figure>
<p><strong>2、 reverse()方法：</strong></p>
<p>Array.reverse()方法将数组中元素进行倒叙，返回倒叙的数组，它是在原来数组中进行倒叙，不产生新的数组，返回就是原来的数组，只不过里面元素已经进行倒叙重排了。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.reverse();<span class="comment">// =&gt;a=[3,2,1];</span></span><br></pre></td></tr></table></figure>
<p><strong>3、sort()方法：</strong></p>
<p>Array.sort()方法将数组中的元素排序，并返回排序好的数组。如果不传参数默认以字母表顺序进行排序。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">a.sort();<span class="comment">// =&gt;[1,2,3,4]</span></span><br><span class="line">a.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a-b;&#125;);<span class="comment">//=&gt;[1,2,3,4] 降序排列</span></span><br><span class="line">a.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> b-a;&#125;);<span class="comment">//=&gt;[4,3,2,1] 升序排列</span></span><br><span class="line">比较函数</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">value1,value2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(value1&gt;value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value1&lt;value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> values = [<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">5</span>];</span><br><span class="line">values,sort(compare);</span><br><span class="line">alert(values);</span><br><span class="line"><span class="comment">//以上是升序的排法。降序则将比较函数中的反过来。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">value1,value2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(value1&gt;value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value1&lt;value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>4、concat():</strong></p>
<p>Array.concat()方法创建并返回一个新数组，新数组中的元素包含调用数组的元素和concat()中传入参数的值，传入的参数可以是单独数值，也可以是数组,concat()不会递归扁平化数组的数组。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line">a.concat(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">// =&gt;[5,6,7,1,2];</span></span><br><span class="line">a.concat([<span class="number">1</span>,<span class="number">2</span>]);<span class="comment">// =&gt;[5,6,7,1,2];</span></span><br><span class="line">a.concat(<span class="number">3</span>,[<span class="number">1</span>,<span class="number">2</span>]);<span class="comment">// =&gt;[5,6,7,3,1,2];</span></span><br><span class="line">a.concat([<span class="number">1</span>,[<span class="number">2</span>,<span class="number">3</span>]]);<span class="comment">// =&gt;[5,6,7,1,[2,3]];</span></span><br></pre></td></tr></table></figure>
<p><strong>5、slice（）方法：</strong></p>
<p>Array.slice()方法返回指定数组的一个片段或子数组。里面可以传一个参数或两个参数，参数可以为正也可以为负。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">a.slice(<span class="number">1</span>)<span class="comment">// =&gt;[6,7,3,1,2] 数字参数指的是数组的索引，一个参数表示开始的位置，不传第二个参数默认为数组中元素个数。</span></span><br><span class="line"> a.slice(<span class="number">1</span>,<span class="number">3</span>)<span class="comment">// =&gt;[6,7] 第二参数是数组索引结束位置，(不包含) index&gt;=1&amp;&amp;index&lt;3;</span></span><br><span class="line">a.slice(<span class="number">1</span>,<span class="number">-3</span>)<span class="comment">// =&gt;[6,7] 当参数中有负数时候，可以进行转换正数，方法就是-3+6(数组里元素个数）</span></span><br><span class="line"> a.slice(<span class="number">-3</span>,<span class="number">-2</span>)<span class="comment">// =&gt;[3] 同理如上。</span></span><br></pre></td></tr></table></figure>
<p><strong>6、splice（）</strong></p>
<p>Array.splice()方法是在数组中插入或删除的通用方法。它会修改调用的数组，splice()可以传入三个参数，第一参数表示删除元素索引开始的地方，第二参数表示删除元素总数，第三参数，表示插入的元素，元素插入的位置就是删除元素开始的位置。案例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">a.splice(<span class="number">2</span>);<span class="comment">// =&gt;[7,3,1,2] a=[5,6];//传入一个参数表示从索引开始删除之后所有的元素。</span></span><br><span class="line">a.splice(<span class="number">2</span>,<span class="number">2</span>);<span class="comment">// =&gt;[7,3]   a=[5,6,1,2];第二个参数表示删除元素的个数。</span></span><br><span class="line">a.splice(<span class="number">2</span>,<span class="number">2</span>，<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>); <span class="comment">//=&gt;[7,3] a=[5,6,'a','b','c',1,2]; 删除两个后插入在删除的位置插入元素</span></span><br><span class="line">如果只是插入元素可以将第二个参数设置为<span class="number">0</span>。第三个直接写插入的元素。</span><br></pre></td></tr></table></figure>
<p><strong>7、push 添加元素到数组的末尾</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ary = [<span class="string">'a'</span>,<span class="string">'b'</span>];</span><br><span class="line">    ary.push(<span class="string">'ab'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(ary)；</span><br><span class="line">   结果是<span class="built_in">Array</span>(<span class="number">3</span>)</span><br><span class="line">        <span class="number">0</span>: <span class="string">"a"</span></span><br><span class="line">        <span class="number">1</span>: <span class="string">"b"</span></span><br><span class="line">        <span class="number">2</span>: <span class="string">"ab"</span></span><br><span class="line">        length: <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><strong>7、pop 删除数组末尾的元素</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> ary = [<span class="string">'a'</span>,<span class="string">'b'</span>];</span><br><span class="line">    ary.pop(<span class="string">"ab"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(ary);</span><br><span class="line">打印的是：<span class="built_in">Array</span>(<span class="number">2</span>)</span><br><span class="line">        <span class="number">0</span>: <span class="string">"a"</span></span><br><span class="line">        <span class="number">1</span>: <span class="string">"b"</span></span><br><span class="line">        length: <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p><strong>8、shift 删除数组最前面（头部）的元素</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var a=[5,6,7]; </span><br><span class="line">a.shift();// a=[6,7]; 返回值 5</span><br></pre></td></tr></table></figure>
<p><strong>9.unshift 添加元素到数组的头部</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.unshift(<span class="number">4</span>,<span class="number">5</span>);<span class="comment">// a=[4,5,1,2,3]; 返回 值为5；☆传的参数可以一个，也可以多个。</span></span><br></pre></td></tr></table></figure>
<p><strong>2.小数</strong></p>
<p>乘以2取整，正序。(如果是无限循环就取有限的一段)</p>
<p><strong>3.大于1的小数</strong></p>
<p>拆成整数和小数部分分别计算</p>
<p><strong>4.负整数</strong></p>
<p>在正整数基础上，取反并+1</p>
<h2 id="2-0-字符串及编码"><a href="#2-0-字符串及编码" class="headerlink" title="2.0 字符串及编码"></a>2.0 字符串及编码</h2><h2 id="2-1-运算符"><a href="#2-1-运算符" class="headerlink" title="2.1 运算符"></a>2.1 运算符</h2><img src="/2018/11/08/js1/js4.png">
<h2 id="2-2-内存管理之堆跟栈"><a href="#2-2-内存管理之堆跟栈" class="headerlink" title="2.2 内存管理之堆跟栈"></a>2.2 内存管理之堆跟栈</h2><img src="/2018/11/08/js1/js5.png">
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = b = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a +<span class="string">'===='</span> + b);<span class="comment">//1====1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = &#123;</span><br><span class="line">    n: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">c.x = c = &#123;<span class="attr">n</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="comment">//首先c.x会在 oxA0001中创建一个变量x，此时x为undefined，之后c被指向新的堆，0xF0005,之前地址的指向被盖掉，最后再给c.x赋值，那么c.x会指向0F0005</span></span><br><span class="line"><span class="built_in">console</span>.log(c.x);<span class="comment">//undefine</span></span><br><span class="line"><span class="built_in">console</span>.log(c);<span class="comment">//Object  n: 2</span></span><br><span class="line">			  <span class="comment">//__proto__: Object</span></span><br></pre></td></tr></table></figure>
<h1 id="二-进阶JavaScript（二）"><a href="#二-进阶JavaScript（二）" class="headerlink" title="二.进阶JavaScript（二）"></a>二.进阶JavaScript（二）</h1><h2 id="2-1-函数function"><a href="#2-1-函数function" class="headerlink" title="2.1 函数function"></a>2.1 函数function</h2><h3 id="2-1-1-创建方式"><a href="#2-1-1-创建方式" class="headerlink" title="2.1.1 创建方式"></a>2.1.1 创建方式</h3><p><strong>1.静态创建</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span> (<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<p><strong>2.动态方法</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">用对象的方式，<span class="keyword">new</span>一个出来。</span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"return a+b"</span>);</span><br><span class="line"><span class="comment">//大写是系统自带的形式，前面是参数，可以是多个。</span></span><br></pre></td></tr></table></figure>
<p><strong>3.两个之间的区别</strong></p>
<p><strong>4.函数的定义和使用</strong></p>
<p>函数一定要调用才会被执行  例如：add（）；</p>
<h3 id="2-1-2-return的作用"><a href="#2-1-2-return的作用" class="headerlink" title="2.1.2.return的作用"></a>2.1.2.return的作用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">将函数的运行结果返回。（且只能放一个值或者一个表达式）</span><br><span class="line">多个值的话，可以使用数组存储，最后返回数组。也可以以对象的形式接收 数据。</span><br></pre></td></tr></table></figure>
<h3 id="2-1-3-函数的作用域"><a href="#2-1-3-函数的作用域" class="headerlink" title="2.1.3.函数的作用域"></a>2.1.3.函数的作用域</h3><p> <strong>函数嵌套</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">         <span class="function"><span class="keyword">function</span> <span class="title">add1</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(a+b);</span><br><span class="line">            <span class="built_in">console</span>.log(a);</span><br><span class="line">            <span class="built_in">console</span>.log(b);</span><br><span class="line">         &#125;</span><br><span class="line">        add1();</span><br><span class="line">     &#125;  </span><br><span class="line">     add(<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">返回的结果<span class="literal">NaN</span> <span class="literal">undefined</span> <span class="literal">undefined</span></span><br><span class="line">注意：当add1添加了a,b两个形参后，add1中就会使用自己作用域上的值，但是只做了声明，没有做任何的赋值。所以是<span class="literal">undefined</span>。</span><br><span class="line">所以正确的做法应该是 add1中不写形参</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">         <span class="function"><span class="keyword">function</span> <span class="title">add1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(a+b);</span><br><span class="line">            <span class="built_in">console</span>.log(a);</span><br><span class="line">            <span class="built_in">console</span>.log(b);</span><br><span class="line">         &#125;</span><br><span class="line">        add1();</span><br><span class="line">     &#125;  </span><br><span class="line">     add(<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<p><strong>函数变量</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">var</span> x=<span class="number">3</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> y = <span class="number">2</span>;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">add1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(x);</span><br><span class="line">                <span class="built_in">console</span>.log(y);</span><br><span class="line">            &#125;</span><br><span class="line">            add1();</span><br><span class="line">        &#125;</span><br><span class="line">        add();</span><br><span class="line">        <span class="built_in">console</span>.log(y);</span><br><span class="line">打印结果为：</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">Uncaught <span class="built_in">ReferenceError</span>: y is not defined</span><br><span class="line">结果：会报错  外部是调用不了内部变量的。  内部的可以使用外部的变量。</span><br></pre></td></tr></table></figure>
<p><strong>动态函数不一样</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">e1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> e2 = <span class="keyword">new</span> <span class="built_in">Function</span>( “<span class="keyword">return</span> x;”)</span><br><span class="line">    <span class="keyword">return</span> [e1,e2];</span><br><span class="line">&#125;</span><br><span class="line">alert( func()[<span class="number">0</span>]() );</span><br><span class="line">alert( func()[<span class="number">1</span>]() );</span><br><span class="line">结果： <span class="number">2</span>  <span class="number">1</span>。</span><br><span class="line">注意： <span class="keyword">var</span> e2 = <span class="keyword">new</span> <span class="built_in">Function</span>( “<span class="keyword">return</span> x;”)会创建在最顶层，直接创建子在堆里面。只有最上层的才能动态创建，也就是<span class="built_in">window</span>，那么创建出的对象直接在堆里面，和其他的函数是平级的关系。所以直接调用同级下的<span class="keyword">var</span> x=<span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h2 id="2-2-函数的参数及arguments"><a href="#2-2-函数的参数及arguments" class="headerlink" title="2.2 函数的参数及arguments"></a>2.2 函数的参数及arguments</h2><h3 id="2-2-1-函数的参数"><a href="#2-2-1-函数的参数" class="headerlink" title="2.2.1 函数的参数"></a>2.2.1 函数的参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    add(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">其中a，b就是形参<span class="number">.1</span>,<span class="number">2</span>就是实参。</span><br></pre></td></tr></table></figure>
<p><strong>形参实参数量必须一样多吗？</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//此时实参比形参多，就会忽略掉3</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b，c</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"c"</span> = c);</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    add(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">结果为<span class="literal">undefined</span>，<span class="number">3</span></span><br><span class="line"><span class="comment">//形参个数比实参个数多，形参声明了变量，但是并没有赋值。</span></span><br></pre></td></tr></table></figure>
<p><strong>如何获取形参个数</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如何获取形参的个数    函数名.length</span><br></pre></td></tr></table></figure>
<p><strong>如何获取实参个数</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.arguments </span><br><span class="line">    仅在函数里面有</span><br><span class="line">    专为函数参数设计的对象</span><br><span class="line">2.伪数组length 下标[]</span><br><span class="line">    实参的个数  argument.length</span><br><span class="line">    获取数组的值  argument[i]</span><br><span class="line">3.callee  指向函数自己的</span><br><span class="line">    Argument.callee 获取对象本身。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function add(a,b,c)&#123;</span><br><span class="line">      console.log(&quot;实参&quot; + arguments.length);</span><br><span class="line">      console.log(&quot;形参&quot; + add.length);</span><br><span class="line">      console.log(arguments[0]);</span><br><span class="line">      console.log(arguments[1]);</span><br><span class="line">  &#125;</span><br><span class="line">  add(2,3);</span><br></pre></td></tr></table></figure>
<p>arguments.callee.length   相当于  add.length</p>
<p>注意：匿名函数的自调用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="function"><span class="keyword">function</span> (<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a+b)</span><br><span class="line">    <span class="keyword">if</span>(a==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">arguments</span>.callee(<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">x(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-2-2-如何实现任意参数的求和"><a href="#2-2-2-如何实现任意参数的求和" class="headerlink" title="2.2.2  如何实现任意参数的求和"></a>2.2.2  如何实现任意参数的求和</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">var</span> a = <span class="built_in">arguments</span>.length;</span><br><span class="line">     <span class="keyword">var</span> r = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a; i++)&#123;</span><br><span class="line">         r += <span class="built_in">arguments</span>[i];    </span><br><span class="line">   &#125;</span><br><span class="line"> <span class="keyword">return</span> r;</span><br><span class="line">  &#125;</span><br><span class="line"> <span class="built_in">console</span>.log(add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>));     </span><br><span class="line"> <span class="built_in">console</span>.log(add(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>));</span><br><span class="line"> <span class="built_in">console</span>.log(add());</span><br></pre></td></tr></table></figure>
<h2 id="2-3-函数的三大特性"><a href="#2-3-函数的三大特性" class="headerlink" title="2.3 函数的三大特性"></a>2.3 函数的三大特性</h2><h3 id="2-3-1-函数"><a href="#2-3-1-函数" class="headerlink" title="2.3.1 函数"></a>2.3.1 函数</h3><p><strong>方法特性()</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">运行大括号包裹的代码</span><br></pre></td></tr></table></figure>
<p><strong>对象特性  .</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">获取对象的属性</span><br></pre></td></tr></table></figure>
<p><strong>类的特性  new</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">创建类似对象</span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-对象特性"><a href="#2-3-2-对象特性" class="headerlink" title="2.3.2 对象特性"></a>2.3.2 对象特性</h3><p><strong>自有属性</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span><span class="built_in">arguments</span></span><br><span class="line">    f.arguments  结果是<span class="literal">null</span></span><br><span class="line">    f.x 结果是<span class="literal">undefined</span></span><br><span class="line">    只有在函数体里去使用</span><br><span class="line"><span class="number">2.</span>name</span><br><span class="line"><span class="number">3.</span>length</span><br><span class="line">    f.length</span><br><span class="line"><span class="number">4.</span>prototype</span><br><span class="line"><span class="number">5.</span>call、apply方法</span><br><span class="line"><span class="number">6.</span>toString()方法</span><br><span class="line">    f.toString()将函数转化为字符串</span><br><span class="line"><span class="number">7.</span>bind方法</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( f.arguments);<span class="comment">//返回argument对象</span></span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log( f.arguments);<span class="comment">//null</span></span><br><span class="line"><span class="built_in">console</span>.log(f.x);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p><strong>自定义属性</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>变量和方法</span><br><span class="line"><span class="number">2.</span>内部和外部</span><br><span class="line"></span><br><span class="line"> f.y =<span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    f.x = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(f.y);<span class="comment">//2</span></span><br><span class="line"><span class="built_in">console</span>.log(f.x);<span class="comment">//undefined</span></span><br><span class="line">原因：只是定义了f.x并没有被执行</span><br><span class="line">所以只要执行一下  f()就可以获取。</span><br><span class="line"></span><br><span class="line">函数里面可以嵌套函数</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">e</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">22</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">e();<span class="comment">//是调用不了的</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    f.e = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">22</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">f();<span class="comment">//要先运行，才可以调用里面的函数</span></span><br><span class="line">f.e(); <span class="comment">//f.e是调用了这个方法，没有执行函数。</span></span><br></pre></td></tr></table></figure>
<p><strong>计数器</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> x++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i = "</span>+ i + <span class="string">"x"</span> +f());</span><br><span class="line">&#125;</span><br><span class="line">打印结果是</span><br><span class="line">i = <span class="number">0x0</span></span><br><span class="line">i = <span class="number">1</span>x0</span><br><span class="line">i = <span class="number">2</span>x0</span><br><span class="line">i = <span class="number">3</span>x0</span><br><span class="line">i = <span class="number">4</span>x0......</span><br><span class="line"><span class="comment">//在这里x是局部变量，每次调用f() x每次都会初始化，x永远都会是0；</span></span><br><span class="line">解决办法：将x提升为全局变量。</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i = "</span>+ i + <span class="string">"x"</span> +f());</span><br><span class="line">&#125;</span><br><span class="line">打印结果是</span><br><span class="line">i = <span class="number">0x0</span></span><br><span class="line">i = <span class="number">1</span>x1</span><br><span class="line">i = <span class="number">2</span>x2</span><br><span class="line">i = <span class="number">3</span>x3</span><br><span class="line">i = <span class="number">4</span>x4</span><br><span class="line">i = <span class="number">5</span>x5.......</span><br><span class="line"><span class="comment">//上述写法可以打印出值。</span></span><br><span class="line"></span><br><span class="line">但是在全局变量容易被修改。</span><br><span class="line"></span><br><span class="line">所以使用对象的形式创建就可以解决这个问题</span><br><span class="line">f.x=<span class="number">0</span>；</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f.x++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i="</span> +i +<span class="string">"x"</span> +f());</span><br><span class="line">&#125;</span><br><span class="line">如果把对象放在里面，就要</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(f.x == <span class="literal">undefined</span>)&#123;<span class="comment">//只进来一次</span></span><br><span class="line">        f.x= <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f.x++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i="</span> +i +<span class="string">"x"</span> +f());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-4-自定义求和函数"><a href="#2-4-自定义求和函数" class="headerlink" title="2.4 自定义求和函数"></a>2.4 自定义求和函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">要求</span><br><span class="line">1.函数传入的参数不确定</span><br><span class="line">2.参数可以是任意的数据类型</span><br><span class="line">3.实现下面的结果</span><br><span class="line"></span><br><span class="line">sum(1,2,3) = 6</span><br><span class="line">sum(1,null，-3) = -2</span><br><span class="line">sum(‘1.0’, false , true, 1,‘A’,‘B’) = 2</span><br><span class="line">sum(0.1,0.2) = 0.3</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sum =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="built_in">arguments</span>.length; i++)&#123;</span><br><span class="line">    sum += <span class="built_in">parseInt</span>(<span class="built_in">arguments</span>[i]) || <span class="number">0</span> || <span class="built_in">parseFloat</span>(<span class="built_in">arguments</span>[i]); <span class="comment">//0是考虑了null会直接变成NaN</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum = sum.toFixed(<span class="number">3</span>)*<span class="number">1000</span>/<span class="number">1000</span>;</span><br><span class="line">    <span class="comment">//对浮点数使用 toFixed四舍五入为指定小数位数的数字,</span></span><br><span class="line">    <span class="comment">//sum = sum.toFixed(3) 如果只到这一步，得出是字符串，所以使用后面的隐士转化，转换为数字。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-5-函数的call、apply"><a href="#2-5-函数的call、apply" class="headerlink" title="2.5 函数的call、apply"></a>2.5 函数的call、apply</h2><p>定义：把函数临时赋值到对象上面并执行</p>
<h3 id="2-5-1-call的使用"><a href="#2-5-1-call的使用" class="headerlink" title="2.5.1 call的使用"></a>2.5.1 call的使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>.<span class="title">call</span>(<span class="params">obj,args1,args2</span>)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">f.call(obj,<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> function f(age,name)&#123;</span><br><span class="line">   this.name = name;</span><br><span class="line">   this.age = age;</span><br><span class="line">   console.log(this.name+this.age);</span><br><span class="line">&#125;</span><br><span class="line">var per =&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">f.call(per,20,30);</span><br></pre></td></tr></table></figure>
<h3 id="2-5-2-apply的使用"><a href="#2-5-2-apply的使用" class="headerlink" title="2.5.2 apply的使用"></a>2.5.2 apply的使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function.apply(obj,args)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function f(a,b)&#123;</span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br><span class="line">var obj = &#123;&#125;;</span><br><span class="line">f.call(obj,[2,3]);</span><br></pre></td></tr></table></figure>
<h3 id="2-5-3-总结"><a href="#2-5-3-总结" class="headerlink" title="2.5.3 总结"></a>2.5.3 总结</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"结果是："</span>+(x+y)+<span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  f1(<span class="number">10</span>,<span class="number">20</span>);<span class="comment">//结果是：30[object Window]</span></span><br><span class="line">  f1.apply();<span class="comment">//结果是：NaN[object Window]</span></span><br><span class="line">  f1.call();<span class="comment">//结果是：NaN[object Window]</span></span><br><span class="line">  f1.call(<span class="literal">null</span>);<span class="comment">//结果是：NaN[object Window]</span></span><br><span class="line">  f1.apply(<span class="literal">null</span>);<span class="comment">//结果是：NaN[object Window]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">sex,age</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.sex+<span class="string">"你吃饭了 吗"</span>+<span class="keyword">this</span>.age);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Person.prototype.eat = function(sex,age)&#123;</span></span><br><span class="line">           </span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">sex,age</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.sex = sex;</span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> stu = <span class="keyword">new</span> Student(<span class="string">"男"</span>,<span class="number">180</span>);</span><br><span class="line">        Person.call(stu,<span class="string">"女"</span>,<span class="number">20</span>);</span><br><span class="line"><span class="comment">//结果是 男你吃饭了 吗180 </span></span><br><span class="line">解释：实例对象中有的，就直接使用实例对象中的。女，<span class="number">20</span>是给函数的值。在上一层。</span><br></pre></td></tr></table></figure>
<p>给的参数是函数中需要的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    Foo.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">"吃的多"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> par = <span class="keyword">new</span> Foo(<span class="string">"小米"</span>,<span class="number">20</span>);</span><br><span class="line">    par.eat();<span class="comment">//第一次打印</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Stu</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> stu1 = <span class="keyword">new</span> Stu(<span class="string">"花话"</span>);</span><br><span class="line">    par.eat.apply(stu1,[<span class="number">10</span>,<span class="number">10</span>]);</span><br><span class="line">    par.eat.call(stu1,<span class="number">20</span>,<span class="number">10</span>);</span><br><span class="line">打印出：小米吃的多</span><br><span class="line">       花话吃的多（打印两次)</span><br><span class="line"><span class="comment">//注意：使用apply和call方法的一定对象，而不是函数，也就是括号里面的stu1</span></span><br><span class="line"><span class="comment">//其实就是改变了指针的方向，可以调用另外一个函数中的属性和方法。</span></span><br></pre></td></tr></table></figure>
<h2 id="2-6-Bind-方法"><a href="#2-6-Bind-方法" class="headerlink" title="2.6 Bind 方法"></a>2.6 Bind 方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">定义：把函数拷贝一份，并插入到对象作用域上面</span><br><span class="line">语法：obj.e = function.bind(obj,argus1,argus2)</span><br></pre></td></tr></table></figure>
<p>注：两个undefined加起来等于NaN</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var x = 3,</span><br><span class="line"> y = 2;</span><br><span class="line">function add(a,b)&#123;</span><br><span class="line">    return this.x*a + this.y*b;</span><br><span class="line">&#125;</span><br><span class="line">var obj1 = &#123;</span><br><span class="line">    x:1,</span><br><span class="line">    y:1,</span><br><span class="line">&#125;</span><br><span class="line">console.log(obj1);</span><br><span class="line">obj1.e = add.bind(obj1);</span><br><span class="line">console.log(obj1);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">var</span> x = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">var</span> y = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.x*a + <span class="keyword">this</span>.y*b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">            x:<span class="number">1</span>,</span><br><span class="line">            y:<span class="number">1</span>,</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">            x:<span class="number">2</span>,</span><br><span class="line">            y:<span class="number">2</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(obj1);<span class="comment">//这个很奇怪  始终实现不了？此时也绑定了add函数</span></span><br><span class="line">        obj1.e = add.bind(obj1,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        obj2.e = add.bind(obj2,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(obj1);</span><br><span class="line">        <span class="built_in">console</span>.log(obj2);</span><br><span class="line">        <span class="built_in">console</span>.log(obj1.e());<span class="comment">//2</span></span><br><span class="line">        <span class="built_in">console</span>.log(obj2.e());<span class="comment">//10</span></span><br><span class="line">注：add.bind(obj1,<span class="number">1</span>,<span class="number">1</span>)与obj1.e()</span><br><span class="line">前者可以给一个参数，此时后者给另外一个，前后两者可跟据实际情况给参数。</span><br></pre></td></tr></table></figure>
<img src="/2018/11/08/js1/js5.jpg">
<p>结果是：300    40    280    280</p>
<h2 id="2-7-函数this指针"><a href="#2-7-函数this指针" class="headerlink" title="2.7 函数this指针"></a>2.7 函数this指针</h2><h3 id="2-7-1-定义"><a href="#2-7-1-定义" class="headerlink" title="2.7.1  定义"></a>2.7.1  定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this是函数体内自带的一个对象指针</span><br><span class="line">简单理解：哪个对象拥有函数，this就是谁 -&gt;相当于 我</span><br><span class="line">看谁在使用，谁使用的就是谁</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>普通对象使用函数</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    x: <span class="number">3</span>,</span><br><span class="line">    e:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">obj.e();</span><br><span class="line"><span class="comment">//这里面的this指的就是obj这个对象</span></span><br><span class="line"><span class="comment">//这里注意对象里的值不能使用等于号，会报错。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>直接使用函数的<span class="keyword">this</span>指向</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);<span class="comment">//window对象</span></span><br><span class="line">        &#125;</span><br><span class="line">f();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>函数对象使用函数</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    f.x = <span class="number">100</span>;</span><br><span class="line">    f.e = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);<span class="comment">//100</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//此时的this就是f这个函数，会把整个函数打印出来。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line">f.e();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>函数中使用函数</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x =<span class="number">3</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">e2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</span><br><span class="line">    &#125;</span><br><span class="line">    e2();<span class="comment">//相当于window.e2()，可以省略。</span></span><br><span class="line">&#125;</span><br><span class="line">f();</span><br><span class="line"><span class="comment">//结果为1；</span></span><br></pre></td></tr></table></figure>
<h3 id="2-7-2-this总结"><a href="#2-7-2-this总结" class="headerlink" title="2.7.2   this总结"></a>2.7.2   this总结</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"w10"</span>;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">         a:<span class="number">3</span>,</span><br><span class="line">         f:f,<span class="comment">//赋值的是个指针</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">         a:<span class="number">4</span>,</span><br><span class="line">         f:f,</span><br><span class="line">     &#125;</span><br><span class="line">     f();<span class="comment">//w10   this是window</span></span><br><span class="line">     obj1.f();<span class="comment">//3  this是obj1</span></span><br><span class="line">     <span class="built_in">console</span>.log(obj1.f)<span class="comment">//打印出来的是一个函数 </span></span><br><span class="line">     obj2.f();<span class="comment">//4  this是obj2</span></span><br></pre></td></tr></table></figure>
<p>存储方式：函数本身就是特殊对象，内容是存在堆里面，栈里面存储的是指针。通过小括号的形式把函数执行。对象里有f的指针。指向的是同一个对象。地址相当于钥匙，那么就可以去使用这个func。所以一个函数是可以被多个对象应用的。</p>
<p>注：如果赋值的不是 f:f，而是</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"w10"</span>;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">            a:<span class="number">3</span>,</span><br><span class="line">            <span class="comment">//f:f, 赋值的是个指针</span></span><br><span class="line">             f:f();<span class="comment">//运行了f函数（调用的是window的f）,并把值给了f；所以打印出来的是w10，这里如果什么都没有设定的话，打印出来的应该是undefined</span></span><br><span class="line">        &#125;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">        &#125;</span><br><span class="line">f();<span class="comment">//打印结果是w10</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1.f)<span class="comment">//执行的过程中会输出w10（执行了window的f(）函数)  打印的东西obj1.f 此时的f已经是window的f函数执行完的。没有设定的话就是undefined。</span></span><br><span class="line">obj1.f();<span class="comment">//所以在这f已经不是一个函数，运行f()会报错。（不是函数，是不可以加（）运行的）</span></span><br></pre></td></tr></table></figure>
<p>变形</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"w10"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">    <span class="keyword">return</span> f;<span class="comment">//运行完之后返回的是f的指针。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    a:<span class="number">3</span>,</span><br><span class="line">    f:f(),<span class="comment">//运行完之后获取的是函数本身的指针。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    a:<span class="number">4</span>,</span><br><span class="line">    f:f,</span><br><span class="line">&#125;</span><br><span class="line">f();<span class="comment">//w10</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1.f)<span class="comment">//执行过程中打印一次w10,执行完后，得到函数return的结果 f的指针。所以 此处打印的的f函数。</span></span><br><span class="line">obj1.f();<span class="comment">//打印的结果是3.</span></span><br></pre></td></tr></table></figure>
<h3 id="2-7-3-函数类使用函数"><a href="#2-7-3-函数类使用函数" class="headerlink" title="2.7.3 函数类使用函数"></a>2.7.3 函数类使用函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">"lkn"</span>;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.e = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"lcm"</span>;</span><br><span class="line">f();<span class="comment">//运行这个方法  打印出  lkn</span></span><br><span class="line">f.e();<span class="comment">//会报错，f.e不是个函数，此时e并不是f的对象，this指向的是window。this不是f。</span></span><br><span class="line">=================================================</span><br><span class="line">要想使用f的函数，必须要实例话对象。</span><br><span class="line"><span class="keyword">var</span> f1 = <span class="keyword">new</span> f();</span><br><span class="line"><span class="built_in">console</span>.log(f1.e())</span><br><span class="line">=================================================</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.e = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f1 = <span class="keyword">new</span> f(<span class="string">"cimei"</span>,<span class="number">18</span>);<span class="comment">//实例化对象</span></span><br><span class="line">f1.e();<span class="comment">//调用f中的e方法并执行，打印出  cimei</span></span><br><span class="line"><span class="built_in">console</span>.log(f1);<span class="comment">//打印的是个对象  包含 name：cimei; age:18; e:f 对象</span></span><br></pre></td></tr></table></figure>
<p>函数类使用call  apply 、bind改变this指向。</p>
<h3 id="2-7-4-事件函数-定时器函数"><a href="#2-7-4-事件函数-定时器函数" class="headerlink" title="2.7.4 事件函数  定时器函数"></a>2.7.4 事件函数  定时器函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oBtn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">oBtn.onclick = f;</span><br><span class="line">setTimeout(f,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<h2 id="2-8-自定义全类型读取"><a href="#2-8-自定义全类型读取" class="headerlink" title="2.8 自定义全类型读取"></a>2.8 自定义全类型读取</h2><p>要求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">给一个变量打印出他的具体类型：</span><br><span class="line">1.如果是基本类型，打印效果类似</span><br><span class="line">    undefined number boolean string</span><br><span class="line">2.如果是对象，就打印对象的类型</span><br><span class="line">    js提供的对象类型</span><br><span class="line">    自定义类型</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Istype</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">var</span> type = <span class="keyword">typeof</span> a; </span><br><span class="line">           <span class="keyword">if</span>(type == <span class="string">"object"</span>)&#123;</span><br><span class="line">              type = <span class="built_in">Object</span>.prototype.toString.call(a);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(type ==<span class="string">"[object Object]"</span>)&#123;</span><br><span class="line">               type = <span class="string">"[Object"</span>+typename.constructor.name + <span class="string">"]"</span>;            </span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(type ==<span class="string">"[object Null]"</span>)&#123;</span><br><span class="line">                   type = <span class="string">"null"</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           <span class="keyword">return</span> type;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://luokeni.github.io/2018/11/08/js1/" data-id="cjsigjh0i001rwggg9v5r9kqr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/11/08/js2/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          js进阶知识点总结2
        
      </div>
    </a>
  
  
    <a href="/2018/10/31/css3_3/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">CSS3笔记</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/git使用总结/"> git使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/">CSS3</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结1/">CSS3知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结2/">CSS3知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结3/">CSS3知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/">ES6</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记1/">ES6基础知识笔记1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记2/">ES6基础知识笔记2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/">HTML5</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结1/">HTML5知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结2/">HTML5知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结3/">HTML5知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/">jQuery知识点笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结1/">jQuery知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结2/">jQuery知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结3/">jQuery知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/js/js进阶1/">js进阶1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/js进阶2/">js进阶2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/sass/">sass</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/this指向知识点总结/">this指向知识点总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack使用总结/">webpack使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/">网络知识点总结</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结1/"> 网络基础总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结2/"> 网络基础总结2</a></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/20/sass语法总结/">sass语法总结笔记</a>
          </li>
        
          <li>
            <a href="/2019/01/15/git使用总结/">git使用总结</a>
          </li>
        
          <li>
            <a href="/2019/01/10/webpack工程化/">webpack使用总结</a>
          </li>
        
          <li>
            <a href="/2018/12/31/网络知识_2/">网络基础总结2</a>
          </li>
        
          <li>
            <a href="/2018/12/31/网络基础_1/">网络基础总结1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 罗此梅（老小孩）<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="https://luokeni.github.io/luocimei/" class="mobile-nav-link">项目主页</a>
  
    <a href="https://github.com/luokeni/luocimei" class="mobile-nav-link">gitHub</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>