<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>此梅的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="热爱技术，热爱生活">
<meta property="og:type" content="website">
<meta property="og:title" content="此梅的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="此梅的博客">
<meta property="og:description" content="热爱技术，热爱生活">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="此梅的博客">
<meta name="twitter:description" content="热爱技术，热爱生活">
  
    <link rel="alternate" href="/atom.xml" title="此梅的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">此梅的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-i" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/23/i/" class="article-date">
  <time datetime="2019-02-23T14:10:01.000Z" itemprop="datePublished">2019-02-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/23/i/">i</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/23/i/" data-id="cjshkatqf0004mggg65b9lz5v" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sass语法总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/20/sass语法总结/" class="article-date">
  <time datetime="2019-01-20T08:28:39.000Z" itemprop="datePublished">2019-01-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/sass/">sass</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/20/sass语法总结/">sass语法总结笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第一部分：sass的基础语法"><a href="#第一部分：sass的基础语法" class="headerlink" title="第一部分：sass的基础语法"></a>第一部分：sass的基础语法</h1><h2 id="1-1-sass和css之间的区别"><a href="#1-1-sass和css之间的区别" class="headerlink" title="1.1 sass和css之间的区别"></a>1.1 sass和css之间的区别</h2><p>css:没有封装，没有变量，没有组合，原生的模块化语法不好用</p>
<p>sass：有变量，有组合，有封装，容易结合到已有的工具中</p>
<h2 id="1-2-sass的使用和安装"><a href="#1-2-sass的使用和安装" class="headerlink" title="1.2 sass的使用和安装"></a>1.2 sass的使用和安装</h2><p>两种后缀 使用.scss</p>
<p>安装sass</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g sass//安装在全局下</span><br></pre></td></tr></table></figure>
<p>sass ./src/sass/index.scss dist/index.css</p>
<p>sass即scss文件可以通过vscode的npm命令进行文件转换，sass ./src/index.scss ./dest/index.css进行文件转换。</p>
<h2 id="1-3-语法"><a href="#1-3-语法" class="headerlink" title="1.3 语法"></a>1.3 语法</h2><h3 id="1-3-1-子元素："><a href="#1-3-1-子元素：" class="headerlink" title="1.3.1 子元素："></a>1.3.1 子元素：</h3><pre><code>符合的都会被选择
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">父选择器&#123;</span><br><span class="line">    子选择器&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-3-2-直接子元素"><a href="#1-3-2-直接子元素" class="headerlink" title="1.3.2 直接子元素"></a>1.3.2 直接子元素</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.父选择器&#123;</span><br><span class="line">	&gt;.子选择器&#123;</span><br><span class="line">        </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-3-3-amp-选择器"><a href="#1-3-3-amp-选择器" class="headerlink" title="1.3.3 &amp;选择器"></a>1.3.3 &amp;选择器</h3><p>编译出的东西是平级  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">选择器1&#123;</span><br><span class="line">    &amp;选择器2&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">编译成</span><br><span class="line">选择器1选择器2&#123;</span><br><span class="line">&#125;</span><br><span class="line">没有空格，选择的是一个东西</span><br></pre></td></tr></table></figure>
<p>总结：就是&amp;替换成父级选择器（最外层的那个选择器）</p>
<h1 id="第二部分："><a href="#第二部分：" class="headerlink" title="第二部分："></a>第二部分：</h1><h2 id="2-1-模块化"><a href="#2-1-模块化" class="headerlink" title="2.1 模块化"></a>2.1 模块化</h2><p>@import”模块化名字”</p>
<p>在css中的模块，会产生一个http请求（多个css文件，会导致css文件有先后）</p>
<p><img src="./笔记图片\sass1.jpg" alt></p>
<h2 id="2-2-变量"><a href="#2-2-变量" class="headerlink" title="2.2 变量"></a>2.2 变量</h2><p><img src="./笔记图片\sass2.jpg" alt></p>
<pre><code>通过$变量名声明变量：属性，（没有大括号的就是全局，都可以访问，在大括号内的只能在此大括号起作用）在属性后面可以加!default，如果引入的模块有这个变量就用模块里的，没有的话就是用这个。(避免模块中的被覆盖掉)
</code></pre><h2 id="2-3-变量值的类型"><a href="#2-3-变量值的类型" class="headerlink" title="2.3 变量值的类型"></a>2.3 变量值的类型</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">数字： 10  200px 50% 10pt</span><br><span class="line">颜色: #fff rgb() red</span><br><span class="line">字符串: “a.png”</span><br><span class="line">Null</span><br><span class="line">布尔：true false</span><br></pre></td></tr></table></figure>
<h2 id="2-4-注释"><a href="#2-4-注释" class="headerlink" title="2.4 注释"></a>2.4 注释</h2><h2 id="2-5-小练习"><a href="#2-5-小练习" class="headerlink" title="2.5 小练习"></a>2.5 小练习</h2><p>可以把变量存在一个scss文件中，在使用的文件中引入即可</p>
<h2 id="2-6-Mixins"><a href="#2-6-Mixins" class="headerlink" title="2.6 Mixins"></a>2.6 Mixins</h2><p>可以让样式复用</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@mixin 变量名&#123;&#125;</span><br><span class="line">@include 变量名</span><br></pre></td></tr></table></figure>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>可以多参数</p>
<h3 id="混合使用"><a href="#混合使用" class="headerlink" title="混合使用"></a>混合使用</h3><p>将@mixin 整在一个文件中</p>
<p>在index.scss中通过@import引入</p>
<h3 id="Mixins默认参数"><a href="#Mixins默认参数" class="headerlink" title="Mixins默认参数"></a>Mixins默认参数</h3><h4 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h4><p>可以按照默认顺序去传</p>
<p>传值的时候按照顺序传也可以指定传（通过键值对的形式）此时顺序已经失效了。</p>
<h3 id="Mixins-null"><a href="#Mixins-null" class="headerlink" title="Mixins null"></a>Mixins null</h3><p>按照顺序，传null表示不需要当前属性，也不启用默认值；</p>
<h3 id="Mixins-传一个块"><a href="#Mixins-传一个块" class="headerlink" title="Mixins 传一个块"></a>Mixins 传一个块</h3><p>{}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@mixin 模块名（$变量名：默认属性）&#123;属性；@content&#125;；在要使用这些属性的地方</span><br><span class="line">@include 模块名（变量）&#123;属性&#125;；即可调用；</span><br></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p><a href="https://css-tricks.com/" target="_blank" rel="noopener">https://css-tricks.com/</a></p>
<p>sass官网</p>
<p><a href="http://sass-lang.com/documentation/Sass/Script/Functions.html#adjust_hue-instance_method" target="_blank" rel="noopener">http://sass-lang.com/documentation/Sass/Script/Functions.html#adjust_hue-instance_method</a></p>
<p>色轮</p>
<p><a href="https://color.adobe.com/zh/create/color-wheel/" target="_blank" rel="noopener">https://color.adobe.com/zh/create/color-wheel/</a></p>
<h3 id="if"><a href="#if" class="headerlink" title="@if"></a>@if</h3><pre><code>@if xx&gt;num{ 

}@else{   }

满足条件执行if，否则执行else；支持像素转换判断；
</code></pre><h3 id="字符串插值"><a href="#字符串插值" class="headerlink" title="字符串插值#{}"></a>字符串插值#{}</h3><pre><code>#{变量名}；通过插值这种方式可以在类名，属性名中使用变量；或者其它可能造成误解的地方
</code></pre><h3 id="for循环可以对变量进行循环"><a href="#for循环可以对变量进行循环" class="headerlink" title="@for循环可以对变量进行循环"></a>@for循环可以对变量进行循环</h3><pre><code>@for $i from 1 through 5{

    h#{$i} {

        font-size:$i*1rem;

    }

}

lists数据类型，可以保存很多数据；用逗号或者空格隔开；
</code></pre><h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><pre><code>    @each $i in lists

变量{ #{$i}};进行lists元素的遍历；

通过nth（变量名，第几个）；获取到想要的lists目标元素；
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/20/sass语法总结/" data-id="cjshl0aq10000hwggsheds2t1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-git使用总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/15/git使用总结/" class="article-date">
  <time datetime="2019-01-15T08:28:39.000Z" itemprop="datePublished">2019-01-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/git使用总结/"> git使用总结</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/15/git使用总结/">git使用总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-git简介及命令"><a href="#一-git简介及命令" class="headerlink" title="一 git简介及命令"></a>一 git简介及命令</h1><p>本地版本控制系统</p>
<p>集中式版本控制系统</p>
<p>分布式版本控制系统</p>
<h2 id="三个工作区域"><a href="#三个工作区域" class="headerlink" title="三个工作区域"></a>三个工作区域</h2><p>工作目录</p>
<p>暂存区域：缺点是敲的过程中保存很多次，一个项目保存各种版本就比较乱，工作流程。遇到问题就存 会存大量的文件 工作流程就不够清晰了。</p>
<p>Git仓库</p>
<h2 id="快照"><a href="#快照" class="headerlink" title="快照"></a>快照</h2><p>记录了每一次的变化，并有作者和邮箱</p>
<p>哈希值 照片的编号</p>
<h2 id="git-命令"><a href="#git-命令" class="headerlink" title="git 命令"></a>git 命令</h2><p>1.把打开git bash的默认地址改成你文件夹目标地址</p>
<p>方法：右键git bash 点击属性，将目标后的的c-home删除， 将起始位置改成你的文件夹的地址。</p>
<p>2.其实就是你克隆下你的仓库地址</p>
<p>git clone <a href="http://git......" target="_blank" rel="noopener">http://git......</a>.</p>
<p>2.上步就会在你设置的默认文件夹中得到一个chanke的文件</p>
<p>3.cd chanke</p>
<p>4.将新增的文件夹直接copy到chanke文件夹中</p>
<p>5.git add . 添加文件，注意 add后面有个空格</p>
<p>  在此步骤中，如有 LF will be replaced by CRLF in… 类似的话，可以使用命令 git config core autocrlf false 即可</p>
<p>6.git commit -m”备注信息”</p>
<p>7.git push  </p>
<p>8.git status 查看状态</p>
<p>9.git diff 查看修改</p>
<p>git diff 工作目录与暂存区域有什么变化</p>
<p>git diff –staged 比较暂存区域和上一个版本之间有什么不同</p>
<p>git diff –staged 比较工作目录和上一个版本有什么不同</p>
<p>10.git log 提交的信息</p>
<p>11.撤销操作</p>
<p>git checkout –文件 撤销到暂存 </p>
<p>git reset HEAD 文件 撤销暂存</p>
<h1 id="二-git分支的讲解"><a href="#二-git分支的讲解" class="headerlink" title="二.git分支的讲解"></a>二.git分支的讲解</h1><h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><p>1.分支就是指针</p>
<p>默认分支master</p>
<p>2.创建的平行指针<br>git branch testing<br>3.分支切换<br>git checkout 名字</p>
<h2 id="工作中使用分支"><a href="#工作中使用分支" class="headerlink" title="工作中使用分支"></a>工作中使用分支</h2><p>不要在主分支上修改代码 </p>
<p>#四.gitHub的创建与使用</p>
<h2 id="远程仓库的使用："><a href="#远程仓库的使用：" class="headerlink" title="远程仓库的使用："></a>远程仓库的使用：</h2><p>远程是一个独立的分支，远程仓库可以当作云盘使用</p>
<p>1.git remote//查看当前本地仓库是否和远程仓库有联系；</p>
<p>2.git remote add origin url；与目标url建立链接；（origin为默认名字，也可以换；）</p>
<p>3.git remote -v查看当前链接状态；推送与下拉可以是不同的仓库； </p>
<p>出于安全考虑，fetch（主仓库）和push（副本）可以是两个仓库</p>
<p>4.git push (-u) origin master推送到远程origin的master分支上</p>
<p>加上-u表示记录当前，下次推送直接按照这次；git push提交就可以</p>
<p>5.git branch -va//查看的远程的版本；会将所有的分支列出来</p>
<h2 id="有合作的时候"><a href="#有合作的时候" class="headerlink" title="有合作的时候"></a>有合作的时候</h2><p>6.git fetch url（或者origin代号）；</p>
<p>拉取网站内容；但是不会更改本地文件；</p>
<p>7.可以用git merge origin/master 将远程master分支合并到当前文件中；</p>
<p>8.git pull origin master //拉取加合并代码；</p>
<p>在本地代码，与origin代码有追踪的时候可以直接git pull；不用穿</p>
<p>git push origin master //上传代码；</p>
<p>#项目开发中使用git</p>
<h2 id="git工作流"><a href="#git工作流" class="headerlink" title="git工作流"></a>git工作流</h2><p>方法一<br>merge会把解决冲突给提交一个版本<br>git rebase 就可以解决这个问题(线性)<br>步骤<br>git pull –rebase<br>git add .<br>git rebase –continue<br>git push</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/15/git使用总结/" data-id="cjshkatph0002mgggnklbpgl5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-webpack工程化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/10/webpack工程化/" class="article-date">
  <time datetime="2019-01-10T08:28:39.000Z" itemprop="datePublished">2019-01-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/webpack使用总结/">webpack使用总结</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/10/webpack工程化/">webpack使用总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-什么是模块化"><a href="#一-什么是模块化" class="headerlink" title="一 什么是模块化"></a>一 什么是模块化</h1><p>当js的代码量越来越大的时候，没有模块化就是一个缺陷。</p>
<p>直白的说：就是打包。弥补ES5没有模块化的缺陷。</p>
<p>不用模块化：</p>
<ol>
<li>可读性很差</li>
<li>函数之间有关联性，改变一个，其他的也要变</li>
<li>便于开发（每个人开发的时候把自己的可以防止冲突，通过暴露一个方法就可以）</li>
<li>script标签多的时候，会引起性能问题</li>
<li>作用域问题，会共享全局作用域，可能会污染全局变量</li>
</ol>
<h2 id="1-1-模块化第一步"><a href="#1-1-模块化第一步" class="headerlink" title="1.1 模块化第一步"></a>1.1 模块化第一步</h2><p>IIFE ,立即执行函数。(将函数包裹起来，通过window给暴露出去)</p>
<p>缺点：引入依赖的问题</p>
<p>解决办法：gulp grunt等工具</p>
<p>问:1：我们修改了一个文件，可能就打破了依赖。</p>
<p>问题2：Dead Code</p>
<h2 id="1-2-模块化第二步"><a href="#1-2-模块化第二步" class="headerlink" title="1.2 模块化第二步"></a>1.2 模块化第二步</h2><p>Node  （只能在服务端，浏览器尚未统一）</p>
<p>commonJS语法（导入和导出语法）</p>
<ol>
<li>入口文件（mian.js）</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(&quot;文件&quot;)</span><br></pre></td></tr></table></figure>
<pre><code>在node环境中运行
</code></pre><ol start="2">
<li>导出</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">module.exports = 函数或变量等</span><br></pre></td></tr></table></figure>
<p>问题：没有浏览器支持 且无法直接把main.js文件直接引入到HTML中（不识别require语法）</p>
<p>解决办法：打包工具browerify（所有的js文件是放在一起的，那么用户不需要用就不需要加载，但是这些按需加载都被打包到一块，就会导致加载很慢）</p>
<p>问题：commonJS语法是静态的</p>
<p>webpack就能够很好的解决按需加载，不需要用就不用加载出来。</p>
<h2 id="1-3-模块化第三步"><a href="#1-3-模块化第三步" class="headerlink" title="1.3 模块化第三步"></a>1.3 模块化第三步</h2><p>异步加载规范</p>
<pre><code>AMD   Require.js

CMD   Sea.js
</code></pre><p>问题：太动态了（打包出来的膨胀）</p>
<h2 id="1-4-解决方案：Webpack"><a href="#1-4-解决方案：Webpack" class="headerlink" title="1.4 解决方案：Webpack"></a>1.4 解决方案：Webpack</h2><p>任意模块化的语法都支持（js，css，sass，图片）</p>
<p>按需加载  异步打包</p>
<p>异步加载</p>
<h1 id="二-webpack命令"><a href="#二-webpack命令" class="headerlink" title="二 webpack命令"></a>二 webpack命令</h1><h2 id="2-1-命令"><a href="#2-1-命令" class="headerlink" title="2.1 命令"></a>2.1 命令</h2><p>1.安装环境基于node</p>
<pre><code>node -v  检查node安装的版本

npm -v 检查npm版本
</code></pre><p>2.生成项目说明书</p>
<pre><code>npm init
</code></pre><p>证书：MIT</p>
<p>3.下载webpack’  下载webpack-cli</p>
<p>npm install webpack –save-dev</p>
<p>npm install webpack-cli –save-dev（命令行工具）</p>
<p>也可以通过cnpm去下载 会快一些（淘宝镜像）</p>
<p>注意报错:</p>
<p>这个问题 是名字重复了   换个名称 例如 npm install webpack1  （名字可以不写）<br>所以前面设置名称最好避免叫webpack，以免和下载时带来不必要的麻烦<br>–save-dev 开发时的依赖<br>–save 运行的时候使用<br>5.webpack安装在node_module文件夹中<br>6.检查当前版本<br>.\node_modules.bin\webpack -v<br>若直接运行.\node_modules.bin\webpack 会报错<br>因为默认去当前文件夹src中去找入口文件（在当前文件夹中新建src文件并创建index.js）<br>7.得到dist文件<br>8.发现第6步太麻烦，可以通过脚本中的script<br>webpack:’webpack’<br>通过npm run webpack<br>此时会有个警告说没有设置好模式（开发模式或生产模式）<br>在script中写好<br>开发模式：<br>“dev”:’npm run webpack – –mode development’<br>再运行npm run dev就不会有警告了<br>生产模式：<br>   “prod”:”npm run webpack – –mode production”<br>再运行npm run prod</p>
<h2 id="2-2-如何引入"><a href="#2-2-如何引入" class="headerlink" title="2.2 如何引入"></a>2.2 如何引入</h2><p>webpack的默认行为会把src中的index.js打包到dist文件的main.js<br>1.在src文件中新建一个nav.js，并导出值<br>export default “nav”<br>2.在index.js中写 import nav from “./nav”<br>那么运行npm run prod或者npm run dev就可以运行<br>3.当我们修改东西后，使用node ./dist/main.js运行发现值并没有变化<br>问题：每次修改东西，都要重新打包一次<br>解决办法：watch中监听<br> “prod”:”npm run webpack – –mode production –watch”<br>再使用npm run prod来运行。（生产模式就是压缩代码）<br>通过以上方式，只要nav.js中的数据变化，保存后，立刻就会监听到。</p>
<p>ctr+c强退</p>
<h2 id="2-3-ES6模块和node模式（推荐使用ES6模块）"><a href="#2-3-ES6模块和node模式（推荐使用ES6模块）" class="headerlink" title="2.3 ES6模块和node模式（推荐使用ES6模块）"></a>2.3 ES6模块和node模式（推荐使用ES6模块）</h2><h3 id="2-3-1-ES6模块语法"><a href="#2-3-1-ES6模块语法" class="headerlink" title="2.3.1  ES6模块语法"></a>2.3.1  ES6模块语法</h3><p><strong>1.</strong>在foot.js中（暴露出变量）</p>
<p>export const top = ‘top’;</p>
<p>export const bot = ‘bot’;</p>
<p>或者</p>
<p>export{top,bottom};</p>
<h3 id="注意：export"><a href="#注意：export" class="headerlink" title="注意：export"></a>注意：export</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> divTop = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">divTop.innerText = <span class="string">"我是个div"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> divTop</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> divTop = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">divTop.innerText = <span class="string">"我是个div"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> divTop</span><br></pre></td></tr></table></figure>
<p>不知道第二种方式为啥不可以，必须要用第一种方式</p>
<p><strong>2.</strong>那么在index.js文件中（引入变量）</p>
<p>import {top,bot} from “./footer”</p>
<p>结果可以在另一个新的终端中</p>
<p>输入node ./dist/main.js便可看到结果</p>
<p><strong>注意：</strong></p>
<p>在 color.js中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const red = &apos;red&apos;;</span><br><span class="line">const green = &apos;green&apos;;</span><br><span class="line">const makeColor = (color) =&gt;&#123;</span><br><span class="line">    return color;</span><br><span class="line">&#125;</span><br><span class="line">export &#123; red, green, makeColor&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123;makeColor&#125; from &apos;./color&apos;;//还是需要&#123;&#125;引入</span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-node模式"><a href="#2-3-2-node模式" class="headerlink" title="2.3.2 node模式"></a>2.3.2 node模式</h3><p>1.在button.js中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">name</span>)=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">` btn:<span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.在index.js中</p>
<p>node使用的是 require(“./button”)</p>
<p>但是一个文件最好使用一个模块化语法</p>
<p>import btn from “./foot1”；//btn因为前面的没有名字 所以可以起个名字btn来接受</p>
<p>console.log(btn(“哈哈”));</p>
<p>以上说明webpack可以对任意模块化语法都可以（推荐使用ES6）</p>
<p>缺点：会有死代码的情况，因为import的时候，会把代码都引入，即使有一些不使用的也会引入。</p>
<p>webpack有个tree shaking  可以把不用的那部分代码全部砍掉。（在打包的时候就砍掉了）</p>
<h1 id="三-使用webpack的三种方式"><a href="#三-使用webpack的三种方式" class="headerlink" title="三 使用webpack的三种方式"></a>三 使用webpack的三种方式</h1><p>命令行工作：第二课时已经讲了</p>
<p>npm init -y</p>
<p>npm install webpack</p>
<p>npm install webpack -cli</p>
<p>在./node_modules/.bin/webpack会从src中的index.js文件当默认入口，然后输出到dist文件中的main.js</p>
<p>更快速简洁的方式在脚本package.json中以键值对的形式写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"webpack"</span>: <span class="string">"webpack"</span>,</span><br><span class="line">  <span class="string">"dev"</span>: <span class="string">"npm run webpack -- --mode development"</span>,</span><br><span class="line">  <span class="string">"prod"</span>: <span class="string">"npm run webpack -- --mode production --watch"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>因此就可以使用 npm run webpack去运行</p>
<p>通过–告诉webpack  后面是传的参数</p>
<p>webpack 4不需要写配置文件</p>
<p>webpack 3必须要写配置文件</p>
<h2 id="webpack的核心"><a href="#webpack的核心" class="headerlink" title="webpack的核心"></a>webpack的核心</h2><p>entry</p>
<p>Output</p>
<p>Loaders</p>
<p>Plugins</p>
<h2 id="3-1-配置文件"><a href="#3-1-配置文件" class="headerlink" title="3.1 配置文件"></a>3.1 配置文件</h2><h3 id="3-1-1-Entry"><a href="#3-1-1-Entry" class="headerlink" title="3.1.1 Entry"></a>3.1.1 Entry</h3><p><strong>告诉webpack入口文件在哪</strong></p>
<p><strong>Entry一个入口</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./Entry.js'</span>,</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Entry多个入口</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        entry:  <span class="string">'./entry.js'</span> ,</span><br><span class="line">        index:<span class="string">' ./index.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-1-2-Output"><a href="#3-1-2-Output" class="headerlink" title="3.1.2 Output"></a>3.1.2 Output</h3><p><strong>告诉webpack把编译好的文件放在哪里</strong></p>
<p>__dirname(英文下的杠杠)可以快速获取当前文件夹的绝对路径</p>
<h3 id="3-1-3-Loaders"><a href="#3-1-3-Loaders" class="headerlink" title="3.1.3 Loaders"></a>3.1.3 Loaders</h3><p><strong>告诉webpack在添加到依赖图之前如何转换一个文件</strong></p>
<p>告诉webpack在添加到依赖图之前需要做什么，本质上就是一个函数（有些浏览器不支持ES6，所以在使用前，需要转化为ES5，那么这些就是Loaders来做）</p>
<p>ues里是从右向左执行的。</p>
<h3 id="3-1-4-Plugins"><a href="#3-1-4-Plugins" class="headerlink" title="3.1.4 Plugins"></a>3.1.4 Plugins</h3><p><strong>在编译的过程中添加你想要的任何操作</strong></p>
<p>注入文件  打包压缩 loader做不了的都可以使用plugin去做</p>
<h3 id="3-1-5-综合使用"><a href="#3-1-5-综合使用" class="headerlink" title="3.1.5 综合使用"></a>3.1.5 综合使用</h3><p><strong>以对象的形式暴露出来</strong></p>
<p>在文件的根目录下新建webpack.config.js文件中配置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">""</span>,</span><br><span class="line">    output: <span class="string">""</span>,</span><br><span class="line">    <span class="built_in">module</span>:&#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.js$/</span> ,</span><br><span class="line">            use: [<span class="string">"bable-loader"</span>]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">    Plugin;[</span><br><span class="line">        <span class="keyword">new</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>函数</strong></p>
<p>优点：可以接受参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="params">()</span> =&gt;</span>(&#123;&#125;)<span class="comment">//避免把大括号认为是个代码块，所以加个括号</span></span><br></pre></td></tr></table></figure>
<p>之前是直接在package.json文件中的script中通过 –的形式传参数</p>
<p>现在，给env对象传个属性（给env这个对象中传了一个属性叫做mode，而不是直接告诉命令行去直接去改变mode属性）mode选项也在配置文件中写</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "webpack": "webpack",</span><br><span class="line">  "dev": "npm run webpack -- --env.mode development",</span><br><span class="line">  "prod": "npm run webpack -- --env.mode production"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>此时运行 npm run dev 会有警告说我们没有设置模式</p>
<p>那么如何接参数呢？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(env);<span class="comment">//注意大小写</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        mode: env.mode,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>简写的形式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">mode</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> mode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>多个对象的属性的时候</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">&#123;mode&#125;</span>)=&gt;</span>&#123;<span class="comment">//此时mode需要用&#123;&#125;</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        mode,</span><br><span class="line">        entry: <span class="string">"./src/index1.js"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">module.exports = (&#123;mode&#125;)=&gt;&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        mode,</span><br><span class="line">        entry: "./src/index1.js",</span><br><span class="line">        output:&#123;</span><br><span class="line">            path: __dirname + '/build',//以绝对的路径</span><br><span class="line">            filename: "bundle.js"</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以使用解构赋值直接获取mode属性。</p>
<p><strong>plugin</strong></p>
<p>安装： npm install html-webpack-plugin –save-dev</p>
<p>在webpack.config.js中，引入const htmlWebpackPlugin = require(“html-webpack-plugin”);</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plugins:[</span><br><span class="line">         new htmlWebpackPlugin(),</span><br><span class="line">     ]</span><br></pre></td></tr></table></figure>
<p>可以自动注入标签(会把output中的js文件直接引入到创建的html文件中)</p>
<p>找webpack中根目录下的index.html  把它当做模板 然后将文件注入进去</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plugins:[</span><br><span class="line">          <span class="keyword">new</span> htmlWebpackPlugin(&#123;</span><br><span class="line">              template: <span class="string">"./index.html"</span></span><br><span class="line">          &#125;)</span><br></pre></td></tr></table></figure>
<p><strong>如何使用webpack中内置插件</strong></p>
<p>在webpack.config.js中，引入const htmlWebpackPlugin = require(“html-webpack-plugin”);</p>
<p><strong>开服务器</strong></p>
<p>命令： npm install webpack-dev-server</p>
<p>于此同时我们要改json中的配置</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "webpack": "webpack",</span><br><span class="line">  "webpack-dev-server":"webpack-dev-server",</span><br><span class="line">  "dev": "npm run webpack-dev-server -- --env.mode development",</span><br><span class="line">  "prod": "npm run webpack -- --env.mode production"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>这样就可以创建个服务器，只是一个过渡 。</p>
<h3 id="3-1-6-如何把开发和生产模式分开"><a href="#3-1-6-如何把开发和生产模式分开" class="headerlink" title="3.1.6 如何把开发和生产模式分开"></a>3.1.6 如何把开发和生产模式分开</h3><p>命令：npm install webpack-merge –save-dev，这个方法是可以把两个对象融合</p>
<p>在webpack文件中引入文件</p>
<p>const webpack = require(“webpack-merge “);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return webpackMerge(&#123;开发模式就读开发模式的.js&#125;,&#123;生产模式就读生产模式的.js&#125;)</span><br></pre></td></tr></table></figure>
<p>新建文件夹build-utils创建两个js文件，一个是webpack.development.js 另一个是webpack.production.js，分别在文件中配置一下output</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    output:&#123;</span><br><span class="line">        filename: <span class="string">"prod.js"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>写一个读取mode的函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> configMode = <span class="function">(<span class="params">mode</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">require</span>(<span class="string">`./build-utils/webpack.<span class="subst">$&#123;mode&#125;</span>.js`</span>)<span class="comment">//根据输入的模式读取不同的js文件</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">&#123;mode&#125;</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">return</span> webpackMerge(&#123;</span><br><span class="line">    mode,</span><br><span class="line">    entry: <span class="string">"./src/index1.js"</span>,</span><br><span class="line">    plugins:[</span><br><span class="line">        <span class="keyword">new</span> htmlWebpackPlugin(&#123;</span><br><span class="line">            template: <span class="string">"./index.html"</span></span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> webpack.ProgressPlugin()</span><br><span class="line">    ]</span><br><span class="line">&#125; , configMode(mode));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>哈希值作用：缓存机制，和内容匹配，内容不一样，哈希值也不一样。会请求新的文件，可以保证用户获取的是最新的文件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    output:&#123;</span><br><span class="line">        filename: &quot;[chunkhash].js&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-1-7-Loder使用"><a href="#3-1-7-Loder使用" class="headerlink" title="3.1.7 Loder使用"></a>3.1.7 Loder使用</h3><p><strong>命令</strong>： npm install sass-loader node-sass –save-dev</p>
<p>在这里注意：output中filename 不能是哈希值的形式，或者先不写，否则会出错</p>
<p>它会把配置的json文件给加上哈希值</p>
<p> path: ‘F:\web_study\js\8webpack\node_modules\read-pkg-up\package.json.4217342982’,</p>
<p>.scss文件转换为css后，还有下载个css-loader</p>
<p><strong>命令</strong>：npm install css-loader –save-dev</p>
<p>但是并没有注入到html文件中，所以还要下载style-loader</p>
<p><strong>命令</strong>：npm install style-loader –save-dev</p>
<p><strong>–hot</strong> 热模块启动（局部刷新，每次都刷新会造成操作上的影响）</p>
<p>在脚本配置</p>
<p>“dev”: “npm run webpack-dev-server – –env.mode development –hot”,</p>
<p>可以起到局部作用，不是整个页面都刷新。刷新速度比较快。</p>
<p>那么以上只是注入了style</p>
<p>我们想以css文件的方式去添加呢？要下载 mini-css-extract-plugin –save-dev</p>
<h4 id="3-1-7-1-babel-loader的使用"><a href="#3-1-7-1-babel-loader的使用" class="headerlink" title="3.1.7.1 babel-loader的使用"></a>3.1.7.1 babel-loader的使用</h4><p>npm install babel-loader @babel/core @babel/preset-env –save-dev(core核心可以分析语法，可以生成新的文件）</p>
<p>安装插件合集（因为一个语法引入一个插件太费劲了）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>:&#123;</span><br><span class="line">    rules:[&#123;</span><br><span class="line">        test:<span class="regexp">/\.js$/</span>,</span><br><span class="line">        use:[<span class="string">"babel-loader"</span>]<span class="comment">//这样会直接使用babel-core，还是ES6的语法，所以要写成对象的形式</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;，</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>:&#123;</span><br><span class="line">    rules:[&#123;</span><br><span class="line">        test:<span class="regexp">/\.js$/</span>,</span><br><span class="line">        use:[&#123;</span><br><span class="line">            loader:<span class="string">"babel-loader"</span>,</span><br><span class="line">            options:&#123;</span><br><span class="line">                presets:[<span class="string">"@babel/preset-env"</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h4 id="3-1-7-2-url-loader"><a href="#3-1-7-2-url-loader" class="headerlink" title="3.1.7.2 url-loader"></a>3.1.7.2 url-loader</h4><p>在rules对象中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test:<span class="regexp">/\.jpe?g$/</span>,</span><br><span class="line">    use:[<span class="string">"url-loader"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>npm install url-loder file-loader –save-dev</p>
<p>如果报错就分开安装</p>
<p>npm install url-loader –save-dev</p>
<p>npm install file-loader –save-dev</p>
<p>在src中的image.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (url)=&gt;&#123;</span><br><span class="line">    <span class="keyword">const</span> image = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">    image.src = url;</span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tupian <span class="keyword">from</span> <span class="string">'./2.jpg'</span>;</span><br><span class="line"><span class="keyword">import</span> creatImage <span class="keyword">from</span> <span class="string">'./image'</span>;</span><br><span class="line"><span class="keyword">const</span> image = creatImage(tupian);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(image);</span><br></pre></td></tr></table></figure>
<p>配置url-loader</p>
<p>优化图片</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test:<span class="regexp">/\.jpe?g$/</span>,</span><br><span class="line">    use:[&#123;</span><br><span class="line">        loader:<span class="string">"url-loader"</span>,</span><br><span class="line">        options:&#123;</span><br><span class="line">            limit:<span class="number">5000</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-2-优化配置文件"><a href="#3-2-优化配置文件" class="headerlink" title="3.2 优化配置文件"></a>3.2 优化配置文件</h2><p>特定条件下使用特定插件</p>
<p>在特定条件下去加载配置项</p>
<p>根据传的参数不同（通过命令行工具传参），去加载不同特定条件下的webpack的配置文件</p>
<p>npm run prod – –env.参数  预处理的东西</p>
<p>例如：npm run prod – –env.preset  a</p>
<p>可以根绝这个参数去决定加载哪个js文件（犹如之前学的分别配置生产和开发模式的js文件）</p>
<p>build-utils文件夹中webpack.a.js文件</p>
<p>配置在一个loaderPreset.js(选择配置的文件)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">presets</span>)=&gt;</span>&#123;</span><br><span class="line">    presets = presets || [];</span><br><span class="line">    <span class="keyword">const</span> mergePresets = [].concat(presets);</span><br><span class="line">    <span class="keyword">const</span> mergeConfig = mergePresets.map(<span class="function">(<span class="params">presetName</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">require</span>(<span class="string">`./presets/webpack.<span class="subst">$&#123;presetName&#125;</span>`</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(mergeConfig)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在webpack.config.js中要引入</p>
<p>const loadPresets = require(“./build-utils/loaderpresets”)</p>
<p>合并插件</p>
<p>webpack-merge</p>
<h3 id="3-2-2-分析插件-压缩代码"><a href="#3-2-2-分析插件-压缩代码" class="headerlink" title="3.2.2 分析插件(压缩代码)"></a>3.2.2 分析插件(压缩代码)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">webpack-bundle-analyzer</span><br><span class="line">npm install --save-dev webpack-bundle-analyzer</span><br><span class="line">运行 npm run prod -- --env.preset analyzer</span><br><span class="line">会直接开个服务器分析文件</span><br><span class="line">配置脚本</span><br><span class="line">&quot;prod:alz&quot;:&quot;npm run prod -- --env.presets analyze&quot;</span><br></pre></td></tr></table></figure>
<h3 id="3-2-3-变成压缩文件"><a href="#3-2-3-变成压缩文件" class="headerlink" title="3.2.3 变成压缩文件"></a>3.2.3 变成压缩文件</h3><p>一般不用，爬虫优化不好，图片不清晰</p>
<p>webpack compression-webpack-plugin</p>
<h1 id="四-webpack性能优化"><a href="#四-webpack性能优化" class="headerlink" title="四 webpack性能优化"></a>四 webpack性能优化</h1><h2 id="4-1-导致页面卡的主要原因"><a href="#4-1-导致页面卡的主要原因" class="headerlink" title="4.1 导致页面卡的主要原因"></a>4.1 导致页面卡的主要原因</h2><ol>
<li>初始化的JavaScript太大</li>
<li>初始化的css太大</li>
<li>刚开始太多的请求</li>
</ol>
<h2 id="4-2-最优目标"><a href="#4-2-最优目标" class="headerlink" title="4.2 最优目标"></a>4.2 最优目标</h2><h3 id="4-2-1-几种"><a href="#4-2-1-几种" class="headerlink" title="4.2.1 几种"></a>4.2.1 几种</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;= 200kb的初始化化JavaScript</span><br><span class="line"></span><br><span class="line">&lt;=100kb的初始化css</span><br><span class="line"></span><br><span class="line">http:&lt;=6个请求</span><br><span class="line"></span><br><span class="line">http/2：&lt;=20个请求</span><br><span class="line"></span><br><span class="line">90%的代码覆盖率 10%未使用代码</span><br><span class="line"></span><br><span class="line">ctr +shift+p     调出代码覆盖率  coverge</span><br></pre></td></tr></table></figure>
<h3 id="4-2-2-代码分离"><a href="#4-2-2-代码分离" class="headerlink" title="4.2.2 代码分离"></a>4.2.2 代码分离</h3><p>把打包的一个js拆分成小块（初始化未使用的代码放在异步中，使用的时候再加载）</p>
<h4 id="4-2-2-1-代码分离方式"><a href="#4-2-2-1-代码分离方式" class="headerlink" title="4.2.2.1 代码分离方式"></a>4.2.2.1 代码分离方式</h4><p><strong>静态分离</strong>（不推荐）多个html多个js才使用</p>
<p>入口文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">entry:&#123;</span><br><span class="line">    index1 :&quot;./src/index1.js&quot;,</span><br><span class="line">    index2:&quot;./src/index2.js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>出口文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">output&#123;</span><br><span class="line">    filename:&quot;[chunkhash].js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>“动态”导入</strong></p>
<p>不是webpack是动态的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">button.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">import</span>(<span class="string">"./top"</span>).then(<span class="function"><span class="params">top</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(top.divTop);</span><br><span class="line">    &#125;)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-2-3-动态语法的其他用法"><a href="#4-2-3-动态语法的其他用法" class="headerlink" title="4.2.3 动态语法的其他用法"></a>4.2.3 动态语法的其他用法</h3><h4 id="可以加载自己写的模块"><a href="#可以加载自己写的模块" class="headerlink" title="可以加载自己写的模块"></a>可以加载自己写的模块</h4><pre><code>简写
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getTop = <span class="function"><span class="params">()</span> =&gt;</span><span class="keyword">import</span>(<span class="string">"./top"</span>);</span><br><span class="line">button.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    getTop().then(<span class="function"><span class="params">top</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(top.divTop);</span><br><span class="line">    &#125;)</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="也可以加载第三方库"><a href="#也可以加载第三方库" class="headerlink" title="也可以加载第三方库"></a>也可以加载第三方库</h4><p>lodash</p>
<p>npm install lodash-es –save</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const getLodash = ()=&gt;import(&quot;lodash-es&quot;);</span><br><span class="line">button.onclick = function()&#123;</span><br><span class="line">    getLodash().then((_)=&gt;&#123;</span><br><span class="line">        console.log(_s)</span><br><span class="line">    &#125;)</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以通过magic comments即魔法注释来改变生产后加载的js名字</p>
<pre><code>通过process.env.NODE_ENV可以获取当前mode状态；借此判断开发模式，下面的要判断开发模式；

当加载文件夹的时候，开发模式可以使用lazy-once；懒加载，使用什么才会加载；避免开发的时候编译过慢；
</code></pre><p>可以使用预加载插件，搜索code Splitting添加注释，实现代码预加载功能；</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/10/webpack工程化/" data-id="cjshkau7i001cmgggqok56mlq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网络基础_1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/31/网络基础_1/" class="article-date">
  <time datetime="2018-12-31T08:28:39.000Z" itemprop="datePublished">2018-12-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络知识点总结/">网络知识点总结</a>►<a class="article-category-link" href="/categories/网络知识点总结/网络基础总结1/"> 网络基础总结1</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/网络基础_1/">网络基础总结1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#一 网络基础知识普及</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">www万维网：是一个由许多互相链接的超文本组成的系统，通过互联网访问</span><br><span class="line"></span><br><span class="line">URL：统一资源定位符，通过url可以得到资源的位置</span><br><span class="line">http://www.baidu.com</span><br><span class="line">协议 域名</span><br></pre></td></tr></table></figure>
<h1 id="二-集成环境安装和使用"><a href="#二-集成环境安装和使用" class="headerlink" title="二 集成环境安装和使用"></a>二 集成环境安装和使用</h1><img src="/2018/12/31/网络基础_1/inter1.jpg">
<p>#三 手动封装Ajax兼容性写法</p>
<h2 id="3-1-get请求"><a href="#3-1-get请求" class="headerlink" title="3.1 get请求"></a>3.1 get请求</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// （1） web浏览器</span></span><br><span class="line"><span class="comment">// （2） ajax对象       </span></span><br><span class="line"><span class="comment">// （3） 初始化 HTTP 请求参数(请求方式, 地址, 同步异步)</span></span><br><span class="line"><span class="comment">// （4） 发送请求</span></span><br><span class="line"><span class="comment">// （5） 监控数据        </span></span><br><span class="line"><span class="comment">// （6） 检查数据 使用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// （1） web浏览器用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//xml的兼容写法,ajax对象</span></span><br><span class="line">    <span class="keyword">var</span> xml = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">        <span class="keyword">var</span> xml = <span class="keyword">new</span> XMLHttpRequest();<span class="comment">//谷歌，火狐，IE7及以上的浏览器</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> xml = <span class="keyword">new</span> ActiveXObject(Microsoft.XMLHttp)<span class="comment">//IE6及以下浏览器</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// （3） 初始化 HTTP 请求参数(请求方式, 地址, 同步异步)</span></span><br><span class="line">    xml.open(<span class="string">'GET'</span>, <span class="string">'./getNews.php'</span>, <span class="literal">true</span>);<span class="comment">//大写的形式</span></span><br><span class="line">    <span class="comment">// （4） 发送请求</span></span><br><span class="line">    xml.send();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// （5） 监控数据   </span></span><br><span class="line">    xml.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;<span class="comment">//状态变化的时候才会触发</span></span><br><span class="line">        <span class="built_in">console</span>.log(xml.readyState)<span class="comment">//打印了2，3,4因为在调用的时候，其状态已经是1了</span></span><br><span class="line">        <span class="keyword">if</span>(xml.readyState == <span class="number">4</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(xml.status == <span class="number">200</span>)&#123;</span><br><span class="line">                            callback(xml.responseText);<span class="comment">//xml.responseText获取的值</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(val);</span><br><span class="line">        <span class="keyword">var</span> str = <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">var</span> oList = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'list'</span>)[<span class="number">0</span>];</span><br><span class="line">        data.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">ele, index</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(ele)</span><br><span class="line">            str += <span class="string">'&lt;li&gt;'</span>+ ele.title+ ele.date+<span class="string">'&lt;/li&gt;'</span>;</span><br><span class="line">            </span><br><span class="line">        &#125;)</span><br><span class="line">        oList.innerHTML = str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>POST是传数据的，并且要告诉我们传的值是什么类型,且类型固定， 必须那样写</p>
<p>xml.setRequestHeader</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">html中的结构</span><br><span class="line">    &lt;ul class=&quot;list&quot;&gt;&lt;/ul&gt;</span><br><span class="line">    姓名&lt;input type=&quot;text&quot; id=&quot;btn1&quot;&gt;</span><br><span class="line">    年龄&lt;input type=&quot;text&quot; id=&quot;btn2&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; class=&quot;btn3&quot;&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"./ajax.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    ajax();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-2-post请求"><a href="#3-2-post请求" class="headerlink" title="3.2 post请求"></a>3.2 post请求</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//xml的兼容写法,ajax对象</span></span><br><span class="line">    <span class="keyword">var</span> xml = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">        <span class="keyword">var</span> xml = <span class="keyword">new</span> XMLHttpRequest();<span class="comment">//谷歌，火狐，IE7及以上的浏览器</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> xml = <span class="keyword">new</span> ActiveXObject(Microsoft.XMLHttp)<span class="comment">//IE6及以下浏览器</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// （3） 初始化 HTTP 请求参数(请求方式, 地址, 同步异步)</span></span><br><span class="line">    xml.open(<span class="string">'POST'</span>, <span class="string">'./post.php'</span>, <span class="literal">true</span>);<span class="comment">//大写的形式</span></span><br><span class="line">    <span class="comment">//post请求的数据，在此处传，且要告诉服务器传的类型是什么样子的</span></span><br><span class="line">    xml.setRequestHeader(<span class="string">'Content-Type'</span>,<span class="string">'application/x-www-form-urlencoded'</span>);</span><br><span class="line">    <span class="comment">// （4） 发送请求</span></span><br><span class="line">    xml.send(data);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// （5） 监控数据   </span></span><br><span class="line">    xml.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;<span class="comment">//状态变化的时候才会触发</span></span><br><span class="line">        <span class="built_in">console</span>.log(xml.readyState)<span class="comment">//打印了2，3,4因为在调用的时候，其状态已经是1了</span></span><br><span class="line">        <span class="keyword">if</span>(xml.readyState == <span class="number">4</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(xml.status == <span class="number">200</span>)&#123;</span><br><span class="line">                cbs(xml.responseText);<span class="comment">//返回回来的字符串</span></span><br><span class="line">              </span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> oIn3 = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'btn3'</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> str ;</span><br><span class="line">    oIn3.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> oIn1 = <span class="built_in">document</span>.getElementById(<span class="string">'btn1'</span>);</span><br><span class="line">        <span class="keyword">var</span> oIn2 = <span class="built_in">document</span>.getElementById(<span class="string">'btn2'</span>);</span><br><span class="line">        str = <span class="string">'username'</span> + oIn1.value +<span class="string">'userage'</span> + oIn2.value;</span><br><span class="line">        <span class="built_in">console</span>.log(str)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">cbs</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(val)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-3-两者之间的区别"><a href="#3-3-两者之间的区别" class="headerlink" title="3.3 两者之间的区别"></a>3.3 两者之间的区别</h2><p>get和post都可以传数据</p>
<p>get请求直接把数据拼接在url的后面</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xml = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xml.open(<span class="string">'GET'</span>, <span class="string">'./getNews.php?+data'</span>, <span class="literal">true</span>);<span class="comment">//在url后面以？的形式去拼接数据</span></span><br><span class="line">xml.send();</span><br></pre></td></tr></table></figure>
<p>post请求</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//post请求的数据，在此处传，且要告诉服务器传的类型是什么样子的</span></span><br><span class="line"> xml.setRequestHeader(<span class="string">'Content-Type'</span>,<span class="string">'application/x-www-form-urlencoded'</span>);</span><br><span class="line"> <span class="comment">// （4） 发送请求</span></span><br><span class="line"> xml.send(data);</span><br></pre></td></tr></table></figure>
<p>注意：当使用get向同一个地址发送多次请求的时候，是会有缓存的。会在浏览器中缓存一段时间，会直接从浏览器中取数据，而不会再从服务器中拿。只要url一样，就不会重新去拿数据。</p>
<p>如何解决：get的同一个url，如何改变url，也就是更新一下，每次都是新的url，改变一下参数。</p>
<p>添加一个事件戳，date.getTime</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">timer = date.getTime()</span><br><span class="line">xml.open(method, url +&apos;?&apos;+data +&apos;&amp;timer=&apos;, flag);//大写的形式</span><br><span class="line">xml.send();</span><br></pre></td></tr></table></figure>
<p>最终封装结果</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// （1） web浏览器</span></span><br><span class="line"><span class="comment">// （2） ajax对象       </span></span><br><span class="line"><span class="comment">// （3） 初始化 HTTP 请求参数(请求方式, 地址, 同步异步)</span></span><br><span class="line"><span class="comment">// （4） 发送请求</span></span><br><span class="line"><span class="comment">// （5） 监控数据        </span></span><br><span class="line"><span class="comment">// （6） 检查数据 使用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// （1） web浏览器用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params"> method, data, callback, url, flag</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//xml的兼容写法,ajax对象</span></span><br><span class="line">    <span class="keyword">var</span> xml = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">        <span class="keyword">var</span> xml = <span class="keyword">new</span> XMLHttpRequest();<span class="comment">//谷歌，火狐，IE7及以上的浏览器</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> xml = <span class="keyword">new</span> ActiveXObject(Microsoft.XMLHttp);<span class="comment">//IE6及以下浏览器</span></span><br><span class="line">    &#125;</span><br><span class="line">    method = method.toUpperCase();<span class="comment">//兼容小写的post，get</span></span><br><span class="line">    <span class="keyword">if</span>(method == <span class="string">'GET'</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        timer = date.getTime();</span><br><span class="line">        xml.open(method, url +<span class="string">'?'</span>+data +<span class="string">'&amp;timer='</span>+timer, flag);<span class="comment">//大写的形式</span></span><br><span class="line">        xml.send();</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>( method == <span class="string">'POST'</span>)&#123;</span><br><span class="line">        <span class="comment">// （3） 初始化 HTTP 请求参数(请求方式, 地址, 同步异步)</span></span><br><span class="line">        xml.open( method, url, flag);<span class="comment">//大写的形式</span></span><br><span class="line">        <span class="comment">//post请求的数据，在此处传，且要告诉服务器传的类型是什么样子的</span></span><br><span class="line">        xml.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/x-www-form-urlencoded'</span>);</span><br><span class="line">        <span class="comment">// （4） 发送请求</span></span><br><span class="line">        xml.send(data);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// （5） 监控数据   </span></span><br><span class="line">    xml.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;<span class="comment">//状态变化的时候才会触发</span></span><br><span class="line">        <span class="built_in">console</span>.log(xml.readyState)<span class="comment">//打印了2，3,4因为在调用的时候，其状态已经是1了</span></span><br><span class="line">        <span class="keyword">if</span>(xml.readyState == <span class="number">4</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(xml.status == <span class="number">200</span>)&#123;</span><br><span class="line">                callback(xml.responseText);<span class="comment">//返回回来的字符串</span></span><br><span class="line">              </span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="四-瀑布流"><a href="#四-瀑布流" class="headerlink" title="四 瀑布流"></a>四 瀑布流</h1><p>问题一：获取来的图片给谁添加？判断几个栏的高度，谁的最短就先给谁添加，均衡添加。</p>
<p>问题二：当数据没有请求回来的时候，所获取的高度都是起初的那个，那么当所有数据请求回来之后，都会添加在高度最小的那一栏，可以加个window.onload解决。</p>
<p>问题三：在我获取数据的过程中，发现滚动条忽长忽短，所以最好在固定一下高度，那么如何固定高度呢？css设置了宽度h，而我们请求回来的数据也有其高度和宽度，两者成比例，w/h = W/H,最后 h = wH/W。同时这也是问题二的解决办法，当有个高度在那撑开的时候，不管你数据有没有请求回来，都可以知道谁是最短的一栏。</p>
<p>问题四：当数据再次获取完之后，需要再一次请求数据，也就是此时需要重新调用ajax，什么时候调用呢？当滚动条滚动那段距离（隐藏的那部分scrollTop）+ 当前窗口的高度(可视化区域clientHeight) &gt; 最短那一栏的高度的时候，就需要请求。<br>问题五：需要给ajax请求过程上一个锁，否则会一直请求<br>问题六：要对请求的页数做处理<br>问题七：当请求回来的页面是空的时候，就不要再进行ajax请求<br>问题八：当我请求完数据，创建了新的元素后，需要去渲染，重新获取dom树。</p>
<h1 id="第五课时：HTTP协议那些事"><a href="#第五课时：HTTP协议那些事" class="headerlink" title="第五课时：HTTP协议那些事"></a>第五课时：HTTP协议那些事</h1><h2 id="什么是http"><a href="#什么是http" class="headerlink" title="什么是http"></a>什么是http</h2><p>http: 就是个规则，用于web服务器。所有的万维网都遵循这个协议规则。(大部分要求的是后端的)</p>
<p>报文首部：需要处理的内容和某些属性。在客户端和服务器处理时起到至关重要作用的信息几乎都在这</p>
<p>分为四个：通用首部字段</p>
<p>   请求首部字段</p>
<p>   响应首部字段</p>
<p>  实体首部字段</p>
<p>报文主体：可以有也可以没有，放一些相互传递的数据。</p>
<p>报文：有请求报文和响应报文(就是字符串格式的文本)</p>
<h2 id="请求方法"><a href="#请求方法" class="headerlink" title="请求方法"></a>请求方法</h2><p>GET：获取资源</p>
<p>POST:传输主体内容</p>
<p>可以互用，但是一般不互用</p>
<p>但是本质上是没什么区别的，请求都是基于地层的TCP链接，往上才有http协议</p>
<p>对比：1.GET请求的参数放在URL中，而POST放在body中。只不过是在请求的时候，为了交互数据的时候更清晰一些，HTTP就这么规定的。</p>
<p>2.GET在传递参数的时候哟长度限制，而POST是没有长度限制的。(其实也有的，为了服务器安全考虑，服务器处理的能力是有限的，防止攻击服务器)</p>
<p>3.GET比POST安全只是相对的。GET是直接放下url中的，POST是放在实体中（只是暂时的看不到，form data是可以看出来的）</p>
<p>PUT：传输文件</p>
<p>DELETE：删除文件</p>
<p>OPTIONS：查询支持的方法</p>
<p>HEDA:获得报文首部</p>
<h2 id="几种数据请求"><a href="#几种数据请求" class="headerlink" title="几种数据请求"></a>几种数据请求</h2><p>ajax：ajax是会受到同源策略的影响的。即在ajax中必须要协议、域名及端口都相同的才可以取到数据。</p>
<p>json：数据格式，对象的样子，属性名和属性值都要使用双引号。</p>
<p>jsonp：是一种技术，可以实现网络请求中的跨域请求。</p>
<p>跨域请求的几种方式：</p>
<ol>
<li><p>Flash</p>
</li>
<li><p>服务器代理中转</p>
 <img src="/2018/12/31/网络基础_1/ajax1.jpg">
<p>同源策略是针对浏览器而设定的，而上图我是通过服务器之间联系的，没有关系到浏览器，所以yy.php就可以到xx.php中拿数据。yy所在的服务器又会把返回来的数据返回给localhost。借助自己的服务器向别人的服务器获取数据，就叫做服务器代理中转。</p>
</li>
<li><p>jsonp</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">原理：</span><br><span class="line"><span class="number">1.</span>web页面上用&lt;script&gt;引入js文件时则不受是否跨域的影响（凡是拥有src属性的标签都拥有跨域的能力），比如script img iframe</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> oSrc = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>于是我们把数据放到服务器上，并且数据为json形式(因为js可以轻松处理json数据)</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>因为我们无法监控通过&lt;script&gt;的src属性是否把数据获取完成，所以我们需要做一个处理</span><br><span class="line">是个异步加载的过程，不确定什么时候回来，所以我先把回调函数写好在那里等着，并且把函数名传过去，一旦资源加载完成立刻就有函数执行。</span><br><span class="line">        oSrc.src = <span class="string">'请求文件名?cb=aa'</span>; <span class="comment">//aa就是回调函数的名</span></span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(oSrc);</span><br><span class="line">        </span><br><span class="line"><span class="number">4.</span>实现定义好处理跨域获取数据的函数，如<span class="function"><span class="keyword">function</span> <span class="title">aa</span>(<span class="params">data</span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">必须要先写好回调函数</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>用src获取数据的时候添加一个参数cb = ‘doJSON’(服务端会根据参数cb的返回值对应的内容)，此内容以cb对应的值doJSON为函数真实要传递的数据为函数的参数的一串字符 如doJSON(<span class="string">'数据'</span>)</span><br></pre></td></tr></table></figure>
<p>jsonp是一个GET请求。</p>
<p>使用jsonp接口的时候，wd=value关键字 cb=回调 留下</p>
<p>获取关键字wd的时候不能写死，以变量的形式。</p>
</li>
<li><p>document.domian(针对基础域名相同的情况)</p>
<p>例如bj.58.com document.domain = ‘58.com’</p>
<pre><code>tj.58.com document.domain = &apos;58.com&apos;
</code></pre><p>基础域名必须相同</p>
</li>
</ol>
<h1 id="第六课时：巧妙的JSONP跨域"><a href="#第六课时：巧妙的JSONP跨域" class="headerlink" title="第六课时：巧妙的JSONP跨域"></a>第六课时：巧妙的JSONP跨域</h1><p>同源策略产生的原因：浏览器的一种安全策略。</p>
<p>什么是同源：必须要 协议 域名 端口都一致的才是同源。(同源不看路径)端口不写的时候默认是80</p>
<p>由于src是不受同源策略限制的。因此可以利用它来跨域。</p>
<p>创建script标签，通过src请求数据，返回回来的是一个执行函数且传好参数（cbs(data)），我们等待的那个函数就会自动执行</p>
<p>问题：需要知道等待执行的函数名，否则后台不好匹配</p>
<p>在src的后面拼接 cb=cbs,后端拿到数据后，进行解析。即cb=回调函数名称 wd=关键字。</p>
<p>面试主要是侧重数据是如何交互的，需要怎么：我们需要回调函数的名称给后台传过去(也就是拼接)，后端会把名称拼接好，返回一个回调函数执行的形式。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/31/网络基础_1/" data-id="cjshkatxx000xmggg782fjnnu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网络知识_2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/31/网络知识_2/" class="article-date">
  <time datetime="2018-12-31T08:28:39.000Z" itemprop="datePublished">2018-12-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络知识点总结/">网络知识点总结</a>►<a class="article-category-link" href="/categories/网络知识点总结/网络基础总结2/"> 网络基础总结2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/网络知识_2/">网络基础总结2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>History 历史记录管理</p>
<p>history历史记录管理：//作用：在同一个页面中实现页面返回，记录功能；</p>
<p>history.forward（）向前翻页，</p>
<p>history.back（）向后翻页，</p>
<p>history.go（num）转跳到当前条数</p>
<p>history.length历史页长度，</p>
<p>history.pushState(ststateObjateObj, ‘page2’, ‘bar.html’) 添加一条历史记录；</p>
<p>history.replaceState(ststateObjateObj, ‘page3’, ‘bar.html’) 替换当前历史记录；</p>
<p>page1，page2可以不传，是预留的参数，目前还没有作用；</p>
<p>window.onpopstate = function(e) {e.state} 历史记录发生发生变化时触发。但是上面两中情况不会触发；</p>
<p>e.state即为当前页之前传递进的对象；可以在onpopstate绑定的函数中进行使用；</p>
<p>location.href可以获取当前网址；</p>
<p>location.search获取网址后面？以后的内容；</p>
<p>a标签如果不想让其被链接可以在点击函数中返回false，即可取消默认事件；</p>
<p>.onclick（）事件可以直接执行；</p>
<p>获取属性值可以用.getAttribute（属性名）方法获取；</p>
<p>cookie:</p>
<p>浏览器第一次访问服务器时，服务器会返回cookie值，给浏览器设置上，下次浏览器再次访问的时候，会自动在http首部加上cookie值，这样服务器可以返回个性化的服务；</p>
<p>cookie会话型，浏览器退出，cookie缓存删除；</p>
<p>cookie持久型，cookie缓存几天，然后自行删除；</p>
<p>domain表示可以在哪个域中使用该cookie</p>
<p>cookie操作：</p>
<p>可以通过document.cookie = ‘id=12；expries=’+new Date（）；设置cookie的id与时间；</p>
<p>sessionStorage 临时存储 浏览器关闭存储结束</p>
<p>localStorage 永久存储 除非用户手动删除</p>
<p>1、基本添加和读取</p>
<p>添加：</p>
<p>localStorage.user = ‘aimee’;</p>
<p>localStorage.objj = JSON.stringify(obj);</p>
<p>读取：</p>
<p>localStorage.user;</p>
<p>JSON.parse(localStorage.objj );</p>
<p>2、API操作添加和读取</p>
<p>localStorage.setItem(‘id’,12345)</p>
<p>localStorage.getItem(‘id’)</p>
<p>localStorage.removeItem(‘id’)</p>
<p>localStorege.clear();</p>
<p>localStorage只有在同源时才能互相取用；</p>
<p>sessionStorage只能在当前页面使用；</p>
<p>CORS跨域请求：//通过配置http首部进行实现</p>
<p>跨域请求资源需要服务器配置：Access-Control-Allow-Origin：*（代表所有源，也可以设置固定源）</p>
<p>CROS分为简单请求，预检请求；</p>
<p>简单请求：</p>
<p>1、使用下列方法之一：</p>
<p>GET POST HEAD  </p>
<p>2、content-Type值为下列之一：</p>
<p>text/plain </p>
<p>multipart/form-data </p>
<p>application/x-www-form-urlencoded </p>
<p>等</p>
<p>3.只要服务器设置允许跨域请求，即可请求数据；</p>
<p>预检请求：</p>
<p>1、使用非GET POST HEAD方法</p>
<p>2、content-Type值不为下列之一：</p>
<p>text/plain </p>
<p>multipart/form-data </p>
<p>application/x-www-form-urlencoded </p>
<p>3、人为设置了 CORS 安全的首部字段集合之外的首部字段，如人为的写一个。</p>
<p>这样会首先发送预检请求，只有当条件符合预检要求，才会再发送真正的请求。</p>
<p>如果预检过，浏览器会有记录，不会重新发送；</p>
<p>postMessage通信：</p>
<p>可以进行跨域访问，但是不能进行变量的读写操作；</p>
<p>在父页面中通过iframe引入子页面，为其定义name名称，方便其找到；</p>
<p>只有在同源下，才可以通过window.frames【名称】这个就是子页面的window对象，可以直接获取其中变量等等。</p>
<p>在不同源情况下，可以通过postMessage传输数据；</p>
<p>父页面向子页面传输数据：</p>
<p>window.frames【name】.postMessage（值，协议域名端口）；</p>
<p>子页面向父页面传值：</p>
<p>parent.postMessage（值，协议域名端口）</p>
<p>接收方：</p>
<p>监听message事件，接收messageEvent（e），e上会有data属性，即为其他页面传过来的值；e上也有origin属性，可以判断从哪个网站来的；或者e.currentTarget属性，都可以判断；</p>
<p>WebSocket双向通讯</p>
<p>http协议中服务器不能主动连接客户端，只能由客户端发起请求；</p>
<p>WebSocket 对象提供了一组 API，用于创建和管理 WebSocket 连接, 以及通过连接发送和接收数据.</p>
<p>Websocket 其实是一个新协议，跟HTTP协议基本没有关系，只是为了兼容现有浏览器的握手规范而已.借用了HTTP的协议来完成握手</p>
<p>Websocket服务器需要配置Websocket协议，在传输数据，建立链接也是通过http协议而进行的。是一个持续链接，只有一方发起断开请求才会断开；请求过程与http协议类似，同样TCP三次握手；</p>
<p>使用方式：</p>
<p>var socket = new WebSocket（url）；</p>
<p>socket.onopen，绑定事件，链接建立成功之后触发：</p>
<p>socket.send（data），传输数据，最好在open之后调用；</p>
<p>socket.close（），终止当前链接；</p>
<p>socket.onmessage ，绑定事件，服务器返回数据时触发，同样接收messageEvent参数</p>
<p>WebSocket.onclose，用于指定连接关闭后的回调函数</p>
<p>WebSocket.onerror，用于指定连接失败后的回调函数</p>
<p>WebSocket.onmessage，用于指定当从服务器接受到信息时的回调函数</p>
<p>WebSocket.onopen，用于指定连接成功后的回调函数</p>
<p>WebSocket优点：</p>
<p>浏览器，服务器都可以主动的发送资源</p>
<p>不用频率创建TCP请求，以及销毁请求，坚守网络带宽的占用，节省服务器资源；</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/31/网络知识_2/" data-id="cjshkats80008mgggoi0nwwyh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jQuery_3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/17/jQuery_3/" class="article-date">
  <time datetime="2018-12-17T08:28:39.000Z" itemprop="datePublished">2018-12-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/jQuery知识点笔记/">jQuery知识点笔记</a>►<a class="article-category-link" href="/categories/jQuery知识点笔记/jQuery知识总结3/">jQuery知识总结3</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/17/jQuery_3/">jQuery底层笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-高级方法extend"><a href="#一-高级方法extend" class="headerlink" title="一 高级方法extend"></a>一 高级方法extend</h1><h2 id="1-1-extend"><a href="#1-1-extend" class="headerlink" title="1.1 $.extend()"></a>1.1 $.extend()</h2><p>可以合并对象，合并的内容都会在第一个对象上。</p>
<h3 id="1-1-1-浅拷贝"><a href="#1-1-1-浅拷贝" class="headerlink" title="1.1.1 浅拷贝"></a>1.1.1 浅拷贝</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.extend(obj,obj1,obj2)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    luo:&#123;</span><br><span class="line">        name:<span class="string">'xie'</span>,</span><br><span class="line">        age:<span class="number">9</span></span><br><span class="line">    &#125;,</span><br><span class="line">    ni:&#123;</span><br><span class="line">        name:<span class="string">'sun'</span>,</span><br><span class="line">        age:<span class="number">9</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    age: <span class="number">23</span></span><br><span class="line">&#125;</span><br><span class="line">$.extend(obj, obj1, obj2)</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br></pre></td></tr></table></figure>
<p>注意：是浅拷贝（拿的只是索引），且如果是属性相同的，前面的会被后面的覆盖</p>
<h3 id="1-1-2-深拷贝"><a href="#1-1-2-深拷贝" class="headerlink" title="1.1.2 深拷贝"></a>1.1.2 深拷贝</h3><p>此时为深拷贝</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.extend(<span class="literal">true</span>,obj,obj1,obj2)</span><br></pre></td></tr></table></figure>
<h3 id="1-1-3-合并到"><a href="#1-1-3-合并到" class="headerlink" title="1.1.3 合并到$"></a>1.1.3 合并到$</h3><p>此时合并到$上去了，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.extend(obj)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var obj1 = &#123;</span><br><span class="line">    luo:&#123;</span><br><span class="line">        name:&apos;xie&apos;,</span><br><span class="line">        age:9</span><br><span class="line">    &#125;,</span><br><span class="line">      ni:function()&#123;</span><br><span class="line">        console.log(&apos;hhh&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">$.extend(obj1)</span><br><span class="line">console.log(obj1)</span><br><span class="line">console.log($.ni)//通过这种方式调用</span><br></pre></td></tr></table></figure>
<p>以上证明可以使用extend拓展工具方法。</p>
<p>把对象直接写在extend中</p>
<h3 id="1-1-4-extend-拓展工具方法以及-fn-extend"><a href="#1-1-4-extend-拓展工具方法以及-fn-extend" class="headerlink" title="1.1.4 $.extend()拓展工具方法以及$.fn.extend()"></a>1.1.4 $.extend()拓展工具方法以及$.fn.extend()</h3><pre><code>**$.extend()拓展工具方法**
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">12</span>,<span class="number">3</span>,<span class="number">95</span>,<span class="number">32</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">89</span>];</span><br><span class="line">$.extend(&#123;</span><br><span class="line">    max:<span class="function"><span class="keyword">function</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> mx = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++)&#123;</span><br><span class="line">            <span class="keyword">var</span> cur = arr[i];</span><br><span class="line">          mx = cur &gt; mx ? cur : mx;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mx;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">123</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    min:<span class="function"><span class="keyword">function</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> mn = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++)&#123;</span><br><span class="line">           mn = arr[i] &lt; mn ? arr[i] : mn</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log($.max(arr1));</span><br><span class="line"><span class="built_in">console</span>.log($.min(arr1));</span><br></pre></td></tr></table></figure>
<pre><code>**$.fn.extend()**
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$.fn.extend(&#123;</span><br><span class="line">    change: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.fadeOut(<span class="number">100</span>).fadeIn();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.box'</span>).mouseenter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).change();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在jQuery中，fn = prototype</p>
<p><strong>相同点</strong></p>
<hr>
<pre><code>两者都可以浅拷贝和深拷贝。
</code></pre><p><strong>不同点</strong></p>
<hr>
<pre><code> **$.extend()**定义在函数上， **$.fn.extend()**定义在原型上的。

$.extend(obj) 会将obj合并到$身上(工具方法)

$.fn.extend(obj) 会将obj合并到$.fn身上，实例方法(定义在原型上的)
</code></pre><p>想使用实例方法，必须要讲$()函数执行一下。从它的原型上才可以找到实例方法。</p>
<h2 id="1-2-Callbacks"><a href="#1-2-Callbacks" class="headerlink" title="1.2 $Callbacks()"></a>1.2 $Callbacks()</h2><pre><code>Callbacks()为Deferred()提供了底层方法
</code></pre><h3 id="1-2-1-在立即执行函数中使用"><a href="#1-2-1-在立即执行函数中使用" class="headerlink" title="1.2.1 在立即执行函数中使用"></a>1.2.1 在立即执行函数中使用</h3><pre><code>可以解决作用域的问题
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cb = $.Callbacks();</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hh'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    cb.add(f1);<span class="comment">//用回调函数解决作用域问题</span></span><br><span class="line">&#125;)();</span><br><span class="line">$(<span class="string">'.box'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    cb.fire();<span class="comment">//触发集合</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="1-2-2-Callbacks-观察者模式"><a href="#1-2-2-Callbacks-观察者模式" class="headerlink" title="1.2.2 Callbacks()观察者模式"></a>1.2.2 Callbacks()观察者模式</h3><p>一对多的模式</p>
<p>cd.add()方法相当于关注(push进去)，cd.fire()相当于发布(forEach出来)</p>
<p><strong>原理：</strong></p>
<p>once memory unique stopOnFalse</p>
<p><strong>once </strong> 只能触发一次，下次fire的时候就不会执行</p>
<p><strong>memory</strong>  之前触发过，再添加add的时候，会自动触发</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">var</span> cb = $.Callbacks(<span class="string">'memory'</span>);</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">'hh'</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">'ll'</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   cb.add(f1);</span><br><span class="line">   cb.fire();</span><br><span class="line">   cb.add(f2);</span><br><span class="line"><span class="comment">//输出结果是 hh ll</span></span><br></pre></td></tr></table></figure>
<p>  cb.add([f1,]f2]);按照顺序执行</p>
<p><strong>unique</strong>添加的时候，只能添加一次，去重(只要是重复的，都会去重)</p>
<p><strong>stopOnFalse</strong>  当 Callbacks(stopOnFalse) ，回调函数中有一个是 使用了return  false后，之后的队列将会被取消，不再执行。</p>
<h2 id="1-3-Deferred"><a href="#1-3-Deferred" class="headerlink" title="1.3  $.Deferred()"></a>1.3  $.Deferred()</h2><pre><code>为ajax提供底层方法
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dtd = $.Deferred();</span><br><span class="line">dtd.resolve();<span class="comment">//成功状态</span></span><br><span class="line">dtd.reject();<span class="comment">//失败状态</span></span><br><span class="line">dtd.notify();<span class="comment">//进行中状态</span></span><br><span class="line"></span><br><span class="line">dtd.done(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)<span class="comment">//触发成功</span></span><br><span class="line">dtd.fail(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)<span class="comment">//触发失败</span></span><br><span class="line">dtd.progress();<span class="comment">//触发进行中</span></span><br><span class="line"></span><br><span class="line">可以绑定很多执行的，会按照顺序一个一个执行</span><br><span class="line">相当于doneCbs = $.Callbacks()</span><br><span class="line">     failCbs = $.Callbacks()</span><br><span class="line">	 progressCbs = $.Callbacks()</span><br></pre></td></tr></table></figure>
<p>和ajax的关系</p>
<p>当触发点击事件的时候，我触发请求，更改deferred的状态</p>
<p>ajax根据数据获取成功或失败更改状态</p>
<h2 id="发布与订阅模式"><a href="#发布与订阅模式" class="headerlink" title="发布与订阅模式"></a>发布与订阅模式</h2><p><a href="https://www.cnblogs.com/chris-oil/p/8733249.html" target="_blank" rel="noopener">https://www.cnblogs.com/chris-oil/p/8733249.html</a></p>
<h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><p>原生dom才有nodeType</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/17/jQuery_3/" data-id="cjshkatrb0005mgggu0yx805m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jQuery_1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/11/jQuery_1/" class="article-date">
  <time datetime="2018-12-11T08:28:39.000Z" itemprop="datePublished">2018-12-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/jQuery知识点笔记/">jQuery知识点笔记</a>►<a class="article-category-link" href="/categories/jQuery知识点笔记/jQuery知识总结1/">jQuery知识总结1</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/11/jQuery_1/">jQuery基础笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="一-jQuery基础"><a href="#一-jQuery基础" class="headerlink" title="一 jQuery基础"></a>一 jQuery基础</h1><p>1.解决兼容</p>
<p>2.操作简单</p>
<p>3.功能丰富</p>
<h2 id="jQuery特色："><a href="#jQuery特色：" class="headerlink" title="jQuery特色："></a>jQuery特色：</h2><ol>
<li>语法简单，开发高效</li>
<li>文件够轻，短小精悍</li>
<li>插件丰富，拓展性强</li>
<li>浏览器支持性高</li>
</ol>
<h1 id="二-引用及DOM选择"><a href="#二-引用及DOM选择" class="headerlink" title="二 引用及DOM选择"></a>二 引用及DOM选择</h1><p>jQuery对象中可以放所有具有索引的东西</p>
<p>可以放函数，里面的函数在dom文档解析完成之后自动执行</p>
<p>一个函数执行的返回结果打印出来就是undefined</p>
<p>jQuery可以进行链式操作，一直使用。</p>
<h2 id="整体架构"><a href="#整体架构" class="headerlink" title="整体架构"></a>整体架构</h2><p>可以放：</p>
<ol>
<li>CSS选择器</li>
<li>原生DOM</li>
<li>function</li>
<li>空值</li>
<li>其他</li>
</ol>
<h1 id="三-整体框架课程"><a href="#三-整体框架课程" class="headerlink" title="三 整体框架课程"></a>三 整体框架课程</h1><ol>
<li><p>如何全局使用jQuery</p>
<p>为了在全局下使用没在立即执行函数里必须要将其暴漏出给window</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">jQuery</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">'hhh'</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="built_in">window</span>.jQuery = <span class="built_in">window</span>.$ = jQuery;</span><br><span class="line">   &#125;)()</span><br></pre></td></tr></table></figure>
</li>
<li><p>无new操作</p>
<p>在函数里面new，直接实例化对象。this指向自然会改变，指向的是普通函数，其原型指向的就是Object，此时只可以使用构造函数中的一些属性，无法使用实例对象（jQuery）中的方法，那么如何实现this指向的是jQuery对象的原型呢，将构造函数的原型指向实例化对象的原型上。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"dom"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">      (<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">window</span>.jQuery = <span class="built_in">window</span>.$ = jQuery;</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">jQuery</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="keyword">new</span> init(id);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> dom = <span class="built_in">document</span>.getElementById(id.slice(<span class="number">1</span>));</span><br><span class="line">              <span class="keyword">this</span>[<span class="number">0</span>] = dom;</span><br><span class="line">              <span class="keyword">this</span>.length = <span class="number">1</span>;</span><br><span class="line">              <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">          &#125;</span><br><span class="line">          jQuery.prototype.text = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">'text'</span>)；</span><br><span class="line">              <span class="keyword">return</span> <span class="keyword">this</span>；<span class="comment">//第四点，谁执行的this就是谁，返回的就是谁，自然就可以继续链式调用</span></span><br><span class="line">          &#125;</span><br><span class="line">          jQuery.prototype.css = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">'css'</span>);</span><br><span class="line">              <span class="keyword">return</span> <span class="keyword">this</span>；</span><br><span class="line">          &#125;</span><br><span class="line">          init.prototype = jQuery.prototype;<span class="comment">//第三点</span></span><br><span class="line">      &#125;)()</span><br><span class="line">     </span><br><span class="line">  <span class="built_in">console</span>.log($(<span class="string">'#dom'</span>));</span><br></pre></td></tr></table></figure>
</li>
<li><p>链式原型</p>
<p>执行完一个方法后，如何继续使用点(.)操作的形式继续呢？</p>
<p>方法是添加在jQuery原型上的。需要保证在调用新方法的时候，调用的依然是jQuery原型，所以要下每个方法下面return this  。此时返回的this就是jQuery原型。</p>
<img src="/2018/12/11/jQuery_1/jQuery6.png">
</li>
<li><p>init()函数不仅定义在了闭包下面，且也定义在了jQuery原型上。</p>
</li>
</ol>
<p>#四 文本属性</p>
<h2 id="4-1-text"><a href="#4-1-text" class="headerlink" title="4.1 text()"></a>4.1 text()</h2><p>text():相当于innerText属性</p>
<ol>
<li>可以获取dom元素中的值，可以把所有的dom元素的值遍历出来。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;jjd&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div&gt;kak&lt;/</span>div&gt;</span><br><span class="line">&lt;div&gt;akj&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="jquery-3.3.1.js"&gt;&lt;/</span>script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="string">'div'</span>).text()) ;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>也可以设置文本里的内容</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">将上述代码换成 console.log($(&apos;div&apos;).text(&apos;hhhh&apos;)) ;//其文本内容就全部换成了 hhhh。</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>也可以拼接内容</li>
</ol>
<p>方法一：先获取到文本内容，再使用字符串拼接，最后将拼接好的字符串一起添加到里面去。</p>
<p>方法二：在新的结构中写，在另一个标签中加入(推荐使用)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id = &apos;div1&apos;&gt;jjd</span><br><span class="line">    &lt;p&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div&gt;kak&lt;/div&gt;</span><br><span class="line">&lt;div&gt;akj&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;jquery-3.3.1.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    console.log($(&apos;p&apos;).text(&apos;lou&apos;)) ;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>实现一些基本的点击事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log($(<span class="string">'#div1'</span>).text());<span class="comment">//获取div1中的文本内容</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">上述代码click中的函数<span class="function"><span class="keyword">function</span>是可以传入参数的</span></span><br><span class="line"><span class="function">   <span class="title">function</span>(<span class="params">index,ele</span>)</span>&#123;</span><br><span class="line">           <span class="comment">//index是索引值</span></span><br><span class="line">              <span class="comment">//ele是遍历的哪个元素，是每个text的值</span></span><br><span class="line">              <span class="comment">//可以根据条件做一些判断</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>注意：text相当于js中的innerText(也是不识别标签的)</p>
<p>添加内容的时候，包括标签在内，是识别不了标签的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'p'</span>).text(<span class="string">'llllll&lt;b&gt;hhhhhhh&lt;/b&gt;'</span>)) ;</span><br><span class="line">llllll&lt;b&gt;hhhhhhh&lt;<span class="regexp">/b&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="4-2-html"><a href="#4-2-html" class="headerlink" title="4.2 html ()"></a>4.2 html ()</h2><p>在js中使用的是innerHTML，那么在jQuery中使用html就可以</p>
<p>html的使用方法和text的方法一样，可以在里面添加字符串，也可以添加函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'p'</span>).html(<span class="string">'llllll&lt;b&gt;hhhhhhh&lt;/b&gt;'</span>)) ;<span class="comment">//可以识别字符串里的标签</span></span><br><span class="line"></span><br><span class="line">用点击事件实现</span><br><span class="line">        $(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">            $(<span class="string">'p'</span>).html(<span class="function"><span class="keyword">function</span> (<span class="params">index, ele</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">'kkklsl&lt;b&gt;kkkk&lt;/b&gt;'</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>
<h2 id="4-3-html-区别于text的用法"><a href="#4-3-html-区别于text的用法" class="headerlink" title="4.3 html 区别于text的用法"></a>4.3 html 区别于text的用法</h2><p><strong>注意</strong> ：取值 和text是有一些不同的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div id = <span class="string">'div1'</span>&gt;jjd</span><br><span class="line">        &lt;p&gt;hhjj&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="string">'#div1'</span>).html());</span><br><span class="line">   <span class="comment">// 打印的是jjd  &lt;p&gt;hhjj&lt;/p&gt;// 会把标签打印出来。</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="string">'#div1'</span>).text());</span><br><span class="line"><span class="comment">// jjd   hhjj  只输出文本内容</span></span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：html 区别于text的用法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;div1&quot;&gt;jjd</span><br><span class="line">    &lt;p&gt;hhjj&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div&gt;kak&lt;/div&gt;</span><br><span class="line">&lt;div&gt;akj&lt;/div&gt;</span><br><span class="line">   </span><br><span class="line">console.log($(&apos;div&apos;).html());//打印的是jjd  &lt;p&gt;hhjj&lt;/p&gt;</span><br><span class="line">只会获取第一个dom元素的内容，以后的都不会获取。</span><br></pre></td></tr></table></figure>
<p><strong>js中</strong></p>
<ol>
<li><p>innerHTML 会把里面所有的内容都获取出来(包括标签) </p>
</li>
<li><p>innerText  获取的是标签里面的文本 </p>
</li>
</ol>
<p><strong>jQuery中</strong></p>
<ol>
<li>html 取值只去第一个dom元素的，赋值赋一组。</li>
</ol>
<h2 id="4-4-val"><a href="#4-4-val" class="headerlink" title="4.4 val()"></a>4.4 val()</h2><p>用法也是取值第一个，赋值赋一组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;select name=<span class="string">"list"</span> id=<span class="string">"list"</span>&gt;</span><br><span class="line">   <span class="comment">// multiple属性可以取消下拉菜单的属性</span></span><br><span class="line">    &lt;option value=<span class="string">"hh"</span> selected&gt;hh&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">    &lt;option value="ll"&gt;ll&lt;/</span>option&gt;</span><br><span class="line">    &lt;option value=<span class="string">"mm"</span>&gt;mm&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">    &lt;option value="nn"&gt;nn&lt;/</span>option&gt;</span><br><span class="line">&lt;<span class="regexp">/select&gt;</span></span><br><span class="line"><span class="regexp">&lt;input type="button" id="btn"&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="jquery-3.3.1.js"&gt;&lt;/</span>script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            $(<span class="string">'select'</span>).val([<span class="string">'nn'</span>]);</span><br><span class="line">        &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="五：特性、属性"><a href="#五：特性、属性" class="headerlink" title="五：特性、属性"></a>五：特性、属性</h1><p>属性可以分为两种</p>
<ol>
<li>一种是固有属性：id class title href src type value alt</li>
<li>新增属性：自定义的属性</li>
</ol>
<h2 id="5-1-prop"><a href="#5-1-prop" class="headerlink" title="5.1 prop()"></a>5.1 prop()</h2><ol>
<li><p>相当于js中的点(.)操作</p>
</li>
<li><p>只能获取固有属性。不能获取新增属性</p>
</li>
<li><p>设置class的时候，是className(此时class是个关键词)</p>
<p>removeProp() 注意只能移除自定义的属性(设置的自定义属性不可以设置上，但是可以打印出来，且这个方法只能删除自定义的东西)，也即使prop设置属性是好使的，但是不会对应到dom元素上。只有特性才可以对应的上。</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).prop(<span class="string">'lect'</span>,<span class="string">'name'</span>)</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'div'</span>).prop(<span class="string">'lect'</span>));<span class="comment">//打印出name</span></span><br></pre></td></tr></table></figure>
<h2 id="5-2-attr"><a href="#5-2-attr" class="headerlink" title="5.2 attr()"></a>5.2 attr()</h2><ol>
<li>相当于js中的attribute属性</li>
<li>既可以获取固有属性，又可以获取新增属性</li>
<li><p>设置class类名的时候，是class</p>
<p>removeAttr()</p>
</li>
</ol>
<h2 id="5-3-以上两种的区别"><a href="#5-3-以上两种的区别" class="headerlink" title="5.3 以上两种的区别"></a>5.3 以上两种的区别</h2><p>取值方面都是取第一个</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span> </span>= <span class="string">"div1"</span> id = <span class="string">"bdiv"</span> lect = <span class="string">'hhh'</span>&gt;hhhhh&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">   console.log($('div').prop('id'));/</span><span class="regexp">/bdiv</span></span><br><span class="line"><span class="regexp">   console.log($('div').attr('id'));/</span><span class="regexp">/bdiv</span></span><br><span class="line"><span class="regexp">   console.log($('div').prop('class'));/</span><span class="regexp">/div1</span></span><br><span class="line"><span class="regexp">   console.log($('div').attr('class'));/</span><span class="regexp">/div1</span></span><br><span class="line"><span class="regexp">   console.log($('div').attr('lect'));/</span><span class="regexp">/hhh</span></span><br><span class="line"><span class="regexp">   console.log($('div').prop('lect'));/</span><span class="regexp">/输出的是undefined</span></span><br></pre></td></tr></table></figure>
<p>赋值(可以赋值一组，且可以赋值对象，将对象里面的值一一遍历出来添加上)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;kk&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div&gt;ls&lt;/</span>div&gt;</span><br><span class="line">&lt;p&gt;ak&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">&lt;p&gt;zk&lt;/</span>p&gt;</span><br><span class="line">&lt;p&gt;fzd&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">$('div').prop('id',"div1");/</span><span class="regexp">/为一组div添加了id值 div1</span></span><br><span class="line"><span class="regexp">$('p').attr('class',"div1");/</span><span class="regexp">/为一组div添加了class类名 div1</span></span><br><span class="line"><span class="regexp">$('ul').prop('lect','nihao');/</span><span class="regexp">/没有添加上</span></span><br><span class="line"><span class="regexp">$('li').attr('lect','nihao');/</span><span class="regexp">/为一组li，添加上新增属性lect='nihao'</span></span><br></pre></td></tr></table></figure>
<p>以对象的形式添加</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  $(<span class="string">'div'</span>).attr(&#123;</span><br><span class="line">      id: <span class="string">'name'</span>,</span><br><span class="line">      class: 'age'</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="comment">//可以为一组div添加上id和class属性</span></span><br><span class="line">  $(<span class="string">'p'</span>).prop(&#123;</span><br><span class="line">      id: <span class="string">'name'</span>,</span><br><span class="line">      class: 'age'</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="comment">//可以为一组p添加上id和class属性</span></span><br></pre></td></tr></table></figure>
<h2 id="5-4-注意点"><a href="#5-4-注意点" class="headerlink" title="5.4 注意点"></a>5.4 注意点</h2><p>获取未设置的属性的时候</p>
<p>1.attr 获取未设置的属性，均返回undefined，prop获取未设置的特性(固有的属性)，返回空。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;kk&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">console.log($('div').prop('class'));/</span><span class="regexp">/获取的是空，必须是特性，不是属性的时候</span></span><br><span class="line"><span class="regexp">console.log($('div').attr('class'))/</span><span class="regexp">/获取的是undefined</span></span><br></pre></td></tr></table></figure>
<p>2.prop可以动态的去判断复选框选中还是没选中，选中返回true，没选中返回false</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;input&apos;).prop(&apos;checked&apos;)</span><br></pre></td></tr></table></figure>
<h1 id="六-Class属性操作"><a href="#六-Class属性操作" class="headerlink" title="六 Class属性操作"></a>六 Class属性操作</h1><p>取值的时候返回的是值，设置的(使用操作的方法)返回的是this</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;hhhh&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">console.log($('div').text());/</span><span class="regexp">/返回的是hhhh</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">console.log($('div').text('id'))/</span><span class="regexp">/返回的是this</span></span><br></pre></td></tr></table></figure>
<h2 id="6-1-addClass-和-removeClass"><a href="#6-1-addClass-和-removeClass" class="headerlink" title="6.1 addClass()  和  removeClass()"></a>6.1 addClass()  和  removeClass()</h2><p>可以添加class的名称，还可以添加一个函数</p>
<p>可以设置一组class类名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;div&apos;).addClass(&apos;hhh&apos;);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div&gt;hhhh&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div&gt;kkll&lt;/</span>div&gt;</span><br><span class="line">    &lt;div&gt;ssss&lt;<span class="regexp">/div&gt;    </span></span><br><span class="line"><span class="regexp">$('div').addClass(function(index,className)&#123;</span></span><br><span class="line"><span class="regexp">          return 'test';</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/index当前遍历的索引值  className当前遍历的class类名</span></span><br></pre></td></tr></table></figure>
<p>可根据判断index的值，更改class类名实现一些样式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div&gt;hhhh&lt;/div&gt;</span><br><span class="line"> &lt;div&gt;kkll&lt;/div&gt;</span><br><span class="line"> &lt;div&gt;ssss&lt;/div&gt;</span><br><span class="line"> &lt;div&gt;hjj&lt;/div&gt;    </span><br><span class="line"></span><br><span class="line">$(&apos;div&apos;).addClass(function (index, className)&#123;</span><br><span class="line">     if(index%2 == 0)&#123;</span><br><span class="line">         return &apos;active&apos;;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"> //如果想添加两个class，中间以空格的形式return &apos;active text&apos;;</span><br><span class="line"> //类似&lt;div class=&quot;active text&quot;&gt;hhhh&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h2 id="6-2-hasClass"><a href="#6-2-hasClass" class="headerlink" title="6.2 hasClass()"></a>6.2 hasClass()</h2><p>查找有没有要的那个方法，需要进行判断，去决定添加还是删除</p>
<h2 id="6-3-toggleClass"><a href="#6-3-toggleClass" class="headerlink" title="6.3 toggleClass()"></a>6.3 toggleClass()</h2><p>看看有没有要的那个方法，没有就添加，有就取消</p>
<p>以上有个小Dome要实现</p>
<h1 id="七-CSS样式属性"><a href="#七-CSS样式属性" class="headerlink" title="七 CSS样式属性"></a>七 CSS样式属性</h1><h2 id="7-1-获取属性"><a href="#7-1-获取属性" class="headerlink" title="7.1 获取属性"></a>7.1 获取属性</h2><p>1.复合属性会获取所有的属性，即使不设置，会返回默认属性。</p>
<p>2.获取多个属性的时候，在样式里写成数组的形式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">        .one&#123;</span><br><span class="line">            width: <span class="number">100</span>px;</span><br><span class="line">            height: <span class="number">100</span>px;</span><br><span class="line">            background-color: pink;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"one"</span>&gt;hhhh&lt;<span class="regexp">/div&gt;   </span></span><br><span class="line"><span class="regexp">js中</span></span><br><span class="line"><span class="regexp">$('.one').click(function()&#123;</span></span><br><span class="line"><span class="regexp">        console.log( $(this).css(['width','height']));</span></span><br><span class="line"><span class="regexp">      </span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/&#123;width: "100px", height: "100px"&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="7-2-设置属性"><a href="#7-2-设置属性" class="headerlink" title="7.2 设置属性"></a>7.2 设置属性</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;.one&apos;).click(function()&#123;</span><br><span class="line">    $(this).css(&apos;width&apos;,200); //数字和字符串都行，jQuery包容性比较强</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>设置多个属性的话，就使用对象的形式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.one'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).css(</span><br><span class="line">        &#123;</span><br><span class="line">            width:<span class="number">200</span>,</span><br><span class="line">            height:<span class="number">200</span>        </span><br><span class="line">        &#125;</span><br><span class="line">        );      </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>如何实现点击一下宽度加100</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.one'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).css(</span><br><span class="line">        &#123;</span><br><span class="line">            width:<span class="string">'+=200'</span>,<span class="comment">//此时必须以字符串的形式</span></span><br><span class="line">            height:<span class="number">200</span>        </span><br><span class="line">        &#125;</span><br><span class="line">        );      </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="7-3-css-和width-之间的区别"><a href="#7-3-css-和width-之间的区别" class="headerlink" title="7.3 css()和width()之间的区别"></a>7.3 css()和width()之间的区别</h2><h3 id="7-3-1-获取值"><a href="#7-3-1-获取值" class="headerlink" title="7.3.1 获取值"></a>7.3.1 获取值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log( $(<span class="string">'.one'</span>).css(<span class="string">'width'</span>));<span class="comment">//100px  像素值</span></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.one'</span>).width());<span class="comment">//100  是个num值</span></span><br></pre></td></tr></table></figure>
<h3 id="7-3-2-设值"><a href="#7-3-2-设值" class="headerlink" title="7.3.2 设值"></a>7.3.2 设值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log( $(<span class="string">'.one'</span>).css(<span class="string">'width'</span>,<span class="number">300</span>));</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.one'</span>).width(<span class="number">300</span>));<span class="comment">//专门针对这个属性的，所以可以直接传值进去</span></span><br></pre></td></tr></table></figure>
<h2 id="7-4-innerWidth-和outWidth"><a href="#7-4-innerWidth-和outWidth" class="headerlink" title="7.4 innerWidth()和outWidth()"></a>7.4 innerWidth()和outWidth()</h2><p>innerWidth() = content+padding</p>
<p>outWidth()= content+padding+border</p>
<p>outWidth(true)= content+padding+border+margin</p>
<p>innerWidth() ，如果设置innerWidth的值，其值小于原本的宽度，只会缩小content区域的值，不会缩小padding的值，即使缩小到小于padding值，依然是padding不变。</p>
<p>outWidth()也是同理，padding，border，margin不变，只改变content区域的值</p>
<h2 id="7-5-offset-和position"><a href="#7-5-offset-和position" class="headerlink" title="7.5 offset()和position()"></a>7.5 offset()和position()</h2><p><strong>offset()</strong>   </p>
<pre><code>获取的是相对于文档而言的位置
</code></pre><p><strong>position()</strong></p>
<pre><code>获取的是相对于最近的有定位父级的位置
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.one&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    top: <span class="number">200</span>px;</span><br><span class="line">    left: <span class="number">200</span>px;</span><br><span class="line">    width: <span class="number">300</span>px;</span><br><span class="line">    height: <span class="number">300</span>px;</span><br><span class="line"></span><br><span class="line">    background-color: pink;</span><br><span class="line">&#125;</span><br><span class="line">.two&#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: <span class="number">100</span>px;</span><br><span class="line">    height: <span class="number">100</span>px;</span><br><span class="line">    left: <span class="number">50</span>px;</span><br><span class="line">    background-color: red;</span><br><span class="line">&#125;</span><br><span class="line">       </span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"one"</span>&gt;hhhh</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"two"</span>&gt;kkkk&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">       </span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.two'</span>).offset());<span class="comment">//258px</span></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.two'</span>).position());<span class="comment">//50px</span></span><br></pre></td></tr></table></figure>
<p><strong>设置的时候</strong></p>
<p>offset必须以对象的形式传值？</p>
<p>我尝试单独改变一个，是报错的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;.two&apos;).offset(&apos;left&apos;,&apos;50&apos;);//报错的</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;.two&apos;).offset(&#123;&apos;left&apos;:50&#125;);//以对象的形式就是对的</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.one'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'.two'</span>).offset(&#123;</span><br><span class="line">        left: <span class="number">50</span>,</span><br><span class="line">        top: <span class="number">50</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="7-6-srcollLeft-和scrollTop"><a href="#7-6-srcollLeft-和scrollTop" class="headerlink" title="7.6 srcollLeft()和scrollTop()"></a>7.6 srcollLeft()和scrollTop()</h2><p><strong>srcollLeft()和scrollTop()</strong></p>
<p>滚动条距离左侧(横向滚动条)和上侧的距离(纵向滚动条)</p>
<p>产生滚动条必须把其父级宽度给定死了，不然就会换行。</p>
<p>如何知道滚动条到底了呢？</p>
<p>浏览器的距离+滚动条的距离  =  整个文档的高度(body的高度)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">      body&#123;</span><br><span class="line">            width: <span class="number">800</span>px;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newtop;</span><br><span class="line"><span class="keyword">var</span> time = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;        </span><br><span class="line"><span class="keyword">if</span>($(<span class="built_in">document</span>).scrollTop() + $(<span class="built_in">window</span>).height() &gt;= $(<span class="string">'body'</span>).height())&#123;</span><br><span class="line">    clearInterval(time);</span><br><span class="line">    <span class="built_in">console</span>.log(time);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    newtop = $(<span class="built_in">document</span>).scrollTop();</span><br><span class="line">    <span class="built_in">console</span>.log(newtop);</span><br><span class="line">    $(<span class="built_in">document</span>).scrollTop(newtop+<span class="number">50</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<p>注意：只要在代码中可以看到的标签都必须加上引号，以字符串的形式。<br><img src="/2018/12/11/jQuery_1/jQuery1.png"></p>
<h1 id="八DOM的筛选遍历"><a href="#八DOM的筛选遍历" class="headerlink" title="八DOM的筛选遍历"></a>八DOM的筛选遍历</h1><h2 id="8-1-基本选择器"><a href="#8-1-基本选择器" class="headerlink" title="8.1 基本选择器"></a>8.1 基本选择器</h2><table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID选择器</td>
<td>$(“#id”);</td>
<td style="text-align:left">获取指定ID的元素</td>
</tr>
<tr>
<td>类选择器</td>
<td>$(“.class”);</td>
<td style="text-align:left">获取同一类class的元素</td>
</tr>
<tr>
<td>标签选择器</td>
<td>$(“div”);</td>
<td style="text-align:left">获取同一类标签的所有元素</td>
</tr>
<tr>
<td>并集选择器</td>
<td>$(“div,p,li”);</td>
<td style="text-align:left">使用逗号分隔，只要符合条件之一就可。</td>
</tr>
<tr>
<td>交集选择器</td>
<td>$(“div.redClass”);</td>
<td style="text-align:left">获取class为redClass的div元素</td>
</tr>
</tbody>
</table>
<blockquote>
<p>总结：跟css的选择器用法一模一样。</p>
</blockquote>
<h2 id="8-2-层级选择器"><a href="#8-2-层级选择器" class="headerlink" title="8.2 层级选择器"></a>8.2 层级选择器</h2><table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>子代选择器</td>
<td>$(“ul&gt;li”);</td>
<td style="text-align:left">使用&gt;号，获取儿子层级的元素，注意，并不会获取孙子层级的元素</td>
</tr>
<tr>
<td>后代选择器</td>
<td>$(“ul li”);</td>
<td style="text-align:left">使用空格，代表后代选择器，获取ul下的所有li元素，包括孙子等</td>
</tr>
</tbody>
</table>
<h2 id="8-3-过滤选择器"><a href="#8-3-过滤选择器" class="headerlink" title="8.3 过滤选择器"></a>8.3 过滤选择器</h2><blockquote>
<p>这类选择器读带冒号：</p>
</blockquote>
<p>odd/even/first/last/eq</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>:eq（index）</td>
<td>$(“li:eq(2)”).css(“color”,”red”)</td>
<td>获取到的li元素中，选择索引号为2的元素，索引号index从0开始。</td>
</tr>
<tr>
<td>:odd</td>
<td>$(“li:odd”).css(“color”,”red”);</td>
<td>获取到的li元素中，选择索引号为奇数的元素</td>
</tr>
<tr>
<td>:even</td>
<td>$(“li:even”).css(“color,”red”);</td>
<td>获取到的li元素中，选择索引号为偶数的元素</td>
</tr>
<tr>
<td>:first</td>
<td>$(“li:first”).css(“color”,”red”);</td>
<td>获取到的li元素中，选择第一个元素</td>
</tr>
<tr>
<td>:last</td>
<td>$(“li:last”).css(“color”,”red”);</td>
<td>获取到的li元素中，选择最后一个元素</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>：以上也这样使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"li"</span>).eq(<span class="number">2</span>).css(<span class="string">"color"</span>,<span class="string">"red"</span>);<span class="comment">//-1就是最后一个，负数就向前数，有几个就只能负几个</span></span><br><span class="line">$(<span class="string">"li"</span>).odd().css(<span class="string">"color"</span>,<span class="string">"red"</span>);</span><br><span class="line">$(<span class="string">"li"</span>).even().css(<span class="string">"color"</span>,<span class="string">"red"</span>);</span><br><span class="line">$(<span class="string">"li"</span>).first().css(<span class="string">"color"</span>,<span class="string">"red"</span>);</span><br><span class="line">$(<span class="string">"li"</span>).last().css(<span class="string">"color"</span>,<span class="string">"red"</span>);</span><br></pre></td></tr></table></figure>
<p>prev/prevAll/next/nextAll/siblings</p>
<h2 id="8-4-筛选选择器-方法"><a href="#8-4-筛选选择器-方法" class="headerlink" title="8.4 筛选选择器(方法)"></a>8.4 筛选选择器(方法)</h2><blockquote>
<p>筛选选择器的功能与过滤选择器有点类似，但是用法不一样，筛选选择器主要是方法。</p>
</blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th style="text-align:left">用法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>siblings()</td>
<td style="text-align:left">$(‘li:eq(2)’).siblings();</td>
<td style="text-align:left">查找索引为2的兄弟节点，不包括自己本身。</td>
</tr>
<tr>
<td>next()</td>
<td style="text-align:left">$(“li”).next()</td>
<td style="text-align:left">找下一个兄弟</td>
</tr>
<tr>
<td>nextAll()</td>
<td style="text-align:left">$(“li:eq(2)”).nextAll()</td>
<td style="text-align:left">找索引值为2的li以下的所有元素（不包括自身）</td>
</tr>
<tr>
<td>prev()</td>
<td style="text-align:left">$(“li”).prev()</td>
<td style="text-align:left">找上一个兄弟</td>
</tr>
<tr>
<td>prevAll()</td>
<td style="text-align:left">$(“li:eq(2)”).prevAll()</td>
<td style="text-align:left">找索引值为2的li以上的所有元素（不包括自身）</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;第一个&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li&gt;第二个&lt;/</span>li&gt;</span><br><span class="line">        &lt;li&gt;第三个&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li&gt;第四个&lt;/</span>li&gt;</span><br><span class="line">        &lt;li&gt;第五个&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/u</span>l&gt;</span><br><span class="line"></span><br><span class="line">$(<span class="string">'li'</span>).nextAll().css(<span class="string">'background'</span>,<span class="string">'red'</span>)<span class="comment">//除了第一个都变色</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'li'</span>).siblings().css(<span class="string">'background'</span>,<span class="string">'red'</span>)<span class="comment">//所有的都会变成红色，每一个li元素都是另一个li元素的兄弟</span></span><br></pre></td></tr></table></figure>
<p>filter/not/is/slice/map/has</p>
<p>可以向里面传一个css选择器，可以传函数，也可以传一个原生的DOM，也可以传一个原生的对象</p>
<p><strong>filter</strong></p>
<pre><code>只要是有匹配的这个元素就留下它(保留匹配的元素)
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">        &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"test"</span>&gt;<span class="number">1</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li&gt;2&lt;/</span>li&gt;</span><br><span class="line">        &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"test"</span>&gt;<span class="number">3</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li&gt;4&lt;/</span>li&gt;</span><br><span class="line">        &lt;li&gt;<span class="number">5</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">js中</span></span><br><span class="line"><span class="regexp">$('li').filter('.test').css('background','red');</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">      $(<span class="string">'li'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">index,ele</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(index%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//不可以return false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).css(<span class="string">'background'</span>,<span class="string">'red'</span>)</span><br><span class="line"><span class="comment">//给索引为0,2,4的li添加了背景</span></span><br></pre></td></tr></table></figure>
<p><strong>not</strong></p>
<pre><code>只要是有匹配的这个元素就不要它(遗弃匹配的元素)
</code></pre><p><strong>is</strong></p>
<pre><code>判断于is里面的元素匹配不匹配（只要有一个满足，就会返回true）
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'li'</span>).is(<span class="string">'.test'</span>))<span class="comment">//返回一个true</span></span><br></pre></td></tr></table></figure>
<p><strong>slice</strong></p>
<pre><code>取头不取尾slice[1,4)
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'li'</span>).slice(<span class="number">1</span>,<span class="number">4</span>).css(<span class="string">'background'</span>,<span class="string">'red'</span>);</span><br></pre></td></tr></table></figure>
<p><strong>map</strong></p>
<pre><code>取决于return出来的东西，区别each(只是遍历的作用)
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;li&apos;).map(function(index,ele)&#123;</span><br><span class="line">     if($(ele).find(&apos;.test2&apos;).text()&gt;15)&#123;</span><br><span class="line">         return ele;</span><br><span class="line">     &#125;</span><br><span class="line"> //   console.log($(ele).find(&apos;.test2&apos;).text()&gt;10)</span><br><span class="line"> &#125;).css(&apos;background&apos;,&apos;red&apos;);</span><br><span class="line"> //返回的是个jQuery的对象，所以可以链式调用。对满足条件的元素添加样式。注意是给li添加样式，而不是给span</span><br></pre></td></tr></table></figure>
<p><strong>has</strong></p>
<pre><code>找有没有某个子元素的父元素(满足has)
</code></pre><p><strong>each</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"test1"</span>&gt;hh&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;span class="test2"&gt;ll&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;span class="test1"&gt;ss&lt;/</span>span&gt;</span><br><span class="line">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"test2"</span>&gt;dd&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>li&gt;</span><br><span class="line">&lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">js部分</span></span><br><span class="line"><span class="regexp">            var arr = [];</span></span><br><span class="line"><span class="regexp">            $('li').each(function(index,ele)&#123; </span></span><br><span class="line"><span class="regexp">                arr.push( $(ele).find('.test1').text());</span></span><br><span class="line"><span class="regexp">                /</span><span class="regexp">/ele是当前遍历的元素，不能使用span</span></span><br><span class="line"><span class="regexp">            &#125;)</span></span><br><span class="line"><span class="regexp">            console.log(arr.join(','));</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/打印出来是的 hh,ss</span></span><br></pre></td></tr></table></figure>
<p>each就是为了循环前面的DOM元素的，功能只是循环遍历，所以完成后，依旧是返回each前面的那个对象</p>
<h1 id="九-DOM的查询操作"><a href="#九-DOM的查询操作" class="headerlink" title="九 DOM的查询操作"></a>九 DOM的查询操作</h1><h2 id="9-1-closest-parent-parents-offsetParent"><a href="#9-1-closest-parent-parents-offsetParent" class="headerlink" title="9.1 closest() parent() parents() offsetParent()"></a>9.1 closest() parent() parents() offsetParent()</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">            &lt;span&gt;jhh&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>li&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span> </span>= <span class="string">'ll'</span>&gt;</span><br><span class="line">            &lt;span&gt;kkk&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">console.log($('span').parent());/</span><span class="regexp">/打印出li和div</span></span><br><span class="line"><span class="regexp">console.log($('span').parents());/</span><span class="regexp">/可以找出li ul body html  div</span></span><br><span class="line"><span class="regexp">console.log($('span').parents('li'));/</span><span class="regexp">/那么只返回父级是li的元素，只有一个满足</span></span><br><span class="line"><span class="regexp"> console.log($('.ll').closest('div'));/</span><span class="regexp">/找最近的div，是自己本身</span></span><br></pre></td></tr></table></figure>
<p>注意：</p>
<pre><code>1.closest可以查找父级元素，但是包含本身，而parent和parents是不包含本身的。

2.closest可以向里面传一个css选择器，可以传函数，也可以传一个原生的DOM，也可以传一个原生的对象。而parent和parents都是传的选择器。
</code></pre><p>closest(selector|element|jQuery Obect)<br>parent(selector)<br>parents(selector)<br>offsetParent(无参数)找有定位的元素，如果都没有定位，会找到html元素为止。</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>offsetParent</td>
<td>$(‘.ll’).offsetParent()</td>
<td>向上找有定位的元素</td>
</tr>
<tr>
<td>parent</td>
<td>$(‘span’).parent()；</td>
<td>找span的直接父元素</td>
</tr>
<tr>
<td>parents</td>
<td>$(‘span’).parents()</td>
<td>找span的祖先元素</td>
</tr>
<tr>
<td>closest</td>
<td>$(‘span’).closest(‘div’)</td>
<td>返回离span最近的div元素</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">     &lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">"div1"</span>&gt;</span><br><span class="line">        &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"hh"</span>&gt;</span><br><span class="line">            &lt;span&gt;jhh&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>li&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"ll"</span>&gt;</span><br><span class="line">            &lt;span&gt;kkk&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">   </span></span><br><span class="line"><span class="regexp">   </span></span><br><span class="line"><span class="regexp"> console.log($('.hh').find('span'))</span></span><br><span class="line"><span class="regexp"> 打印出jQuery.fn.init(1)</span></span><br><span class="line"><span class="regexp">        0: span</span></span><br><span class="line"><span class="regexp">        length: 1</span></span><br><span class="line"><span class="regexp">        prevObject: jQuery.fn.init [li.hh, prevObject: jQuery.fn.init(1)]</span></span><br><span class="line"><span class="regexp">        __proto__: Object(0)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">注意 prevObject就是它上一个对象，这个对象是document，可以使用这个方法实现链式调用</span></span><br><span class="line"><span class="regexp">例如</span></span><br><span class="line"><span class="regexp"> $('.hh').find('span').css('background','red').prevObject.find('div').css('background','red');</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">如果使用方法调用，使用end()可以达到同样的效果(等同于prevObject)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"> $('.hh').add('.ll').css('background','red');</span></span><br></pre></td></tr></table></figure>
<h2 id="9-2-children-find-end-add-addBack"><a href="#9-2-children-find-end-add-addBack" class="headerlink" title="9.2   children() find() end()add() addBack()"></a>9.2   children() find() end()add() addBack()</h2><p>addBack()的使用</p>
<pre><code>将前一个对象和现在的对象都添加jQuery中
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    &lt;li&gt;1&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;2&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;3&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;4&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;5&lt;/li&gt;</span><br><span class="line">    js中</span><br><span class="line">$(&apos;li:eq(1)&apos;).nextAll().css(&apos;background&apos;,&apos;red&apos;).addBack().css(&apos;background&apos;,&apos;red&apos;)</span><br></pre></td></tr></table></figure>
<p>注意：<br>    children(selector)<br>    find(selector)<br>    end(无参数)<br>    add(selector|element|jQuery Obect)</p>
<p>jQuery对象中不仅可以添加selector等这些元素，还可以添加标签，可以生成标签，通过appendChild() 方法插入到DOM元素中。</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>children(selector)</td>
<td>$(‘ul’).children(‘li’);</td>
<td>相当于$(‘ul&gt;li’),子类选择器</td>
</tr>
<tr>
<td>find(selector)</td>
<td>$(‘ul’).find(‘li’);</td>
<td>相当于$(‘ul li’),后代选择器</td>
</tr>
<tr>
<td>end(无参数)</td>
<td>等同于prevObject</td>
<td>返回的到上一个对象，链式调用</td>
</tr>
<tr>
<td>add(selector等)</td>
<td>$(‘span’).add(‘div’)</td>
<td>既找span也找div</td>
</tr>
<tr>
<td>andBack</td>
<td>上面有</td>
<td>查找对象的前一个元素</td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/11/jQuery_1/" data-id="cjshkau78001amggg8liz2io2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jQuery_2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/11/jQuery_2/" class="article-date">
  <time datetime="2018-12-11T08:28:39.000Z" itemprop="datePublished">2018-12-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/jQuery知识点笔记/">jQuery知识点笔记</a>►<a class="article-category-link" href="/categories/jQuery知识点笔记/jQuery知识总结2/">jQuery知识总结2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/11/jQuery_2/">jQuery进阶笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-插入DOM操作"><a href="#一-插入DOM操作" class="headerlink" title="一 插入DOM操作"></a>一 插入DOM操作</h1><h2 id="1-1-before-insertBefore-after-insertAfter"><a href="#1-1-before-insertBefore-after-insertAfter" class="headerlink" title="1.1 before()|insertBefore()|after()| insertAfter()"></a>1.1 before()|insertBefore()|after()| insertAfter()</h2><h3 id="1-1-1-before-原生DOM-jQuery对象-函数-selector"><a href="#1-1-1-before-原生DOM-jQuery对象-函数-selector" class="headerlink" title="1.1.1 before(原生DOM|jQuery对象|函数|selector)"></a>1.1.1 before(原生DOM|jQuery对象|函数|selector)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">"h2"</span> &gt;h2&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">&lt;div class="div1"&gt;</span></span><br><span class="line"><span class="regexp">&lt;ul&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li&gt;li&lt;/</span>li&gt;</span><br><span class="line">&lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">js中</span></span><br><span class="line"><span class="regexp"> $('li').before($('.h2'));/</span><span class="regexp">/这样就会在li元素的前面插入h2标签</span></span><br></pre></td></tr></table></figure>
<p>添函数，可以在函数中做判断进行return</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">   &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;li&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li&gt;hh&lt;/</span>li&gt;</span><br><span class="line">        &lt;li&gt;ll&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li&gt;ssk&lt;/</span>li&gt;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">js中</span></span><br><span class="line"><span class="regexp">$('li').before(</span></span><br><span class="line"><span class="regexp">    function(index,ele)&#123;</span></span><br><span class="line"><span class="regexp">        console.log(index +'----------' + ele);</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">);/</span><span class="regexp">/会把4个li的索引和内容都打印出来</span></span><br></pre></td></tr></table></figure>
<p>还可以添加HTML结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;li&apos;).before( &apos;&lt;h3&gt;3333&lt;/h3&gt;&apos;);//接着上述代码写，会给每个li元素都添加一个h3的标签。</span><br></pre></td></tr></table></figure>
<h3 id="1-1-2-insertBefore"><a href="#1-1-2-insertBefore" class="headerlink" title="1.1.2 insertBefore()"></a>1.1.2 insertBefore()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;h2&apos;).insertBefore(&apos;li&apos;);//把h2插入到li标签前面</span><br></pre></td></tr></table></figure>
<p>与 before的用法基本一致。</p>
<p>唯一的区别就是，要实现同样的效果，前面的对象不一样，before前面是被插入对象，insertBefore前面是要插入的对象，使用哪一个看自己需求，要的对象是谁。jQuery返回对象，实现链式调用。</p>
<h3 id="1-1-3-after-插入在某个元素的后面"><a href="#1-1-3-after-插入在某个元素的后面" class="headerlink" title="1.1.3 after()插入在某个元素的后面"></a>1.1.3 after()插入在某个元素的后面</h3><pre><code>与before的用法一致
</code></pre><h3 id="1-1-4-insertAfter-插入在某个元素后面"><a href="#1-1-4-insertAfter-插入在某个元素后面" class="headerlink" title="1.1.4 insertAfter()插入在某个元素后面"></a>1.1.4 insertAfter()插入在某个元素后面</h3><pre><code>与insertBefore用法一致
</code></pre><h2 id="1-2-apend-、apendTo-、prepend-、prependTo"><a href="#1-2-apend-、apendTo-、prepend-、prependTo" class="headerlink" title="1.2  apend()、apendTo()、prepend()、prependTo()"></a>1.2  apend()、apendTo()、prepend()、prependTo()</h2><p>注意：要知道是兄弟元素(before)，还是父子关系(apend)</p>
<h3 id="1-2-1-apend-添加"><a href="#1-2-1-apend-添加" class="headerlink" title="1.2.1 apend()添加"></a>1.2.1 apend()添加</h3><p>相当于apendChild ，把插入元素作为子元素插入到父元素中，并且是最后一个元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  &lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">"h2"</span> &gt;h2&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="div1"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;ul&gt;</span></span><br><span class="line"><span class="regexp">  	&lt;li&gt;li1&lt;/</span>li&gt;</span><br><span class="line">  	&lt;li&gt;li2&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/u</span>l&gt;</span><br><span class="line"></span><br><span class="line">js中</span><br><span class="line">$(<span class="string">'ul'</span>).append($(<span class="string">'.h2'</span>));<span class="comment">//把h2插入到ul标签中，且是最后一个元素。</span></span><br></pre></td></tr></table></figure>
<h3 id="1-2-2-apendTo"><a href="#1-2-2-apendTo" class="headerlink" title="1.2.2 apendTo()"></a>1.2.2 apendTo()</h3><pre><code>和apend可达到同样的效果，只是区别于前面返回的对象不一样，看自己想使用哪个元素。
</code></pre><h3 id="1-2-3-prepend"><a href="#1-2-3-prepend" class="headerlink" title="1.2.3 prepend()"></a>1.2.3 prepend()</h3><pre><code>prepend()和apend区别在于，prepend插入到父元素的所有子元素的前面，而apend插入在最后面
</code></pre><h3 id="1-2-4-prependTo"><a href="#1-2-4-prependTo" class="headerlink" title="1.2.4 prependTo()"></a>1.2.4 prependTo()</h3><pre><code>prependTo()和apendTo区别在于，prependTo插入到父元素的所有子元素的前面，而apendTo插入在最后面
</code></pre><h1 id="二-删除、包裹DOM操作"><a href="#二-删除、包裹DOM操作" class="headerlink" title="二.删除、包裹DOM操作"></a>二.删除、包裹DOM操作</h1><h2 id="2-1-replaceAll-、replaceWith"><a href="#2-1-replaceAll-、replaceWith" class="headerlink" title="2.1 replaceAll()、replaceWith()"></a>2.1 replaceAll()、replaceWith()</h2><h3 id="2-1-2-replaceAll"><a href="#2-1-2-replaceAll" class="headerlink" title="2.1.2 replaceAll()"></a>2.1.2 replaceAll()</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"one"</span>&gt;<span class="number">1</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;ul&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li class="two"&gt;2&lt;/</span>li&gt;</span><br><span class="line">    &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"three"</span>&gt;<span class="number">3</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;/u</span>l&gt;</span><br><span class="line">$(<span class="string">'.one'</span>).replaceAll($(<span class="string">'.two'</span>));<span class="comment">//使用1替换2</span></span><br></pre></td></tr></table></figure>
<h3 id="2-1-2-replaceWith"><a href="#2-1-2-replaceWith" class="headerlink" title="2.1.2 replaceWith()"></a>2.1.2 replaceWith()</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"one"</span>&gt;<span class="number">1</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;ul&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li class="two"&gt;2&lt;/</span>li&gt;</span><br><span class="line">    &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"three"</span>&gt;<span class="number">3</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;/u</span>l&gt;</span><br><span class="line"> $(<span class="string">'.two'</span>).replaceWith($(<span class="string">'.one'</span>));;<span class="comment">//使用1替换2</span></span><br></pre></td></tr></table></figure>
<p>replaceAll() 与 <a href="http://www.w3school.com.cn/jquery/manipulation_replacewith.asp" target="_blank" rel="noopener">replaceWith()</a> 作用相同。</p>
<p>差异在于语法：内容和选择器的位置，以及 replaceWith() 能够使用函数进行替换。</p>
<h2 id="2-2-empty-、remove-、detach-、clone"><a href="#2-2-empty-、remove-、detach-、clone" class="headerlink" title="2.2 empty()、remove()、detach()、clone()"></a>2.2 empty()、remove()、detach()、clone()</h2><h3 id="2-2-1-empty"><a href="#2-2-1-empty" class="headerlink" title="2.2.1 empty()"></a>2.2.1 empty()</h3><p>清空，用的比较多一点。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">   &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"one"</span>&gt;<span class="number">1</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">   &lt;ul&gt;</span></span><br><span class="line"><span class="regexp">       &lt;li class="two"&gt;2&lt;/</span>li&gt;</span><br><span class="line">       &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"three"</span>&gt;<span class="number">3</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">   &lt;/u</span>l&gt;</span><br><span class="line">   $(<span class="string">'ul'</span>).empty();<span class="comment">//将所有empty所有的子元素都清空。最后只下li</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">'ul'</span>).html(<span class="string">''</span>);</span><br><span class="line">   $(<span class="string">'ul'</span>).text(<span class="string">''</span>);</span><br></pre></td></tr></table></figure>
<h3 id="2-2-2-remove"><a href="#2-2-2-remove" class="headerlink" title="2.2.2 remove()"></a>2.2.2 remove()</h3><p>清除的效果</p>
<h3 id="2-2-3-detach"><a href="#2-2-3-detach" class="headerlink" title="2.2.3 detach()"></a>2.2.3 detach()</h3><p>清除的效果，不仅可以返回DOM元素，还可以返回DOM元素上的事件，在DOM元素上的数据都有保存，</p>
<p>而remove方法就没有了，它只保存DOM元素，其他数据都不存在了。如果删除了某个元素想在某个恰当时机添加回来，就使用datach这个方法，否则需要重新绑定。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1 = $(<span class="string">'.div1'</span>).click(</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).remove();</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"><span class="keyword">var</span> div2 = $(<span class="string">'.div2'</span>).click(</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).detach();</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line">$(<span class="string">'.btn'</span>).click(</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">'ul'</span>).append(</span><br><span class="line">            <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> div1.add(div2)</span><br><span class="line">            &#125;</span><br><span class="line">    	);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="2-2-4-clone"><a href="#2-2-4-clone" class="headerlink" title="2.2.4 clone()"></a>2.2.4 clone()</h3><p>克隆元素，但不会把事件也克隆过去，在clone(true)就是深度克隆的过程。<br>在添加clone元素的时候，如果是一模一样的元素，不会再添加，只会更新这个元素。元素数量不会增多。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> clone = $(<span class="string">'.div1'</span>).clone(<span class="literal">true</span>);</span><br><span class="line">$(<span class="string">'.btn'</span>).click(</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">'ul'</span>).append(clone);</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>以上代码clone的指向的是原本的那一个，每次clone的都是它，只有一个对象。给的是索引。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.btn'</span>).click(</span><br><span class="line">       <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="keyword">var</span> clone = $(<span class="string">'.div1'</span>).clone();</span><br><span class="line">           $(<span class="string">'ul'</span>).append(clone);</span><br><span class="line">       &#125;</span><br><span class="line">   );</span><br></pre></td></tr></table></figure>
<p>那以上代码是每次都会创建一个新的对象，所以每次都会继续增加。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.btn'</span>).click(</span><br><span class="line">        <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;     </span><br><span class="line">            $(<span class="string">'ul'</span>).append(clone);</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">var</span> clone =<span class="string">'&lt;li&gt;li&lt;/li&gt;'</span>;</span><br></pre></td></tr></table></figure>
<p>以上，是绑定事件，是异步，所以clone结果不会是 undefined。var的是个字符串，每点击一次就会增加一个，相当于直接$(‘ul’).append(‘<li>li</li>‘）。</p>
<p>总结：如果是一个存在的元素，且并没有创建新的，那么每次clone也只会是一个（）</p>
<h2 id="2-3-wrap-、wrapAll-、wrapInner-、unwrap"><a href="#2-3-wrap-、wrapAll-、wrapInner-、unwrap" class="headerlink" title="2.3 wrap()、wrapAll()、wrapInner()、unwrap()"></a>2.3 wrap()、wrapAll()、wrapInner()、unwrap()</h2><h3 id="2-3-1-wrap"><a href="#2-3-1-wrap" class="headerlink" title="2.3.1 wrap()"></a>2.3.1 wrap()</h3><p>在每个元素外面 包裹每个元素。</p>
<p> wrap()内部是可以创建一个元素的，可以直接写个头标签，但不可以只写尾标签。</p>
<h3 id="2-3-2-wrapAll"><a href="#2-3-2-wrapAll" class="headerlink" title="2.3.2 wrapAll()"></a>2.3.2 wrapAll()</h3><p>会放在一个地方，整体包裹起来</p>
<p>从外面将查找到的所有元素包裹在一起，包裹的位置，取决于第一个被查找到的元素。整体会移动到第一个被查找元素的位置。</p>
<h3 id="2-3-3-wrapInner"><a href="#2-3-3-wrapInner" class="headerlink" title="2.3.3 wrapInner()"></a>2.3.3 wrapInner()</h3><p>在内部包裹</p>
<h3 id="2-3-4-unwrap"><a href="#2-3-4-unwrap" class="headerlink" title="2.3.4 unwrap()"></a>2.3.4 unwrap()</h3><p>解除包裹，会一层一层的解除，但不会解除body以上的</p>
<h1 id="三-鼠标事件"><a href="#三-鼠标事件" class="headerlink" title="三 鼠标事件"></a>三 鼠标事件</h1><h2 id="3-1-click-dbclick-contextmenu-event-which"><a href="#3-1-click-dbclick-contextmenu-event-which" class="headerlink" title="3.1 click/dbclick/contextmenu/event.which"></a>3.1 click/dbclick/contextmenu/event.which</h2><h3 id="3-1-1-click"><a href="#3-1-1-click" class="headerlink" title="3.1.1  click"></a>3.1.1  click</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;li&gt;hh&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">js中</span></span><br><span class="line"><span class="regexp">$('li').click(function()&#123;</span></span><br><span class="line"><span class="regexp">    $(this).css('background-color','red');</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br></pre></td></tr></table></figure>
<h3 id="3-1-2-dblclick"><a href="#3-1-2-dblclick" class="headerlink" title="3.1.2 dblclick"></a>3.1.2 dblclick</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;双击添加图片&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="./</span>jquery<span class="number">-3.3</span><span class="number">.1</span>.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">$(document).dblclick(function(e)&#123;</span></span><br><span class="line"><span class="string">    $('body').append('&lt;img src="</span>./<span class="number">1.</span>jpg<span class="string">" style="</span>width: <span class="number">50</span>px; height: <span class="number">50</span>px;   margin-left: <span class="number">-25</span>px; margin-top: <span class="number">-25</span>px; position: absolute; left:<span class="string">'+ e.pageX+'</span>px; top: <span class="string">'+ e.pageY+'</span>px<span class="string">"&gt;');</span></span><br><span class="line"><span class="string">    console.log( e.pageX-15);</span></span><br><span class="line"><span class="string">&#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>对于上述问题：添加img的时候，后面的px前面多个一个空格，这样写是错误的，没有起到作用。</p>
<p>要注意的问题：在字符串拼接里，不可以做逻辑运算，虽然不会报错，会把后面的字符串忽略掉。</p>
<h3 id="3-1-3-event-which以及contextmenu"><a href="#3-1-3-event-which以及contextmenu" class="headerlink" title="3.1.3 event.which以及contextmenu"></a>3.1.3 event.which以及contextmenu</h3><p><strong>event.which</strong>判断鼠标按下的是哪个键，左键是1，滚动条是2，右键是3，可以根据按键返回的值来判断按下的是哪个键。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).contextmenu(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="built_in">document</span>).mousedown(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(event.which == <span class="number">3</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(event.which)</span><br><span class="line">        $(<span class="string">'body'</span>).append(<span class="string">'&lt;img src="./1.jpg" style="width: 50px; height: 50px;   margin-left: -25px; margin-top: -25px; position: absolute; left:'</span>+ e.pageX+<span class="string">'px; top: '</span>+ e.pageY+<span class="string">'px"&gt;'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>contextmenu</strong>是用来取消鼠标按下右键触发的默认事件。</p>
<h2 id="3-2-mouseenter-mouseleave-mouseover-mouseout"><a href="#3-2-mouseenter-mouseleave-mouseover-mouseout" class="headerlink" title="3.2 mouseenter/mouseleave/mouseover/mouseout"></a>3.2 mouseenter/mouseleave/mouseover/mouseout</h2><h3 id="3-2-1-mouseenter-mouseleave"><a href="#3-2-1-mouseenter-mouseleave" class="headerlink" title="3.2.1 mouseenter/mouseleave"></a>3.2.1 mouseenter/mouseleave</h3><p>鼠标移入和鼠标移出(不会冒泡)，在移入到子盒子中，是不会触发父盒子的事件的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"box"</span>&gt;</span><br><span class="line">	&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"wrapper"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/div&gt;     </span></span><br><span class="line"><span class="regexp">        </span></span><br><span class="line"><span class="regexp">        $('.wrapper').mouseenter(function()&#123;</span></span><br><span class="line"><span class="regexp">            console.log('里面进入');</span></span><br><span class="line"><span class="regexp">        &#125;)</span></span><br><span class="line"><span class="regexp">        $('.wrapper').mouseleave(function()&#123;</span></span><br><span class="line"><span class="regexp">            console.log('里面离开');</span></span><br><span class="line"><span class="regexp">        &#125;)</span></span><br><span class="line"><span class="regexp">        $('.box').mouseenter(function()&#123;</span></span><br><span class="line"><span class="regexp">            console.log('外面进入');</span></span><br><span class="line"><span class="regexp">        &#125;)</span></span><br><span class="line"><span class="regexp">        $('.box').mouseleave(function()&#123;</span></span><br><span class="line"><span class="regexp">            console.log('外面离开');</span></span><br><span class="line"><span class="regexp">        &#125;)</span></span><br></pre></td></tr></table></figure>
<h3 id="3-2-2-mouseover-mouseout"><a href="#3-2-2-mouseover-mouseout" class="headerlink" title="3.2.2 mouseover/mouseout"></a>3.2.2 mouseover/mouseout</h3><p>鼠标移入和鼠标移出(会冒泡)<br><img src="/2018/12/11/jQuery_2/jQuery3.png"></p>
<img src="/2018/12/11/jQuery_2/jQuery2.png">
<p>以上事件是，我将鼠标移入到子盒子且未离开所触发的事件，首先是进入父盒子，当进入到子盒子内会先触发离开父盒子事件，进而才触发子盒子移入事件，最后是父盒子进入事件(也就是进入子盒子会触发的冒泡事件)</p>
<p>注意：当鼠标移到子元素上，就认为是离开了父元素(不在父元素本身了)<br><img src="/2018/12/11/jQuery_2/jQuery4.png"></p>
<p>以上从子盒子出来到父盒子的外面，所触发的所有事件。先是从子盒子中出来，由于事件冒泡也会触发从父盒子出来事件，进而进入父盒子，再从父盒子出来。</p>
<h2 id="3-3-mousedown-mousemove-mouseup"><a href="#3-3-mousedown-mousemove-mouseup" class="headerlink" title="3.3 mousedown/mousemove/mouseup"></a>3.3 mousedown/mousemove/mouseup</h2><img src="/2018/12/11/jQuery_2/jQuery5.png">
<p>拖拽实例：一般在拖拽的时候，防止鼠标移动的过快，脱离元素本身，所以mousemove都不绑定在拖拽元素上，而是绑定在document上。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">        .box&#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: <span class="number">200</span>px;</span><br><span class="line">            left: <span class="number">200</span>px;</span><br><span class="line">            width: <span class="number">200</span>px;</span><br><span class="line">            height: <span class="number">200</span>px;</span><br><span class="line">            background-color: orange;</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"box"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">$(<span class="string">'.box'</span>).mousedown(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> offset = $(<span class="keyword">this</span>).offset();</span><br><span class="line">    <span class="keyword">var</span> dis = &#123;&#125;;</span><br><span class="line">    dis.x = e.pageX - offset.left;</span><br><span class="line">    dis.y = e.pageY - offset.top;</span><br><span class="line">    $(<span class="built_in">document</span>).mousemove(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        $(<span class="string">'.box'</span>).css(&#123;<span class="comment">//改变box的属性</span></span><br><span class="line">            left: e.pageX - dis.x,</span><br><span class="line">            top: e.pageY - dis.y,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;).mouseup(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).off(<span class="string">'mousemove mouseup'</span>)<span class="comment">//取消事件注意中间是空格</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//防止拖拽中有文字，文字被拖拽</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="3-4-focus-blur-change"><a href="#3-4-focus-blur-change" class="headerlink" title="3.4 focus/blur/change"></a>3.4 focus/blur/change</h2><p> <strong>focus</strong>获取焦点</p>
<p><strong>blur</strong>失去焦点</p>
<p><strong>change</strong>当表单元素value值发生变化时，会触发change(是在失去焦点之后才会起作用)</p>
<p>当类型是file的时候(选择是同一个文件的时候，是不会触发change事件的)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span>&gt;</span><br><span class="line">&lt;script src=<span class="string">"./jquery-3.3.1.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="string">'input'</span>).change(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'已经更新'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-5-keydown-keyup-keypress"><a href="#3-5-keydown-keyup-keypress" class="headerlink" title="3.5 keydown/keyup/keypress"></a>3.5 keydown/keyup/keypress</h2><pre><code>**keydown** 鼠标按下

**keyup**鼠标抬起

**keypress**鼠标按下触发
</code></pre><h3 id="3-5-1-keydown和keypress共同点"><a href="#3-5-1-keydown和keypress共同点" class="headerlink" title="3.5.1 keydown和keypress共同点"></a>3.5.1 <strong>keydown</strong>和<strong>keypress</strong>共同点</h3><pre><code>**keydown**和**keypress**都是在文字输入到input框之前会监听到这个事件，所以在监听的时候，文字还没有输入进去，所以想要按下去后获取文本内容，是获取不到的。只有在**keyup**的时候才可以获取到。
</code></pre><h3 id="3-5-2-监听顺序"><a href="#3-5-2-监听顺序" class="headerlink" title="3.5.2 监听顺序"></a>3.5.2 监听顺序</h3><pre><code>先监听keydown，再监听keypress，最后监听keyup
</code></pre><h3 id="3-5-3-keydown-和-keypress区别"><a href="#3-5-3-keydown-和-keypress区别" class="headerlink" title="3.5.3  keydown 和 keypress区别"></a>3.5.3  <strong>keydown</strong> 和 <strong>keypress</strong>区别</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'input'</span>).keydown(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.which);<span class="comment">//返回的是个键值代码</span></span><br><span class="line">&#125;).keypress(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.which)<span class="comment">//当前按下字符的ASCII码值</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>大写的键值和ASCII码值是一样的。</p>
<p>如果想去判断按键按下的是哪个，最好使用keydown(不管大写还是小写，其返回的都是唯一的值)</p>
<h2 id="3-6-scroll"><a href="#3-6-scroll" class="headerlink" title="3.6 scroll"></a>3.6 scroll</h2><p>滚轮事件</p>
<p>实例：判断滚轮位置添加元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"wrapper"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"item"</span>&gt;<span class="number">0</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div class="item"&gt;1&lt;/</span>div&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"item"</span>&gt;<span class="number">2</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>($(<span class="built_in">document</span>).scrollTop() + $(<span class="built_in">window</span>).height() &gt;= $(<span class="string">'body'</span>).height())&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'hhh'</span>)</span><br><span class="line">            $(<span class="string">'.wrapper'</span>).append(<span class="string">' &lt;div class="item"&gt;'</span>+$(<span class="string">'.item'</span>).length+<span class="string">'&lt;/div&gt;'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
<p>$(document).scrollTop()获取滚动的距离。(被隐藏的那部分)</p>
<p>$(window).height()窗口高度(显示区域)</p>
<p>$(‘body’).height()整个文档的高度</p>
<h2 id="3-7-e-pageX和e-pageY"><a href="#3-7-e-pageX和e-pageY" class="headerlink" title="3.7 e.pageX和e.pageY"></a>3.7 e.pageX和e.pageY</h2><p><strong>e.pageX</strong>相对整个页面的坐标鼠标，距离窗口左侧的距离(相对于文档定位的)</p>
<p><strong>e.pageY</strong>相对整个页面的坐标，鼠标距离窗口上侧的距离</p>
<p><a href="https://blog.csdn.net/mafan121/article/details/46309467" target="_blank" rel="noopener">https://blog.csdn.net/mafan121/article/details/46309467</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">e.clientX，e.clientY：返回的值是相对于屏幕可见区域的坐标，如果页面有滚动条，呗滚动条隐藏的那部分不进行计算，也可以说是相对于屏幕的坐标，但是不计算上方的工具栏；</span><br><span class="line"></span><br><span class="line">e.screenX，e.screenY：返回的是相对于屏幕的坐标，浏览器上面的工具栏；</span><br><span class="line"></span><br><span class="line">e.offsetX，e.offsetY：返回的是相对于文档的坐标，和e.pageX，e.pageY作用相同，但是只有IE支持</span><br><span class="line">$(window).scrollTop()：返回的是浏览器右边的滚动条滚动的距离；</span><br><span class="line">所以：e.pageY=e.pageY||e.clientY+$(window).scrollTop();  //兼容性的写法</span><br></pre></td></tr></table></figure>
<p><a href="https://www.cnblogs.com/zhaixr/p/7026320.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhaixr/p/7026320.html</a></p>
<h2 id="3-8-event-preventDefault-和-event-stopPropagation"><a href="#3-8-event-preventDefault-和-event-stopPropagation" class="headerlink" title="3.8 event.preventDefault 和 event.stopPropagation"></a>3.8 event.preventDefault 和 event.stopPropagation</h2><pre><code>preventDefault() 方法阻止元素发生默认的行为
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"a"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">  event.preventDefault();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p> event.stopPropagation()取消冒泡事件</p>
<p>可以阻止 click 事件冒泡到父元素。</p>
<h2 id="3-9-on-off-trigger-one"><a href="#3-9-on-off-trigger-one" class="headerlink" title="3.9 on/off/trigger/one"></a>3.9 on/off/trigger/one</h2><h3 id="3-9-1-on-相当于click绑定事件"><a href="#3-9-1-on-相当于click绑定事件" class="headerlink" title="3.9.1 on 相当于click绑定事件"></a>3.9.1 on 相当于click绑定事件</h3><p>$(‘li’).on(‘click’,function(){} )</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;<span class="number">1</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li&gt;2&lt;/</span>li&gt;</span><br><span class="line">    &lt;li&gt;<span class="number">3</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;/u</span>l&gt;</span><br><span class="line">&lt;script src=<span class="string">"./jquery-3.3.1.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="string">'li'</span>).on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">'ul'</span>).append(<span class="string">'&lt;li&gt;'</span>+ $(<span class="string">'li'</span>).length+<span class="string">'&lt;/li&gt;'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>注意：有点击事件的只是最开始dom结构中的有的元素。</p>
<h3 id="3-9-2-on-实现事件委托"><a href="#3-9-2-on-实现事件委托" class="headerlink" title="3.9.2 on 实现事件委托"></a>3.9.2 on 实现事件委托</h3><p>如何解决：使用事件委托，绑定在父元素上(点击里面的子元素，通过事件冒泡的形式触发事件)。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'要触发事件的父级元素'</span>).on(<span class="string">'click'</span>,<span class="string">'触发目标元素'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>
<p>上述例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'ul'</span>).on(<span class="string">'click'</span>,<span class="string">'li'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'ul'</span>).append(<span class="string">'&lt;li&gt;'</span>+ $(<span class="string">'li'</span>).length+<span class="string">'&lt;/li&gt;'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="3-9-3-on-可以实现传值"><a href="#3-9-3-on-可以实现传值" class="headerlink" title="3.9.3 on 可以实现传值"></a>3.9.3 on 可以实现传值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'要触发事件的父级元素'</span>).on(<span class="string">'click'</span>,<span class="string">'触发目标元素'</span>,&#123;<span class="attr">name</span>:<span class="string">'hhh'</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>
<p>可以通过e.data获取的到</p>
<h3 id="3-9-4-off-事件"><a href="#3-9-4-off-事件" class="headerlink" title="3.9.4 off 事件"></a>3.9.4 off 事件</h3><p>解除事件 .off(‘click’);如果是多个click点击事件，都会被取消点，如果想特定取消某个，需要将函数放在里面</p>
<p>注意：不可以像下面这样写，因为这样写是两个不同的函数(匿名函数)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).on(<span class="string">'click'</span> ,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'json'</span>);</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'button'</span>).off(<span class="string">'click'</span> ,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'json'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>正确使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'json'</span>);</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">'button'</span>).on(<span class="string">'click'</span> ,fn)</span><br><span class="line">$(<span class="string">'button'</span>).off(<span class="string">'click'</span> ,fn)</span><br></pre></td></tr></table></figure>
<h3 id="3-9-5-one事件"><a href="#3-9-5-one事件" class="headerlink" title="3.9.5 one事件"></a>3.9.5 one事件</h3><p>如果事件只执行一次，就绑定one事件就可以了</p>
<p>注意：一开始没有存在的元素，使用事件委托的形式来绑定事件。(给你父级绑定事件)</p>
<h3 id="3-9-6-trigger"><a href="#3-9-6-trigger" class="headerlink" title="3.9.6 trigger"></a>3.9.6 trigger</h3><p>不需要鼠标按下，就能触发</p>
<p>$(‘li’).on(‘click’,function(){} )</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hhh'</span>)</span><br><span class="line">    $(<span class="string">'li'</span>).trigger($(<span class="keyword">this</span>).text())</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>可以传参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hhh'</span>)</span><br><span class="line">    $(<span class="string">'li'</span>).trigger(<span class="string">'click'</span>,[<span class="string">'aa'</span>,<span class="string">'bb'</span>]);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>不仅可以触发系统默认的事件，也可以触发自定义的事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'li'</span>).on(<span class="string">'move'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'ul'</span>).append(<span class="string">'&lt;li&gt;'</span>+ $(<span class="string">'li'</span>).length+<span class="string">'&lt;/li&gt;'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'li'</span>).trigger(<span class="string">'move'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="四-隐藏与显示动画"><a href="#四-隐藏与显示动画" class="headerlink" title="四 隐藏与显示动画"></a>四 隐藏与显示动画</h1><h2 id="4-1-hide-show"><a href="#4-1-hide-show" class="headerlink" title="4.1 hide/show"></a>4.1 hide/show</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"box"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;button&gt;btn&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="./</span>jquery<span class="number">-3.3</span><span class="number">.1</span>.min.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">    $('button').click(function()&#123;</span></span><br><span class="line"><span class="string">        $('.box').hide();</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>show()</strong>的用法类似</p>
<p>hide和show是没有动画展示的时间，突然一下就没了。</p>
<h2 id="4-2-slideDown-slideUp-slideToggle"><a href="#4-2-slideDown-slideUp-slideToggle" class="headerlink" title="4.2 slideDown/slideUp/slideToggle"></a>4.2 slideDown/slideUp/slideToggle</h2><p> <strong>slideDown</strong>向下展开</p>
<p><strong>slideUp</strong>向上隐藏</p>
<p><strong>slideToggle</strong>展开和隐藏切换</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'.box'</span>).slideToggle();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>如果是隐藏的，点击一下就展开，如果是展开的，点击一下就隐藏。</p>
<p>以上都可以填写动画时间，以及动画完成之后触发函数。</p>
<p>形如</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      $(<span class="string">'.box'</span>).slideToggle(<span class="number">1000</span>，<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'hhh'</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h2 id="4-3-fadeIn-fadeOut-fadeToggle-fadeTo"><a href="#4-3-fadeIn-fadeOut-fadeToggle-fadeTo" class="headerlink" title="4.3 fadeIn/fadeOut/fadeToggle/fadeTo"></a>4.3 fadeIn/fadeOut/fadeToggle/fadeTo</h2><p>以上都可以填写动画时间，以及动画完成之后触发函数。</p>
<p>透明度逐渐改变，实现逐渐展示或逐渐隐藏</p>
<p><strong>fadeIn()</strong> 如果当前是display:none; 先display:block；然后是opacity从0变到1。</p>
<p><strong>fadeOut()</strong>如果当前是display:block; 先opacity从1变成0，然后才是display:none;</p>
<p><strong>fadeToggle()</strong>以上两种方式的来回切换</p>
<p>注意：对于有些结构并不是每个人都有需求的，不需要一开始在dom结构中就存在，所以可以通过点击事件创建，再使用append添加进去（只添加一遍的话使用one），要注意的是这样添加的事件就没有之前的绑定事件，这些都可以通过使用on监听事件(绑定在创建元素的父级上)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'要触发事件的父级元素'</span>).on(<span class="string">'click'</span>,<span class="string">'触发目标元素'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="五-自定义动画"><a href="#五-自定义动画" class="headerlink" title="五 自定义动画"></a>五 自定义动画</h1><h2 id="5-1-animate"><a href="#5-1-animate" class="headerlink" title="5.1 animate()"></a>5.1 animate()</h2><p> animate(第一个参数，第二个参数，第三个参数)</p>
<p><strong>第一个参数</strong>  （想要过渡的一些属性值）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">样式</span><br><span class="line">        .box&#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: <span class="number">0</span>;</span><br><span class="line">            left: <span class="number">0</span>;</span><br><span class="line">            width: <span class="number">200</span>px;</span><br><span class="line">            height: <span class="number">200</span>px;</span><br><span class="line">            background:orange;</span><br><span class="line">            opacity: <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">结构</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"box"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;script src=<span class="string">"./jquery-3.3.1.min.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="built_in">document</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">'.box'</span>).animate(&#123;</span><br><span class="line">            left: <span class="number">500</span>,</span><br><span class="line">            top: <span class="number">500</span>,</span><br><span class="line">            opacity:<span class="number">0.5</span></span><br><span class="line">        &#125;，<span class="number">2000</span>，‘linear’，<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">'hhh'</span>)&#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>第二个参数</strong>  属性过渡的时间</p>
<p><strong>第三个参数</strong> 是个字符串(“动画运动的速率”)，就是以什么方式运动的。</p>
<pre><code>需要使用插件 easing.js(插件要放在jQuery文件下面，因为是基于jQuery实现)
</code></pre><p><strong>第四个参数</strong> 动画成功后的回调函数</p>
<p>建议：实现多个动画，做好不好放在成功的回调函数里面，最好使用链式调用。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.box'</span>)</span><br><span class="line">.animate(&#123;</span><br><span class="line">            left: <span class="number">500</span>,</span><br><span class="line">            top: <span class="number">500</span>,</span><br><span class="line">            opacity:<span class="number">0.5</span></span><br><span class="line">        &#125;，<span class="number">2000</span>，‘linear’，<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">'hhh'</span>)&#125;)</span><br><span class="line">.animate(&#123;</span><br><span class="line">    top：<span class="number">30</span>；</span><br><span class="line">&#125;)</span><br><span class="line">.css()</span><br></pre></td></tr></table></figure>
<h2 id="5-2-stop"><a href="#5-2-stop" class="headerlink" title="5.2 stop()"></a>5.2 stop()</h2><p><strong>第一个参数</strong> 是否取消动画队列，true代表后面的动画都不会执行，false是会执行,默认是false，不取消。</p>
<p><strong>第二个参数</strong> 当前动画是否要完成，false是不立即完成(运动到哪里算哪里)，默认就是false</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">结构</span><br><span class="line">   &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"box"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   &lt;button <span class="class"><span class="keyword">class</span></span>=<span class="string">"btn1"</span>&gt;move&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">   &lt;button class="btn2"&gt;stop&lt;/</span>button&gt;</span><br><span class="line">   </span><br><span class="line">   $(<span class="string">'.btn1'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       $(<span class="string">'.box'</span>)</span><br><span class="line">       .animate(&#123;</span><br><span class="line">           left: <span class="number">500</span>,</span><br><span class="line">           top: <span class="number">500</span>,</span><br><span class="line">           opacity:<span class="number">0.5</span></span><br><span class="line">       &#125;,<span class="number">3000</span>,<span class="string">'linear'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">'hhh'</span>)&#125;)</span><br><span class="line">   &#125;)</span><br><span class="line">   $(<span class="string">'.btn2'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       $(<span class="string">'.box'</span>)</span><br><span class="line">       .stop(<span class="literal">false</span>,<span class="literal">false</span>)</span><br><span class="line">       .animate(&#123;</span><br><span class="line">           top:<span class="string">'+=80'</span>,</span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>
<h1 id="六-常用工具方法"><a href="#六-常用工具方法" class="headerlink" title="六 常用工具方法"></a>六 常用工具方法</h1><h2 id="与之前所说的方法区别"><a href="#与之前所说的方法区别" class="headerlink" title="与之前所说的方法区别"></a>与之前所说的方法区别</h2><p><strong>实例方法</strong>：$(‘div’).click()  text()等(添加在原型上的方法)    函数执行完了</p>
<p>选择出来对象(就是所谓的实例)，对对象进行操作的。</p>
<p><strong>工具方法</strong>：$.type() (定义在jQuery函数上的方法)   函数没有执行</p>
<p>并没有选择出对象也就是实例，所以称为工具方法</p>
<p>一般工具方法都会为实例方法提供一个底层的搭建，实例方法基于工具方法。实现拓展都使用底层的工具方法。</p>
<h2 id="6-1-type"><a href="#6-1-type" class="headerlink" title="6.1 $.type()"></a>6.1 $.type()</h2><pre><code>用来判断数据类型
</code></pre><h2 id="6-2-trim"><a href="#6-2-trim" class="headerlink" title="6.2 $.trim()"></a>6.2 $.trim()</h2><pre><code>消除字符两侧的空格
</code></pre><h2 id="6-3-makeArray-inArray-each"><a href="#6-3-makeArray-inArray-each" class="headerlink" title="6.3 $.makeArray()/$.inArray()/$.each()"></a>6.3 $.makeArray()/$.inArray()/$.each()</h2><pre><code>**$.makeArray()** 将类数组变成数组

**$.inArray()** 判断某个值是否在某个数组中
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr =[<span class="string">'a'</span>, <span class="string">'b'</span>]</span><br><span class="line"><span class="built_in">console</span>.log($.isArray(<span class="string">'b'</span>,arr))<span class="comment">//返回的是index索引值，1，没有的话返回-1</span></span><br></pre></td></tr></table></figure>
<pre><code>    $.inArray(&apos;要找的值&apos;，&apos;在哪里找&apos;，&apos;从第几个索引值开始找&apos;)

**$.each()**

    $.each(&apos;遍历对象&apos;，回调函数)
</code></pre><p>可以是数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'ll'</span>,</span><br><span class="line">        age: <span class="number">12</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'kk'</span>,</span><br><span class="line">        age: <span class="number">13</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'nn'</span>,</span><br><span class="line">        age: <span class="number">14</span></span><br><span class="line">    &#125;</span><br><span class="line">];</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">''</span>;<span class="comment">//此处如果只写var str;会插入一个undefined</span></span><br><span class="line">$.each(arr,<span class="function"><span class="keyword">function</span>(<span class="params">index,ele</span>)</span>&#123;</span><br><span class="line">    str += <span class="string">' &lt;li&gt;'</span>+ ele.name+<span class="string">','</span>+ ele.age +<span class="string">'&lt;/li&gt;'</span>;  </span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'ul'</span>).append(str);</span><br></pre></td></tr></table></figure>
<p>可以是对象(只是参数换成了，key和value)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    ll: <span class="number">12</span>,</span><br><span class="line">    kk: <span class="number">13</span>,</span><br><span class="line">    nn: <span class="number">14</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">''</span>;</span><br><span class="line">$.each(obj,<span class="function"><span class="keyword">function</span>(<span class="params">key,value</span>)</span>&#123;</span><br><span class="line">    str += <span class="string">' &lt;li&gt;'</span>+ key+<span class="string">','</span>+ value +<span class="string">'&lt;/li&gt;'</span>;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'ul'</span>).append(str);</span><br></pre></td></tr></table></figure>
<p><strong>​    $.merge()</strong></p>
<pre><code>可以合并数组或类数组(将第二个数组合并到第一个数组中)
</code></pre><p>数组合并</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">3</span>, <span class="number">34</span>, <span class="number">9</span>];</span><br><span class="line"><span class="built_in">console</span>.log($.merge(arr1,arr2))</span><br></pre></td></tr></table></figure>
<p>类数组合并</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrlike1 = &#123;</span><br><span class="line">    <span class="number">0</span>:<span class="string">'a'</span>,</span><br><span class="line">    <span class="number">1</span>:<span class="string">'b'</span>,</span><br><span class="line">    <span class="number">2</span>:<span class="string">'c'</span>,</span><br><span class="line">    length:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arrlike2 = &#123;</span><br><span class="line">    <span class="number">0</span>:<span class="string">'a'</span>,</span><br><span class="line">    <span class="number">1</span>:<span class="string">'b'</span>,</span><br><span class="line">    <span class="number">2</span>:<span class="string">'c'</span>,</span><br><span class="line">    length:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log($.merge(arrlike1,arrlike2))</span><br></pre></td></tr></table></figure>
<p>混合合并</p>
<p>$.merge(arr1,arrlike2)  返回的结果是个数组</p>
<p>$.merge(arrlike1,arr2)  返回的结果是个类数组</p>
<h2 id="6-4-noConflict"><a href="#6-4-noConflict" class="headerlink" title="6.4 $.noConflict()"></a>6.4 $.noConflict()</h2><p>$符号并非是jQuery特有的，很多类库都会拿这个$作为全局变量使用。</p>
<p>$.noConflict()的产生就是为了反正冲突。可以将$权限移交出去，那么在jQuery就不好使了，此时使用jQuery。</p>
<p>当$.noConflict(true)，那么在jQuery中$和jQuery都不好使了。</p>
<p>解决办法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> j = $.noConflict(<span class="literal">true</span>);<span class="comment">//此时这个j就相当于$和jQuery一样。</span></span><br></pre></td></tr></table></figure>
<p>注意：var j = $；不算把$给移交出去</p>
<p>当引入的是两个版本的jQuery文件，可以使用移交解决冲突(判断一下移交的是哪个版本的)</p>
<h2 id="6-5-data"><a href="#6-5-data" class="headerlink" title="6.5 $.data()"></a>6.5 $.data()</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"h"</span> <span class="attr">data-name</span>=<span class="string">"lcm"</span> <span class="attr">data-age</span>=<span class="string">18</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>js中获取data-name的方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oWrap = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'wrapper'</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> data = oWrap.dataset;</span><br><span class="line"><span class="built_in">console</span>.log(data.name);</span><br></pre></td></tr></table></figure>
<p>jquery中实例方法获取data-name的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;.wrapper&apos;).click(function()&#123;</span><br><span class="line">    console.log($(this).data(&apos;name&apos;))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>设置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wrap = $(<span class="string">'.wrapper'</span>);</span><br><span class="line"> wrap.data(<span class="string">'age'</span>,<span class="number">23</span>);</span><br><span class="line"><span class="built_in">console</span>.log(wrap.data(<span class="string">'age'</span>))</span><br></pre></td></tr></table></figure>
<p>jquery中工具方法获取data-name的方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$.data(wrapper,<span class="string">'age'</span>,<span class="number">20</span>);</span><br><span class="line"> <span class="built_in">console</span>.log($.data(wrapper.<span class="string">'age'</span>))</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line">$.data(wrapper,&#123;</span><br><span class="line">    age：<span class="number">20</span>,</span><br><span class="line">    name:<span class="string">'aa'</span></span><br><span class="line">&#125;);</span><br><span class="line"> <span class="built_in">console</span>.log($.data(wrapper))不写具体获取哪一个，会全部获取到</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/11/jQuery_2/" data-id="cjshkaua5001omgggx5lglo2j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-this指向问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/10/this指向问题/" class="article-date">
  <time datetime="2018-12-10T08:28:39.000Z" itemprop="datePublished">2018-12-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/this指向知识点总结/">this指向知识点总结</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/10/this指向问题/">this指向总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="复习this"><a href="#复习this" class="headerlink" title="复习this"></a>复习this</h3><p><strong>自己执行的时候this指向</strong>(默认绑定)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">   <span class="keyword">return</span> a+b;</span><br><span class="line">  &#125;</span><br><span class="line"> add(<span class="number">10</span>,<span class="number">20</span>)<span class="comment">//this===window</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">隐士绑定 在一个对象的内部通过属性间接引用函数，从而把this隐士绑定到对象内部属性所指向的函数</span><br><span class="line">显示绑定 需要引用一个对象时进行强制绑定调用，js有提供call()、apply()方法，ES5中也提供了内置的方法 Function.prototype.bind。</span><br></pre></td></tr></table></figure>
<p><strong>隐士this指向变化</strong>  对象方法的调用模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">   name:<span class="string">'aaa'</span>,</span><br><span class="line">   age:<span class="number">20</span>,</span><br><span class="line">   said:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">obj.said();<span class="comment">//this===obj，此处this指代被调用者</span></span><br></pre></td></tr></table></figure>
<p><strong>显示this指向</strong>  call和apply调用模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.detial=a*b;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> p=&#123;&#125;;</span><br><span class="line">  change.call(p,<span class="number">4</span>,<span class="number">5</span>);<span class="comment">//此处的this===p</span></span><br><span class="line">  <span class="built_in">console</span>.log(p.detial);</span><br><span class="line">  <span class="keyword">var</span> q=[];</span><br><span class="line">  change.call(q,<span class="number">5</span>,<span class="number">10</span>)<span class="comment">//this===q</span></span><br><span class="line">  <span class="built_in">console</span>.log(q.detial);</span><br><span class="line">  <span class="comment">//apply和call一样的用法，只不过apply第二个参数用数组进行传递</span></span><br><span class="line">  <span class="keyword">var</span> arr=[];</span><br><span class="line">  change.apply(arr,[<span class="number">10</span>,<span class="number">10</span>]);<span class="comment">//this===arr</span></span><br><span class="line">  <span class="built_in">console</span>.log(arr.detial);</span><br><span class="line">  <span class="keyword">var</span> str=&#123;&#125;;</span><br><span class="line">  change.apply(str,[<span class="number">20</span>,<span class="number">20</span>]);<span class="comment">//this===str</span></span><br><span class="line">  <span class="built_in">console</span>.log(str.detial);</span><br></pre></td></tr></table></figure>
<p><strong>new指向</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">School</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.said=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">var</span> nanj=<span class="keyword">new</span> School();</span><br><span class="line">nanj.said();<span class="comment">//对象调用自己的方法，this===nanj,this在构造函数中指的是实例对象</span></span><br></pre></td></tr></table></figure>
<p>有趣的小插曲</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">P</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">this</span>.name = name,</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="keyword">this</span>.age)<span class="comment">//undefine</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> f1 = <span class="keyword">new</span> P(<span class="string">'cimei'</span>);</span><br><span class="line">      </span><br><span class="line">这个时候会产生一个对象 但是这个对象没有age属性  <span class="keyword">this</span>.age就是<span class="literal">undefined</span>了,test()的时候 没有创建一个对象吧, 也是执行了test()方法 但是<span class="keyword">new</span> 改变了它的<span class="keyword">this</span>指向的</span><br></pre></td></tr></table></figure>
<p>另外自定义构造函数创建对象：</p>
<ol>
<li>在内存中申请一块空闲的空间，存储创建的对象。</li>
<li>this就是当前实例化的对象</li>
<li>设置对象中的属性和方法（为对象添加属性和方法，为属性和方法赋值）</li>
<li>把创建后的对象返回</li>
</ol>
<p>箭头函数的this指向**</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">箭头函数里是没有this指向的，借用的其父级作用域的。</span><br></pre></td></tr></table></figure>
<p><strong>this实例</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//      一、 this指向详解</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//      this的指向在函数定义的时候是确定不了的， 只有函数执行的时候才能确定this到底指向谁， 实际上this的最终指向的是那个调用它的对象（ 这句话不那么严谨， 作为一般情况下是可以的）</span></span><br><span class="line">    <span class="comment">// 情况1：如果一个函数中有this，但是它没有被上一级的对象所调用，那么this指向的就是window，这里需要说明的是在js的严格版中this指向的不是window，但是我们这里不探讨严格版的问题(在严格版中的默认的this不再是window，而是undefined。)</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> user = <span class="string">"剃了胡子"</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.user); <span class="comment">//undefined</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//Window</span></span><br><span class="line">    &#125;</span><br><span class="line">    a(); <span class="comment">//相当于window.a();</span></span><br><span class="line">    <span class="comment">//this最终指向的是调用它的对象，这里的函数a实际是被Window对象所点出来的</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 情况2：如果一个函数中有this，这个函数有被上一级的对象所调用，那么this指向的就是上一级的对象。</span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        user: <span class="string">"剃了胡子"</span>,</span><br><span class="line">        fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.user); <span class="comment">//剃了胡子</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//&#123;user: "剃了胡子", fn: ƒ&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    o.fn(); <span class="comment">//this执行时被它的上一级对象o&#123;user: "剃了胡子", fn: ƒ&#125;调用</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 情况3：如果一个函数中有this，这个函数中包含多个对象，尽管这个函数是被最外层的对象所调用，this指向的也只是它上一级的对象</span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        a: <span class="number">10</span>,</span><br><span class="line">        b: &#123;</span><br><span class="line">            <span class="comment">//a:12,</span></span><br><span class="line">            fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//undefind  有两个对象b和o,所以此this.a指向它的上一级</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        fn1: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//10 </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    o.fn1();</span><br><span class="line">    o.b.fn();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//      另外还有两种种特殊情况：</span></span><br><span class="line">    <span class="comment">//      第一种：当this遇到return</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//剃了胡子</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//剃了胡子</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.user = <span class="string">'剃了胡子'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> fn;</span><br><span class="line">    <span class="built_in">console</span>.log(a.user); <span class="comment">//剃了胡子</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 总结：如果返回值是一个对象，那么this指向的就是那个返回的对象，如果返回值不是一个对象那么this还是指向函数的实例。 </span></span><br><span class="line">    <span class="comment">// 还有一点就是虽然null也是对象，但是在这里this还是指向那个函数的实例，因为null比较特殊。 </span></span><br><span class="line">    <span class="comment">// 第二种：</span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        a: <span class="number">10</span>,</span><br><span class="line">        b: &#123;</span><br><span class="line">            a: <span class="number">12</span>,</span><br><span class="line">            fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//undefined</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//window</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> j = o.b.fn;</span><br><span class="line">    j();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 这里this指向的是window，是不是有些蒙了？其实是因为你没有理解一句话，这句话同样至关重要。</span></span><br><span class="line">    <span class="comment">// 　　this永远指向的是最后调用它的对象，也就是看它执行的时候是谁调用的，例子4中虽然函数fn是被对象b所引用，但是在将fn赋值给变量j的时候并没有执行所以最终指向的是window</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> num =<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        num :<span class="number">0</span>,</span><br><span class="line">        inner:&#123;</span><br><span class="line">            num: <span class="number">6</span>,</span><br><span class="line">            print:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.num);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// num = 88;</span></span><br><span class="line">    obj.inner.print();<span class="comment">//直接执行，此时是对象</span></span><br><span class="line">    <span class="keyword">var</span> fn = obj.inner.print;</span><br><span class="line">    fn();<span class="comment">//上述给的是一个函数，此时执行这个函数的是window</span></span><br><span class="line">    (obj.inner.print)();<span class="comment">//相当于obj.inner.print()，(function)()，自运行匿名函数</span></span><br><span class="line">    (obj.inner.print=obj.inner.print)();<span class="comment">//是一个赋值操作，返回一个函数，再调用这个函数,而此时调用函数的就是window，看到网上的解释很有意思，</span></span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        num: <span class="number">200</span>,</span><br><span class="line">        inner: &#123;</span><br><span class="line">            num: <span class="number">300</span>,</span><br><span class="line">            print: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    obj.inner.print(); <span class="comment">//300</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> func = obj.inner.print;</span><br><span class="line">    func();  <span class="comment">//100</span></span><br><span class="line"></span><br><span class="line">    (obj.inner.print)(); <span class="comment">//300</span></span><br><span class="line"></span><br><span class="line">    (obj.inner.print = obj.inner.print)(); <span class="comment">//100</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>第一个和第三个没有区别，运行的都是obj.inner.print()，里面的<span class="keyword">this</span>指向obj.inner.num</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>第四个</span><br><span class="line">首先你要知道一点，复制操作，会返回所赋的值</span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a = <span class="number">5</span>); <span class="comment">//5</span></span><br><span class="line">所以(obj.inner.print = obj.inner.print)的结果就是一个函数，内容是</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.num);</span><br><span class="line">&#125;</span><br><span class="line">在全局下运行这个函数，里面的<span class="keyword">this</span>指向的就是<span class="built_in">window</span>，所以(obj.inner.print = obj.inner.print)();的结果就是</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.num);</span><br><span class="line">&#125;()</span><br><span class="line"><span class="comment">// 100</span></span><br></pre></td></tr></table></figure>
<p>第二个是一个赋值，赋值后的function仅仅是一个函数引用，这个引用丢失了函数原本所在的上下文信息，所以最终是在全局上下文中运行</p>
<p>第四个为什么不行？原因是因为赋值表达式的<code>副作用</code>：赋值表达式会返回等号右边的值！因此整个赋值表达式的结果是一个函数，这个函数同样丢失了它所在的上下文。因此结果与2一样了。如果把等号换成逗号，会得到同样的结果，因为逗号表达式也有相同的副作用。</p>
<p>再看3，3有什么问题？没问题！因为<code>括！号！没！有！副！作！用</code>！你说它会返回一个表达式，表达式就表达式，whatever，单独看第一个式子的括号前面的部分也是一个表达式，不是吗？</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/10/this指向问题/" data-id="cjshkatxq000vmgggrz1272hf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/git使用总结/"> git使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/">CSS3</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结1/">CSS3知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结2/">CSS3知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS3/CSS3知识总结3/">CSS3知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/">ES6</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记1/">ES6基础知识笔记1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/ES6基础知识笔记2/">ES6基础知识笔记2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/">HTML5</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结1/">HTML5知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结2/">HTML5知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/HTML5知识总结3/">HTML5知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/">jQuery知识点笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结1/">jQuery知识总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结2/">jQuery知识总结2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jQuery知识点笔记/jQuery知识总结3/">jQuery知识总结3</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/js/js进阶1/">js进阶1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/js进阶2/">js进阶2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/sass/">sass</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/this指向知识点总结/">this指向知识点总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack使用总结/">webpack使用总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/">网络知识点总结</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结1/"> 网络基础总结1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络知识点总结/网络基础总结2/"> 网络基础总结2</a></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/02/23/i/">i</a>
          </li>
        
          <li>
            <a href="/2019/01/20/sass语法总结/">sass语法总结笔记</a>
          </li>
        
          <li>
            <a href="/2019/01/15/git使用总结/">git使用总结</a>
          </li>
        
          <li>
            <a href="/2019/01/10/webpack工程化/">webpack使用总结</a>
          </li>
        
          <li>
            <a href="/2018/12/31/网络基础_1/">网络基础总结1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 罗此梅（老小孩）<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>